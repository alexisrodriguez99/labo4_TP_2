var dI=Object.defineProperty,hI=Object.defineProperties,fI=Object.getOwnPropertyDescriptors,Pw=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable,Rw=(bt,Le,L)=>Le in bt?dI(bt,Le,{enumerable:!0,configurable:!0,writable:!0,value:L}):bt[Le]=L,Nw=(bt,Le)=>{for(var L in Le||(Le={}))pI.call(Le,L)&&Rw(bt,L,Le[L]);if(Pw)for(var L of Pw(Le))gI.call(Le,L)&&Rw(bt,L,Le[L]);return bt},kw=(bt,Le)=>hI(bt,fI(Le));(self.webpackChunklabo4_2do_TP=self.webpackChunklabo4_2do_TP||[]).push([[179],{440:(bt,Le,L)=>{"use strict";L.d(Le,{nm:()=>De});var p=L(5813);L(5e3),L(5867);var de=L(5861),Pe=L(9681),Ye=L(4859),at=L(2090),Xe=L(1877);const Z=new Map,He={activated:!1,tokenObservers:[]},te={initialized:!1,enabled:!1};function xe(Ae){return Z.get(Ae)||He}function fe(Ae,ye){Z.set(Ae,ye)}function Re(){return te}class Ht{constructor(ye,Be,tt,yt,Ft){if(this.operation=ye,this.retryPolicy=Be,this.getWaitDuration=tt,this.lowerBound=yt,this.upperBound=Ft,this.pending=null,this.nextErrorWaitInterval=yt,yt>Ft)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ye){var Be=this;return(0,de.Z)(function*(){Be.stop();try{Be.pending=new at.BH,yield function Lt(Ae){return new Promise(ye=>{setTimeout(ye,Ae)})}(Be.getNextRun(ye)),Be.pending.resolve(),yield Be.pending.promise,Be.pending=new at.BH,yield Be.operation(),Be.pending.resolve(),yield Be.pending.promise,Be.process(!0).catch(()=>{})}catch(tt){Be.retryPolicy(tt)?Be.process(!1).catch(()=>{}):Be.stop()}})()}getNextRun(ye){if(ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Be}}}const Tt=new at.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function en(Ae){if(!xe(Ae).activated)throw Tt.create("use-before-activation",{appName:Ae.name})}function sr(Ae,ye){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,de.Z)(function*({url:Ae,body:ye},Be){const tt={"Content-Type":"application/json"},yt=Be.getImmediate({optional:!0});if(yt){const kr=yield yt.getHeartbeatsHeader();kr&&(tt["X-Firebase-Client"]=kr)}const Ft={method:"POST",body:JSON.stringify(ye),headers:tt};let Bn,wr;try{Bn=yield fetch(Ae,Ft)}catch(kr){throw Tt.create("fetch-network-error",{originalErrorMessage:kr.message})}if(200!==Bn.status)throw Tt.create("fetch-status-error",{httpStatus:Bn.status});try{wr=yield Bn.json()}catch(kr){throw Tt.create("fetch-parse-error",{originalErrorMessage:kr.message})}const Dn=wr.ttl.match(/^([\d.]+)(s)$/);if(!Dn||!Dn[2]||isNaN(Number(Dn[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wr.ttl}`});const Oi=1e3*Number(Dn[1]),Ps=Date.now();return{token:wr.token,expireTimeMillis:Ps+Oi,issuedAtTimeMillis:Ps}})).apply(this,arguments)}function or(Ae,ye){const{projectId:Be,appId:tt,apiKey:yt}=Ae.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Be}/apps/${tt}:exchangeDebugToken?key=${yt}`,body:{debug_token:ye}}}const qt="firebase-app-check-store";let zt=null;function Br(){return zt||(zt=new Promise((Ae,ye)=>{try{const Be=indexedDB.open("firebase-app-check-database",1);Be.onsuccess=tt=>{Ae(tt.target.result)},Be.onerror=tt=>{var yt;ye(Tt.create("storage-open",{originalErrorMessage:null===(yt=tt.target.error)||void 0===yt?void 0:yt.message}))},Be.onupgradeneeded=tt=>{0===tt.oldVersion&&tt.target.result.createObjectStore(qt,{keyPath:"compositeKey"})}}catch(Be){ye(Tt.create("storage-open",{originalErrorMessage:Be.message}))}}),zt)}function It(){return(It=(0,de.Z)(function*(Ae,ye){const tt=(yield Br()).transaction(qt,"readwrite"),Ft=tt.objectStore(qt).put({compositeKey:Ae,value:ye});return new Promise((Bn,wr)=>{Ft.onsuccess=Dn=>{Bn()},tt.onerror=Dn=>{var Oi;wr(Tt.create("storage-set",{originalErrorMessage:null===(Oi=Dn.target.error)||void 0===Oi?void 0:Oi.message}))}})})).apply(this,arguments)}const dr=new Xe.Yd("@firebase/app-check");function vr(Ae,ye){return(0,at.hl)()?function Cr(Ae,ye){return function qn(Ae,ye){return It.apply(this,arguments)}(function ar(Ae){return`${Ae.options.appId}-${Ae.name}`}(Ae),ye)}(Ae,ye).catch(Be=>{dr.warn(`Failed to write token to IndexedDB. Error: ${Be}`)}):Promise.resolve()}function _e(){return Re().enabled}function Ee(){return it.apply(this,arguments)}function it(){return(it=(0,de.Z)(function*(){const Ae=Re();if(Ae.enabled&&Ae.token)return Ae.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Oe={error:"UNKNOWN_ERROR"};function ut(Ae){return at.US.encodeString(JSON.stringify(Ae),!1)}function St(Ae){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,de.Z)(function*(Ae,ye=!1){const Be=Ae.app;en(Be);const tt=xe(Be);let Ft,yt=tt.token;if(!yt){const Dn=yield tt.cachedTokenPromise;Dn&&fi(Dn)&&(yt=Dn)}if(!ye&&yt&&fi(yt))return{token:yt.token};let wr,Bn=!1;if(_e()){tt.exchangeTokenPromise||(tt.exchangeTokenPromise=sr(or(Be,yield Ee()),Ae.heartbeatServiceProvider).then(Oi=>(tt.exchangeTokenPromise=void 0,Oi)),Bn=!0);const Dn=yield tt.exchangeTokenPromise;return yield vr(Be,Dn),fe(Be,Object.assign(Object.assign({},tt),{token:Dn})),{token:Dn.token}}try{tt.exchangeTokenPromise||(tt.exchangeTokenPromise=tt.provider.getToken().then(Dn=>(tt.exchangeTokenPromise=void 0,Dn)),Bn=!0),yt=yield tt.exchangeTokenPromise}catch(Dn){"appCheck/throttled"===Dn.code?dr.warn(Dn.message):dr.error(Dn),Ft=Dn}return yt?(wr={token:yt.token},fe(Be,Object.assign(Object.assign({},tt),{token:yt})),yield vr(Be,yt)):wr=Ir(Ft),Bn&&Ar(Be,wr),wr})).apply(this,arguments)}function $n(Ae,ye){const Be=xe(Ae),tt=Be.tokenObservers.filter(yt=>yt.next!==ye);0===tt.length&&Be.tokenRefresher&&Be.tokenRefresher.isRunning()&&Be.tokenRefresher.stop(),fe(Ae,Object.assign(Object.assign({},Be),{tokenObservers:tt}))}function Jt(Ae){const{app:ye}=Ae,Be=xe(ye);let tt=Be.tokenRefresher;tt||(tt=function hr(Ae){const{app:ye}=Ae;return new Ht((0,de.Z)(function*(){let tt;if(tt=xe(ye).token?yield St(Ae,!0):yield St(Ae),tt.error)throw tt.error}),()=>!0,()=>{const Be=xe(ye);if(Be.token){let tt=Be.token.issuedAtTimeMillis+.5*(Be.token.expireTimeMillis-Be.token.issuedAtTimeMillis)+3e5;return tt=Math.min(tt,Be.token.expireTimeMillis-3e5),Math.max(0,tt-Date.now())}return 0},3e4,96e4)}(Ae),fe(ye,Object.assign(Object.assign({},Be),{tokenRefresher:tt}))),!tt.isRunning()&&Be.isTokenAutoRefreshEnabled&&tt.start()}function Ar(Ae,ye){const Be=xe(Ae).tokenObservers;for(const tt of Be)try{"EXTERNAL"===tt.type&&null!=ye.error?tt.error(ye.error):tt.next(ye)}catch(yt){}}function fi(Ae){return Ae.expireTimeMillis-Date.now()>0}function Ir(Ae){return{token:ut(Oe),error:Ae}}class Sr{constructor(ye,Be){this.app=ye,this.heartbeatServiceProvider=Be}_delete(){const{tokenObservers:ye}=xe(this.app);for(const Be of ye)$n(this.app,Be.next);return Promise.resolve()}}const Kr="app-check-internal";!function pe(){(0,Pe._registerComponent)(new Ye.wA("app-check",Ae=>function fn(Ae,ye){return new Sr(Ae,ye)}(Ae.getProvider("app").getImmediate(),Ae.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ae,ye,Be)=>{Ae.getProvider(Kr).initialize()})),(0,Pe._registerComponent)(new Ye.wA(Kr,Ae=>function Kn(Ae){return{getToken:ye=>St(Ae,ye),addTokenListener:ye=>function $t(Ae,ye,Be,tt){const{app:yt}=Ae,Ft=xe(yt),Bn={next:Be,error:tt,type:ye};if(fe(yt,Object.assign(Object.assign({},Ft),{tokenObservers:[...Ft.tokenObservers,Bn]})),Ft.token&&fi(Ft.token)){const wr=Ft.token;Promise.resolve().then(()=>{Be({token:wr.token}),Jt(Ae)}).catch(()=>{})}Ft.cachedTokenPromise.then(()=>Jt(Ae))}(Ae,"INTERNAL",ye),removeTokenListener:ye=>$n(Ae.app,ye)}}(Ae.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.registerVersion)("@firebase/app-check","0.5.8")}();class De{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(bt,Le,L)=>{"use strict";L.d(Le,{zQ:()=>Ve,rT:()=>te,f7:()=>fe,L6:()=>Z,_Q:()=>He,lh:()=>xe,Qv:()=>Xe,nw:()=>Re});var p=L(5e3),k=L(7579),Y=L(9646),Ie=L(8306),we=L(8996),ve=L(6451),Me=L(6063);class Te extends k.x{constructor(Vt=1/0,Ut=1/0,nt=Me.l){super(),this._bufferSize=Vt,this._windowTime=Ut,this._timestampProvider=nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ut===1/0,this._bufferSize=Math.max(1,Vt),this._windowTime=Math.max(1,Ut)}next(Vt){const{isStopped:Ut,_buffer:nt,_infiniteTimeWindow:Ht,_timestampProvider:Lt,_windowTime:on}=this;Ut||(nt.push(Vt),!Ht&&nt.push(Lt.now()+on)),this._trimBuffer(),super.next(Vt)}_subscribe(Vt){this._throwIfClosed(),this._trimBuffer();const Ut=this._innerSubscribe(Vt),{_infiniteTimeWindow:nt,_buffer:Ht}=this,Lt=Ht.slice();for(let on=0;on<Lt.length&&!Vt.closed;on+=nt?1:2)Vt.next(Lt[on]);return this._checkFinalizedStatuses(Vt),Ut}_trimBuffer(){const{_bufferSize:Vt,_timestampProvider:Ut,_buffer:nt,_infiniteTimeWindow:Ht}=this,Lt=(Ht?1:2)*Vt;if(Vt<1/0&&Lt<nt.length&&nt.splice(0,nt.length-Lt),!Ht){const on=Ut.now();let Tt=0;for(let rn=1;rn<nt.length&&nt[rn]<=on;rn+=2)Tt=rn;Tt&&nt.splice(0,Tt+1)}}}var ke=L(3099);function ue(_t,Vt,Ut){let nt,Ht=!1;return _t&&"object"==typeof _t?({bufferSize:nt=1/0,windowTime:Vt=1/0,refCount:Ht=!1,scheduler:Ut}=_t):nt=null!=_t?_t:1/0,(0,ke.B)({connector:()=>new Te(nt,Vt,Ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ht})}var ne=L(3900),ge=L(576);function rt(_t,Vt){return(0,ge.m)(Vt)?(0,ne.w)(()=>_t,Vt):(0,ne.w)(()=>_t)}var je=L(5363),Qe=L(4004),pt=L(590),$e=L(9468),Je=L(9300),vt=L(5813),Ct=L(2011),de=L(9808),Pe=L(440);L(127);const Xe=new p.OlP("angularfire2.auth.use-emulator"),Z=new p.OlP("angularfire2.auth.settings"),He=new p.OlP("angularfire2.auth.tenant-id"),te=new p.OlP("angularfire2.auth.langugage-code"),xe=new p.OlP("angularfire2.auth.use-device-language"),fe=new p.OlP("angularfire.auth.persistence"),Re=(_t,Vt,Ut,nt,Ht,Lt,on,Tt)=>(0,Ct.cc)(`${_t.name}.auth`,"AngularFireAuth",_t.name,()=>{const rn=Vt.runOutsideAngular(()=>_t.auth());if(Ut&&rn.useEmulator(...Ut),nt&&(rn.tenantId=nt),rn.languageCode=Ht,Lt&&rn.useDeviceLanguage(),on)for(const[en,dn]of Object.entries(on))rn.settings[en]=dn;return Tt&&rn.setPersistence(Tt),rn},[Ut,nt,Ht,Lt,on,Tt]);let Ve=(()=>{class _t{constructor(Ut,nt,Ht,Lt,on,Tt,rn,en,dn,Fn,Pn,sr){const Ln=new k.x,Jn=(0,Y.of)(void 0).pipe((0,je.Q)(on.outsideAngular),(0,ne.w)(()=>Lt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8775)))),(0,Qe.U)(()=>(0,Ct.on)(Ut,Lt,nt)),(0,Qe.U)(Xn=>Re(Xn,Lt,Tt,en,dn,Fn,rn,Pn)),ue({bufferSize:1,refCount:!1}));if((0,de.PM)(Ht))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Y.of)(null);else{Jn.pipe((0,pt.P)()).subscribe();const or=Jn.pipe((0,ne.w)(qt=>qt.getRedirectResult().then(vn=>vn,()=>null)),vt.iC,ue({bufferSize:1,refCount:!1})),Tn=Jn.pipe((0,ne.w)(qt=>new Ie.y(vn=>({unsubscribe:Lt.runOutsideAngular(()=>qt.onAuthStateChanged(zt=>vn.next(zt),zt=>vn.error(zt),()=>vn.complete()))})))),Nt=Jn.pipe((0,ne.w)(qt=>new Ie.y(vn=>({unsubscribe:Lt.runOutsideAngular(()=>qt.onIdTokenChanged(zt=>vn.next(zt),zt=>vn.error(zt),()=>vn.complete()))}))));this.authState=or.pipe(rt(Tn),(0,$e.R)(on.outsideAngular),(0,je.Q)(on.insideAngular)),this.user=or.pipe(rt(Nt),(0,$e.R)(on.outsideAngular),(0,je.Q)(on.insideAngular)),this.idToken=this.user.pipe((0,ne.w)(qt=>qt?(0,we.D)(qt.getIdToken()):(0,Y.of)(null))),this.idTokenResult=this.user.pipe((0,ne.w)(qt=>qt?(0,we.D)(qt.getIdTokenResult()):(0,Y.of)(null))),this.credential=(0,ve.T)(or,Ln,this.authState.pipe((0,Je.h)(qt=>!qt))).pipe((0,Qe.U)(qt=>(null==qt?void 0:qt.user)?qt:null),(0,$e.R)(on.outsideAngular),(0,je.Q)(on.insideAngular))}return(0,Ct.pX)(this,Jn,Lt,{spy:{apply:(Xn,or,Tn)=>{(Xn.startsWith("signIn")||Xn.startsWith("createUser"))&&Tn.then(Nt=>Ln.next(Nt))}}})}}return _t.\u0275fac=function(Ut){return new(Ut||_t)(p.LFG(Ct.Dh),p.LFG(Ct.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(vt.HU),p.LFG(Xe,8),p.LFG(Z,8),p.LFG(He,8),p.LFG(te,8),p.LFG(xe,8),p.LFG(fe,8),p.LFG(Pe.nm,8))},_t.\u0275prov=p.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"any"}),_t})()},7566:(bt,Le,L)=>{"use strict";L.d(Le,{ST:()=>Lc,yb:()=>Nd});var p=L(5e3),k=L(4986),Y=L(8306),Ie=L(8996),we=L(9646),ve=L(5813),Me=L(4482),Te=L(5403);function ke(){return(0,Me.e)((i,e)=>{let t,o=!1;i.subscribe((0,Te.x)(e,u=>{const d=t;t=u,o&&e.next([d,u]),o=!0}))})}var ue=L(4671);function ge(i,e){return i===e}var te,rt=L(8675),je=L(4004),Qe=L(5026),pt=L(9300),$e=L(2011),Je=L(9808),Ct=(L(8775),L(3942)),de=L(5861),Pe=L(9681),Ye=L(4859),at=L(1877),Xe=L(2090),Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},He={},xe=xe||{},fe=Z||self;function Re(){}function Ve(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function lt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Vt="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function nt(i,e,t){return i.call.apply(i.bind,arguments)}function Ht(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Lt(i,e,t){return(Lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:Ht).apply(null,arguments)}function on(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Tt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var m=Array(arguments.length-2),D=2;D<arguments.length;D++)m[D-2]=arguments[D];return e.prototype[u].apply(o,m)}}function rn(){this.s=this.s,this.o=this.o}var dn={};rn.prototype.s=!1,rn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function _t(i){return Object.prototype.hasOwnProperty.call(i,Vt)&&i[Vt]||(i[Vt]=++Ut)}(this);delete dn[i]}},rn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Pn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in u&&e.call(t,u[d],d,i)};function Ln(i){return Array.prototype.concat.apply([],arguments)}function Jn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Xn(i){return/^[\s\xa0]*$/.test(i)}var qt,or=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Tn(i,e){return-1!=i.indexOf(e)}function Nt(i,e){return i<e?-1:i>e?1:0}e:{var vn=fe.navigator;if(vn){var zt=vn.userAgent;if(zt){qt=zt;break e}}qt=""}function Br(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function zr(i){const e={};for(const t in i)e[t]=i[t];return e}var Cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<Cr.length;d++)t=Cr[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Wn(i){return Wn[" "](i),i}Wn[" "]=Re;var vr,i,It=Tn(qt,"Opera"),wt=Tn(qt,"Trident")||Tn(qt,"MSIE"),At=Tn(qt,"Edge"),ar=At||wt,dr=Tn(qt,"Gecko")&&!(Tn(qt.toLowerCase(),"webkit")&&!Tn(qt,"Edge"))&&!(Tn(qt,"Trident")||Tn(qt,"MSIE"))&&!Tn(qt,"Edge"),hn=Tn(qt.toLowerCase(),"webkit")&&!Tn(qt,"Edge");function Ai(){var i=fe.document;return i?i.documentMode:void 0}e:{var Hn="",ce=(i=qt,dr?/rv:([^\);]+)(\)|;)/.exec(i):At?/Edge\/([\d\.]+)/.exec(i):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hn?/WebKit\/(\S+)/.exec(i):It?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ce&&(Hn=ce?ce[1]:""),wt){var _e=Ai();if(null!=_e&&_e>parseFloat(Hn)){vr=String(_e);break e}}vr=Hn}var Ee={};var ut=fe.document&&wt&&(Ai()||parseInt(vr,10))||void 0,St=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{fe.addEventListener("test",Re,e),fe.removeEventListener("test",Re,e)}catch(t){}return i}();function Ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $t(i,e){if(Ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(dr){e:{try{Wn(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:$n[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.Z.h.call(this)}}Ot.prototype.h=function(){this.defaultPrevented=!0},Tt($t,Ot);var $n={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),hr=0;function Ar(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++hr,this.ca=this.fa=!1}function fi(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ir(i){this.src=i,this.g={},this.h=0}function Sr(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=Fn(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(fi(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function fn(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return u}return-1}Ir.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=fn(i,e,o,u);return-1<m?(e=i[m],t||(e.fa=!1)):((e=new Ar(e,this.src,d,!!o,u)).fa=t,i.push(e)),e};var Kn="closure_lm_"+(1e6*Math.random()|0),_r={};function xr(i,e,t,o,u){if(o&&o.once)return Ui(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)xr(i,e[d],t,o,u);return null}return t=Et(t),i&&i[Jt]?i.N(e,t,lt(o)?!!o.capture:!!o,u):fr(i,e,t,!1,o,u)}function fr(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var m=lt(u)?!!u.capture:!!u,D=ti(i);if(D||(i[Kn]=D=new Ir(i)),(t=D.add(e,t,o,m,d)).proxy)return t;if(o=function Mr(){var e=ur;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)St||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Or(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Ui(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ui(i,e[d],t,o,u);return null}return t=Et(t),i&&i[Jt]?i.O(e,t,lt(o)?!!o.capture:!!o,u):fr(i,e,t,!0,o,u)}function jr(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)jr(i,e[d],t,o,u);else o=lt(o)?!!o.capture:!!o,t=Et(t),i&&i[Jt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=fn(d=i.g[e],t,o,u))&&(fi(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=ti(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fn(e,t,o,u)),(t=-1<i?e[i]:null)&&Hr(t))}function Hr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Jt])Sr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Or(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ti(e))?(Sr(t,i),0==t.h&&(t.src=null,e[Kn]=null)):fi(i)}}}function Or(i){return i in _r?_r[i]:_r[i]="on"+i}function ur(i,e){if(i.ca)i=!0;else{e=new $t(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Hr(i),i=t.call(o,e)}return i}function ti(i){return(i=i[Kn])instanceof Ir?i:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(i){return"function"==typeof i?i:(i[Yt]||(i[Yt]=function(e){return i.handleEvent(e)}),i[Yt])}function Dt(){rn.call(this),this.i=new Ir(this),this.P=this,this.I=null}function an(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ot(e,i);else if(e instanceof Ot)e.target=e.target||i;else{var u=e;tn(e=new Ot(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];u=er(m,o,!0,e)&&u}if(u=er(m=e.g=i,o,!0,e)&&u,u=er(m,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=er(m=e.g=t[d],o,!1,e)&&u}function er(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ca&&m.capture==t){var D=m.listener,B=m.ia||m.src;m.fa&&Sr(i.i,m),u=!1!==D.call(B,o)&&u}}return u&&!o.defaultPrevented}Tt(Dt,rn),Dt.prototype[Jt]=!0,Dt.prototype.removeEventListener=function(i,e,t,o){jr(this,i,e,t,o)},Dt.prototype.M=function(){if(Dt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)fi(t[o]);delete i.g[e],i.h--}}this.I=null},Dt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Dt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Wr=fe.JSON.stringify;function tr(){var i=Kr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ni,Sn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new qr,i=>i.reset());class qr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gn(i){fe.setTimeout(()=>{throw i},0)}function Wt(i,e){ni||function yi(){var i=fe.Promise.resolve(void 0);ni=function(){i.then(pe)}}(),Si||(ni(),Si=!0),Kr.add(i,e)}var Si=!1,Kr=new class $r{constructor(){this.h=this.g=null}add(e,t){const o=Sn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function pe(){for(var i;i=tr();){try{i.h.call(i.g)}catch(t){Gn(t)}var e=Sn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Si=!1}function ae(i,e){Dt.call(this),this.h=i||1,this.g=e||fe,this.j=Lt(this.kb,this),this.l=Date.now()}function X(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function De(i,e,t){if("function"==typeof i)t&&(i=Lt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Lt(i.handleEvent,i)}return 2147483647<Number(e)?-1:fe.setTimeout(i,e||0)}function Ne(i){i.g=De(()=>{i.g=null,i.i&&(i.i=!1,Ne(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Tt(ae,Dt),(te=ae.prototype).da=!1,te.S=null,te.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(X(this),this.start()))}},te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){ae.Z.M.call(this),X(this),delete this.g};class xt extends rn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ne(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(i){rn.call(this),this.h=i,this.g={}}Tt(sn,rn);var An=[];function Zn(i,e,t,o){Array.isArray(t)||(t&&(An[0]=t.toString()),t=An);for(var u=0;u<t.length;u++){var d=xr(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Zr(i){Br(i.g,function(e,t){this.g.hasOwnProperty(t)&&Hr(e)},i),i.g={}}function Dr(){this.g=!0}function Mi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function us(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return Wr(t)}catch(D){return e}}(i,t)+(o?" "+o:"")})}sn.prototype.M=function(){sn.Z.M.call(this),Zr(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dr.prototype.Aa=function(){this.g=!1},Dr.prototype.info=function(){};var Yn={},vi=null;function ls(){return vi=vi||new Dt}function Ae(i){Ot.call(this,Yn.Ma,i)}function ye(i){const e=ls();an(e,new Ae(e,i))}function Be(i,e){Ot.call(this,Yn.STAT_EVENT,i),this.stat=e}function tt(i){const e=ls();an(e,new Be(e,i))}function yt(i,e){Ot.call(this,Yn.Na,i),this.size=e}function Ft(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){i()},e)}Yn.Ma="serverreachability",Tt(Ae,Ot),Yn.STAT_EVENT="statevent",Tt(Be,Ot),Yn.Na="timingevent",Tt(yt,Ot);var Bn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dn(){}function Ps(){}Dn.prototype.h=null;var cs,kr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rs(){Ot.call(this,"d")}function Yi(){Ot.call(this,"c")}function _s(){}function ws(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new sn(this),this.P=ds,this.W=new ae(i=ar?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fr}function Fr(){this.i=null,this.g="",this.h=!1}Tt(Rs,Ot),Tt(Yi,Ot),Tt(_s,Dn),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},cs=new _s;var ds=45e3,Pi={},ji={};function Ns(i,e,t){i.K=1,i.v=Gt(G(e)),i.s=t,i.U=!0,Qi(i,null)}function Qi(i,e){i.F=Date.now(),Gr(i),i.A=G(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),N(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Fr,i.g=Po(i.l,t?e:null,!i.s),0<i.O&&(i.L=new xt(Lt(i.Ia,i,i.g),i.O)),Zn(i.V,i.g,"readystatechange",i.gb),e=i.H?zr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ye(1),function xi(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var m="",D=d.split("&"),B=0;B<D.length;B++){var z=D[B].split("=");if(1<z.length){var oe=z[0];z=z[1];var Ce=oe.split("_");m=2<=Ce.length&&"type"==Ce[1]?m+(oe+"=")+z+"&":m+(oe+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Xs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ri(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Es(i,t),u==ji){4==e&&(i.o=4,tt(14),o=!1),Mi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Pi){i.o=4,tt(15),Mi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Mi(i.j,i.m,u,null),js(i,u)}Xs(i)&&u!=ji&&u!=Pi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,tt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Un(e),e.L=!0,tt(11))):(Mi(i.j,i.m,t,"[Invalid Chunked Response]"),pr(i),Qr(i))}function Es(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ji:(t=Number(e.substring(t,o)),isNaN(t)?Pi:(o+=1)+t>e.length?ji:(e=e.substr(o,t),i.C=o+t,e))}function Gr(i){i.Y=Date.now()+i.P,eo(i,i.P)}function eo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ft(Lt(i.eb,i),e)}function Yr(i){i.B&&(fe.clearTimeout(i.B),i.B=null)}function Qr(i){0==i.l.G||i.I||As(i.l,i)}function pr(i){Yr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,X(i.W),Zr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function js(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ui(t.i,i)))if(t.I=i.N,!i.J&&ui(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ft(Lt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Ho(t),Rr(t)}Gs(t),tt(18)}if(1>=Rn(t.i)&&t.ka){try{t.ka()}catch(z){}t.ka=void 0}}else Tr(t,11)}else if((i.J||t.g==i)&&Ho(t),!Xn(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(t.U=z[0],z=z[1],2==t.G)if("c"==z[0]){t.J=z[1],t.la=z[2];const oe=z[3];null!=oe&&(t.ma=oe,t.h.info("VER="+t.ma));const Ce=z[4];null!=Ce&&(t.za=Ce,t.h.info("SVER="+t.za));const Ke=z[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(t.K=o=1.5*Ke,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const dt=i.g;if(dt){const ft=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var d=o.i;!d.g&&(Tn(ft,"spdy")||Tn(ft,"quic")||Tn(ft,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ki(d,d.h),d.h=null))}if(o.D){const Zt=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zt&&(o.sa=Zt,Ze(o.F,o.D,Zt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=i;if((o=t).oa=xs(o,o.H?o.la:null,o.W),m.J){li(o.i,m);var D=m,B=o.K;B&&D.setTimeout(B),D.B&&(Yr(D),Gr(D)),o.g=m}else Ts(o);0<t.l.length&&Ua(t)}else"stop"!=z[0]&&"close"!=z[0]||Tr(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Tr(t,7):io(t):"noop"!=z[0]&&t.j&&t.j.wa(z),t.A=0)}ye(4)}catch(z){}}function Is(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ve(i)||"string"==typeof i)Pn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ve(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function bs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ve(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}}function Ri(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ri)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Ni(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Jr(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Jr(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Jr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(te=ws.prototype).setTimeout=function(i){this.P=i},te.gb=function(i){i=i.target;const e=this.L;e&&3==Ds(i)?e.l():this.Ia(i)},te.Ia=function(i){try{if(i==this.g)e:{const oe=Ds(this.g);var e=this.g.Da();const Ce=this.g.ba();if(!(3>oe)&&(3!=oe||ar||this.g&&(this.h.h||this.g.ga()||na(this.g)))){this.I||4!=oe||7==e||ye(8==e||0>=Ce?3:2),Yr(this);var t=this.g.ba();this.N=t;t:if(Xs(this)){var o=na(this.g);i="";var u=o.length,d=4==Ds(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pr(this),Qr(this);var m="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function Bi(i,e,t,o,u,d,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,oe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var D,B=this.g;if((D=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xn(D)){var z=D;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,tt(12),pr(this),Qr(this);break e}Mi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,js(this,t)}this.U?(ri(this,oe,m),ar&&this.i&&3==oe&&(Zn(this.V,this.W,"tick",this.fb),this.W.start())):(Mi(this.j,this.m,m,null),js(this,m)),4==oe&&pr(this),this.i&&!this.I&&(4==oe?As(this.l,this):(this.i=!1,Gr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,tt(12)):(this.o=0,tt(13)),pr(this),Qr(this)}}}catch(oe){}},te.fb=function(){if(this.g){var i=Ds(this.g),e=this.g.ga();this.C<e.length&&(Yr(this),ri(this,i,e),this.i&&4!=i&&Gr(this))}},te.cancel=function(){this.I=!0,pr(this)},te.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Bs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ye(3),tt(17)),pr(this),this.o=2,Qr(this)):eo(this,this.Y-i)},(te=Ri.prototype).R=function(){Ni(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},te.T=function(){return Ni(this),this.g.concat()},te.get=function(i,e){return Jr(this.h,i)?this.h[i]:e},te.set=function(i,e){Jr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},te.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],d=this.get(u);i.call(e,d,u,this)}};var mo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function P(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof P){this.g=void 0!==e?e:i.g,O(this,i.j),this.s=i.s,Q(this,i.i),me(this,i.m),this.l=i.l,e=i.h;var t=new ii;t.i=e.i,e.g&&(t.g=new Ri(e.g),t.h=e.h),ze(this,t),this.o=i.o}else i&&(t=String(i).match(mo))?(this.g=!!e,O(this,t[1]||"",!0),this.s=pn(t[2]||""),Q(this,t[3]||"",!0),me(this,t[4]),this.l=pn(t[5]||"",!0),ze(this,t[6]||"",!0),this.o=pn(t[7]||"")):(this.g=!!e,this.h=new ii(null,this.g))}function G(i){return new P(i)}function O(i,e,t){i.j=t?pn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Q(i,e,t){i.i=t?pn(e,!0):e}function me(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ze(i,e,t){e instanceof ii?(i.h=e,function S(i,e){e&&!i.j&&(Ji(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(hs(this,o),N(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Cn(e,wi)),i.h=new ii(e,i.g))}function Ze(i,e,t){i.h.set(e,t)}function Gt(i){return Ze(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function pn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Cn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,lr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function lr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}P.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Cn(e,jn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Cn(e,jn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Cn(t,"/"==t.charAt(0)?_i:gr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Cn(t,cn)),i.join("")};var jn=/[#\/\?@]/g,gr=/[#\?:]/g,_i=/[#\?]/g,wi=/[#\?@]/g,cn=/#/g;function ii(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ji(i){i.g||(i.g=new Ri,i.h=0,i.i&&function nr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hs(i,e){Ji(i),e=M(i,e),Jr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Jr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ni(i)))}function to(i,e){return Ji(i),e=M(i,e),Jr(i.g.h,e)}function N(i,e,t){hs(i,e),0<t.length&&(i.i=null,i.g.set(M(i,e),Jn(t)),i.h+=t.length)}function M(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function he(i){this.l=i||ct,i=fe.PerformanceNavigationTiming?0<(i=fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(fe.g&&fe.g.Ea&&fe.g.Ea()&&fe.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=ii.prototype).add=function(i,e){Ji(this),this.i=null,i=M(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},te.forEach=function(i,e){Ji(this),this.g.forEach(function(t,o){Pn(t,function(u){i.call(e,u,o,this)},this)},this)},te.T=function(){Ji(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],d=0;d<u.length;d++)t.push(e[o]);return t},te.R=function(i){Ji(this);var e=[];if("string"==typeof i)to(this,i)&&(e=Ln(e,this.g.get(M(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Ln(e,i[t])}return e},te.set=function(i,e){return Ji(this),this.i=null,to(this,i=M(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},te.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var m=u;""!==o[d]&&(m+="="+encodeURIComponent(String(o[d]))),i.push(m)}}return this.i=i.join("&")};var ct=10;function Nn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Rn(i){return i.h?1:i.g?i.g.size:0}function ui(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ki(i,e){i.g?i.g.add(e):i.h=e}function li(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function fs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Jn(i.i)}function yo(){}function Fa(){this.g=new yo}function La(i,e,t){const o=t||"";try{Is(i,function(u,d){let m=u;lt(u)&&(m=Wr(u)),e.push(o+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Cs(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function ci(i){this.l=i.$b||null,this.j=i.ib||!1}function Hi(i,e){Dt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}he.prototype.cancel=function(){if(this.i=fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},yo.prototype.stringify=function(i){return fe.JSON.stringify(i,void 0)},yo.prototype.parse=function(i){return fe.JSON.parse(i,void 0)},Tt(ci,Dn),ci.prototype.g=function(){return new Hi(this.l,this.j)},ci.prototype.i=function(i){return function(){return i}}({}),Tt(Hi,Dt);var So=0;function Hs(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Fi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,no(i)}function no(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(te=Hi.prototype).open=function(i,e){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,no(this)},te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||fe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=So},te.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==fe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hs(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},te.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Fi(this):no(this),3==this.readyState&&Hs(this)}},te.Ua=function(i){this.g&&(this.response=this.responseText=i,Fi(this))},te.Ta=function(i){this.g&&(this.response=i,Fi(this))},te.ha=function(){this.g&&Fi(this)},te.setRequestHeader=function(i,e){this.v.append(i,e)},te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xo=fe.JSON.parse;function Pr(i){Dt.call(this),this.headers=new Ri,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xo,this.K=this.L=!1}Tt(Pr,Dt);var Xo="",Uo=/^https?$/i,Mo=["POST","PUT"];function ta(i){return"content-type"==i.toLowerCase()}function vo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,_o(i),wo(i)}function _o(i){i.D||(i.D=!0,an(i,"complete"),an(i,"error"))}function ks(i){if(i.h&&void 0!==xe&&(!i.C[1]||4!=Ds(i)||2!=i.ba()))if(i.v&&4==Ds(i))De(i.Fa,0,i);else if(an(i,"readystatechange"),4==Ds(i)){i.h=!1;try{const D=i.ba();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===D){var u=String(i.H).match(mo)[1]||null;if(!u&&fe.self&&fe.self.location){var d=fe.self.location.protocol;u=d.substr(0,d.length-1)}o=!Uo.test(u?u.toLowerCase():"")}t=o}if(t)an(i,"complete"),an(i,"success");else{i.m=6;try{var m=2<Ds(i)?i.g.statusText:""}catch(B){m=""}i.j=m+" ["+i.ba()+"]",_o(i)}}finally{wo(i)}}}function wo(i,e){if(i.g){ro(i);const t=i.g,o=i.C[0]?Re:null;i.g=null,i.C=null,e||an(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function ro(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(fe.clearTimeout(i.A),i.A=null)}function Ds(i){return i.g?i.g.readyState:0}function na(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Xo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ma(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Fs(i){let e="";return Br(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ze(i,e,t))}function $s(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Li(i){this.za=0,this.l=[],this.h=new Dr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$s("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$s("baseRetryDelayMs",5e3,i),this.$a=$s("retryDelaySeedMs",1e4,i),this.Ya=$s("forwardChannelMaxRetries",2,i),this.ra=$s("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new he(i&&i.concurrentRequestLimit),this.Ca=new Fa,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function io(i){if(Bo(i),3==i.G){var e=i.V++,t=G(i.F);Ze(t,"SID",i.J),Ze(t,"RID",e),Ze(t,"TYPE","terminate"),jo(i,t),(e=new ws(i,i.h,e,void 0)).K=2,e.v=Gt(G(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon&&(t=fe.navigator.sendBeacon(e.v.toString(),"")),!t&&fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Po(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gr(e)}Eo(i)}function Rr(i){i.g&&(Un(i),i.g.cancel(),i.g=null)}function Bo(i){Rr(i),i.u&&(fe.clearTimeout(i.u),i.u=null),Ho(i),i.i.cancel(),i.m&&("number"==typeof i.m&&fe.clearTimeout(i.m),i.m=null)}function Va(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ua(i)}function Ua(i){Nn(i.i)||i.m||(i.m=!0,Wt(i.Ha,i),i.C=0)}function Ba(i,e){var t;t=e?e.m:i.V++;const o=G(i.F);Ze(o,"SID",i.J),Ze(o,"RID",t),Ze(o,"AID",i.U),jo(i,o),i.o&&i.s&&ma(o,i.o,i.s),t=new ws(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=so(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ki(i.i,t),Ns(t,o,e)}function jo(i,e){i.j&&Is({},function(t,o){Ze(e,o,t)})}function so(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Lt(i.j.Oa,i.j,i):null;e:{var u=i.l;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let D=!0;for(let B=0;B<t;B++){let z=u[B].h;const oe=u[B].g;if(z-=d,0>z)d=Math.max(0,u[B].h-100),D=!1;else try{La(oe,m,"req"+z+"_")}catch(Ce){o&&o(oe)}}if(D){o=m.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Ts(i){i.g||i.u||(i.Y=1,Wt(i.Ga,i),i.A=0)}function Gs(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ft(Lt(i.Ga,i),Ss(i,i.A)),i.A++,0))}function Un(i){null!=i.B&&(fe.clearTimeout(i.B),i.B=null)}function Oo(i){i.g=new ws(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=G(i.oa);Ze(e,"RID","rpc"),Ze(e,"SID",i.J),Ze(e,"CI",i.N?"0":"1"),Ze(e,"AID",i.U),jo(i,e),Ze(e,"TYPE","xmlhttp"),i.o&&i.s&&ma(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Gt(G(e)),t.s=null,t.U=!0,Qi(t,i)}function Ho(i){null!=i.v&&(fe.clearTimeout(i.v),i.v=null)}function As(i,e){var t=null;if(i.g==e){Ho(i),Un(i),i.g=null;var o=2}else{if(!ui(i.i,e))return;t=e.D,li(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;an(o=ls(),new yt(o,t,e,u)),Ua(i)}else Ts(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function ya(i,e){return!(Rn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ft(Lt(i.Ha,i,e),Ss(i,i.C)),i.C++,0)))}(i,e)||2==o&&Gs(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:Tr(i,5);break;case 4:Tr(i,10);break;case 3:Tr(i,6);break;default:Tr(i,2)}}function Ss(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Tr(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Lt(i.jb,i);t||(t=new P("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||O(t,"https"),Gt(t)),function ku(i,e){const t=new Dr;if(fe.Image){const o=new Image;o.onload=on(Cs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=on(Cs,t,o,"TestLoadImage: error",!1,e),o.onabort=on(Cs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=on(Cs,t,o,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else tt(2);i.G=0,i.j&&i.j.va(e),Eo(i),Bo(i)}function Eo(i){i.G=0,i.I=-1,i.j&&((0!=fs(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Jn(i.l),i.l.length=0),i.j.ua())}function xs(i,e,t){let o=function mn(i){return i instanceof P?G(i):new P(i,void 0)}(t);if(""!=o.i)e&&Q(o,e+"."+o.i),me(o,o.m);else{const u=fe.location;o=function Vn(i,e,t,o){var u=new P(null,void 0);return i&&O(u,i),e&&Q(u,e),t&&me(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Br(i.aa,function(u,d){Ze(o,d,u)}),t=i.sa,(e=i.D)&&t&&Ze(o,e,t),Ze(o,"VER",i.ma),jo(i,o),o}function Po(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pr(t&&i.Ba&&!i.qa?new ci({ib:!0}):i.qa)).L=i.H,e}function ja(){}function $o(){if(wt&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function ns(i,e){Dt.call(this),this.g=new Li(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Xn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new $i(this)}function Xi(i){Rs.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function bo(){Yi.call(this),this.status=1}function $i(i){this.g=i}(te=Pr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cs.g(),this.C=function Oi(i){return i.h||(i.h=i.i())}(this.u?this.u:cs),this.g.onreadystatechange=Lt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void vo(this,d)}i=t||"";const u=new Ri(this.headers);o&&Is(o,function(d,m){u.set(m,d)}),o=function sr(i){e:{var e=ta;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=fe.FormData&&i instanceof fe.FormData,!(0<=Fn(Mo,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ro(this),0<this.B&&((this.K=function ea(i){return wt&&function it(){return function qn(i){var e=Ee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=or(String(vr)).split("."),t=or("9").split("."),o=Math.max(e.length,t.length);for(let m=0;0==i&&m<o;m++){var u=e[m]||"",d=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Nt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Nt(0==u[2].length,0==d[2].length)||Nt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.pa,this)):this.A=De(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){vo(this,d)}},te.pa=function(){void 0!==xe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,an(this,"complete"),an(this,"abort"),wo(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wo(this,!0)),Pr.Z.M.call(this)},te.Fa=function(){this.s||(this.F||this.v||this.l?ks(this):this.cb())},te.cb=function(){ks(this)},te.ba=function(){try{return 2<Ds(this)?this.g.status:-1}catch(i){return-1}},te.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},te.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xo(e)}},te.Da=function(){return this.m},te.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=Li.prototype).ma=8,te.G=1,te.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},te.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new ws(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=zr(d),tn(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=so(this,u,e),Ze(t=G(this.F),"RID",i),Ze(t,"CVER",22),this.D&&Ze(t,"X-HTTP-Session-Id",this.D),jo(this,t),this.o&&d&&ma(t,this.o,d),ki(this.i,u),this.Ra&&Ze(t,"TYPE","init"),this.ja?(Ze(t,"$req",e),Ze(t,"SID","null"),u.$=!0,Ns(u,t,null)):Ns(u,t,e),this.G=2}}else 3==this.G&&(i?Ba(this,i):0==this.l.length||Nn(this.i)||Ba(this))},te.Ga=function(){if(this.u=null,Oo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ft(Lt(this.bb,this),i)}},te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tt(10),Rr(this),Oo(this))},te.ab=function(){null!=this.v&&(this.v=null,Rr(this),Gs(this),tt(19))},te.jb=function(i){i?(this.h.info("Successfully pinged google.com"),tt(2)):(this.h.info("Failed to ping google.com"),tt(1))},(te=ja.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Oa=function(){},$o.prototype.g=function(i,e){return new ns(i,e)},Tt(ns,Dt),ns.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Wt(Lt(i.hb,i,e))),tt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=xs(i,null,i.W),Ua(i)},ns.prototype.close=function(){io(this.g)},ns.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Va(this.g,e)}else this.v?((e={}).__data__=Wr(i),Va(this.g,e)):Va(this.g,i)},ns.prototype.M=function(){this.g.j=null,delete this.j,io(this.g),delete this.g,ns.Z.M.call(this)},Tt(Xi,Rs),Tt(bo,Yi),Tt($i,ja),$i.prototype.xa=function(){an(this.g,"a")},$i.prototype.wa=function(i){an(this.g,new Xi(i))},$i.prototype.va=function(i){an(this.g,new bo(i))},$i.prototype.ua=function(){an(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,wr.COMPLETE="complete",Ps.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.La,Pr.prototype.getLastErrorCode=Pr.prototype.Da,Pr.prototype.getStatus=Pr.prototype.ba,Pr.prototype.getResponseJson=Pr.prototype.Qa,Pr.prototype.getResponseText=Pr.prototype.ga,Pr.prototype.send=Pr.prototype.ea;var b=He.createWebChannelTransport=function(){return new $o},C=He.getStatEventTarget=function(){return ls()},H=He.ErrorCode=Bn,le=He.EventType=wr,st=He.Event=Yn,kt=He.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mr=He.FetchXmlHttpFactory=ci,di=He.WebChannel=Ps,si=He.XhrIo=Pr;const oo="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let Io="9.8.0";const Co=new at.Yd("@firebase/firestore");function va(){return Co.logLevel}function mt(i,...e){if(Co.logLevel<=at.in.DEBUG){const t=e.map(w);Co.debug(`Firestore (${Io}): ${i}`,...t)}}function Lr(i,...e){if(Co.logLevel<=at.in.ERROR){const t=e.map(w);Co.error(`Firestore (${Io}): ${i}`,...t)}}function I(i,...e){if(Co.logLevel<=at.in.WARN){const t=e.map(w);Co.warn(`Firestore (${Io}): ${i}`,...t)}}function w(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function y(i="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+i;throw Lr(e),new Error(e)}function A(i,e){i||y()}function j(i,e){return i}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class We{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oi.UNAUTHENTICATED))}shutdown(){}}class Xt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rr{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,t(z)):Promise.resolve();let m=new We;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new We,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const z=m;e.enqueueRetryable((0,de.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},B=z=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new We)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(A("string"==typeof o.accessToken),new Bt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return A(null===e||"string"==typeof e),new oi(e)}}class cr{constructor(e,t,o){this.type="FirstParty",this.user=oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Gi{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new cr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Go{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=d=>{null!=d.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.p;return this.p=d.token,mt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(A("string"==typeof t.token),this.p=t.token,new zs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Vr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ra(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Vr.A=-1;class zo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ra(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function xn(i,e){return i<e?-1:i>e?1:0}function ia(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function _a(i){return i+"\0"}class pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new pi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new pi(0,0))}static max(){return new _n(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gi(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $a(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ud(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Fu{constructor(e,t,o){void 0===t?t=0:t>e.length&&y(),void 0===o?o=e.length-t:o>e.length-t&&y(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Fu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),m=t.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ir extends Fu{construct(e,t,o){return new ir(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new ir(t)}static emptyPath(){return new ir([])}}const $l=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class es extends Fu{construct(e,t,o){return new es(e,t,o)}static isValidIdentifier(e){return $l.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),es.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new es(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new ee($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new ee($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[u+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new ee($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,u+=2}else"`"===D?(m=!m,u++):"."!==D||m?(o+=D,u++):(d(),u++)}if(d(),m)throw new ee($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new es(t)}static emptyPath(){return new es([])}}class du{constructor(e){this.fields=e,e.sort(es.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vi(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(i){if(A(!!i),"string"==typeof i){let e=0;const t=zi.exec(i);if(A(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Xr(i.seconds),nanos:Xr(i.nanos)}}function Xr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function sa(i){return"string"==typeof i?Vi.fromBase64String(i):Vi.fromUint8Array(i)}function fl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ps(i){const e=i.mapValue.fields.__previous_value__;return fl(e)?ps(e):e}function rs(i){const e=ao(i.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}class Lu{constructor(e,t,o,u,d,m,D,B){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=D,this.useFetchStreams=B}}class Ls{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ls("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ls&&e.projectId===this.projectId&&e.database===this.database}}function Ws(i){return null==i}function uo(i){return 0===i&&1/i==-1/0}function Ro(i){return"number"==typeof i&&Number.isInteger(i)&&!uo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(ir.fromString(e))}static fromName(e){return new Rt(ir.fromString(e).popFirst(5))}static empty(){return new Rt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new ir(e.slice()))}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fu={nullValue:"NULL_VALUE"};function wa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fl(i)?4:Gl(i)?9007199254740991:10:y()}function hi(i,e){if(i===e)return!0;const t=wa(i);if(t!==wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return rs(i).isEqual(rs(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ao(o.timestampValue),m=ao(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,sa(i.bytesValue).isEqual(sa(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Xr(o.geoPointValue.latitude)===Xr(u.geoPointValue.latitude)&&Xr(o.geoPointValue.longitude)===Xr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Xr(o.integerValue)===Xr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Xr(o.doubleValue),m=Xr(u.doubleValue);return d===m?uo(d)===uo(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return ia(i.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gi(d)!==gi(m))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===m[D]||!hi(d[D],m[D])))return!1;return!0}(i,e);default:return y()}var u}function Ea(i,e){return void 0!==(i.values||[]).find(t=>hi(t,e))}function qs(i,e){if(i===e)return 0;const t=wa(i),o=wa(e);if(t!==o)return xn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return xn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=Xr(u.integerValue||u.doubleValue),D=Xr(d.integerValue||d.doubleValue);return m<D?-1:m>D?1:m===D?0:isNaN(m)?isNaN(D)?0:-1:1}(i,e);case 3:return Vc(i.timestampValue,e.timestampValue);case 4:return Vc(rs(i),rs(e));case 5:return xn(i.stringValue,e.stringValue);case 6:return function(u,d){const m=sa(u),D=sa(d);return m.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),D=d.split("/");for(let B=0;B<m.length&&B<D.length;B++){const z=xn(m[B],D[B]);if(0!==z)return z}return xn(m.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=xn(Xr(u.latitude),Xr(d.latitude));return 0!==m?m:xn(Xr(u.longitude),Xr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],D=d.values||[];for(let B=0;B<m.length&&B<D.length;++B){const z=qs(m[B],D[B]);if(z)return z}return xn(m.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Wo.mapValue&&d===Wo.mapValue)return 0;if(u===Wo.mapValue)return 1;if(d===Wo.mapValue)return-1;const m=u.fields||{},D=Object.keys(m),B=d.fields||{},z=Object.keys(B);D.sort(),z.sort();for(let oe=0;oe<D.length&&oe<z.length;++oe){const Ce=xn(D[oe],z[oe]);if(0!==Ce)return Ce;const Ke=qs(m[D[oe]],B[z[oe]]);if(0!==Ke)return Ke}return xn(D.length,z.length)}(i.mapValue,e.mapValue);default:throw y()}}function Vc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return xn(i,e);const t=ao(i),o=ao(e),u=xn(t.seconds,o.seconds);return 0!==u?u:xn(t.nanos,o.nanos)}function Vs(i){return Vu(i)}function Vu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ao(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?sa(i.bytesValue).toBase64():"referenceValue"in i?Rt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const m of o.values||[])d?d=!1:u+=",",u+=Vu(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const D of u)m?m=!1:d+=",",d+=`${D}:${Vu(o.fields[D])}`;return d+"}"}(i.mapValue):y();var e}function qo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pl(i){return!!i&&"integerValue"in i}function Ks(i){return!!i&&"arrayValue"in i}function Uu(i){return!!i&&"nullValue"in i}function Ko(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function No(i){return!!i&&"mapValue"in i}function ba(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $a(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ba(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ba(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Gl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ia(i){return"nullValue"in i?fu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?qo(Ls.empty(),Rt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:y()}function pu(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?qo(Ls.empty(),Rt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Wo:y()}function Ga(i,e){const t=qs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function x(i,e){const t=qs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class R{constructor(e){this.value=e}static empty(){return new R({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!No(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(t)}setAll(e){let t=es.emptyPath(),o={},u=[];e.forEach((m,D)=>{if(!t.isImmediateParentOf(D)){const B=this.getFieldsMap(t);this.applyChanges(B,o,u),o={},u=[],t=D.popLast()}m?o[D.lastSegment()]=ba(m):u.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());No(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){$a(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new R(ba(this.value))}}function K(i){const e=[];return $a(i.fields,(t,o)=>{const u=new es([t]);if(No(o)){const d=K(o.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new du(e)}class ie{constructor(e,t,o,u,d,m){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new ie(e,0,_n.min(),_n.min(),R.empty(),0)}static newFoundDocument(e,t,o){return new ie(e,1,t,_n.min(),o,0)}static newNoDocument(e,t){return new ie(e,2,t,_n.min(),R.empty(),0)}static newUnknownDocument(e,t){return new ie(e,3,t,_n.min(),R.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=R.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=R.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ie&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ie(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fe{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Ge(i){return i.fields.find(e=>2===e.kind)}function gt(i){return i.fields.filter(e=>2!==e.kind)}Fe.UNKNOWN_ID=-1;class Qt{constructor(e,t){this.fieldPath=e,this.kind=t}}class nn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nn(0,yn.min())}}function bn(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=_n.fromTimestamp(1e9===o?new pi(t+1,0):new pi(t,o));return new yn(u,Rt.empty(),e)}function yr(i){return new yn(i.readTime,i.key,-1)}class yn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new yn(_n.min(),Rt.empty(),-1)}static max(){return new yn(_n.max(),Rt.empty(),-1)}}function Wi(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(i.documentKey,e.documentKey),0!==t?t:xn(i.largestBatchId,e.largestBatchId))}class zn{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zo(this.root,e,this.comparator,!0)}}class Zo{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=null!=o?o:mi.RED,this.left=null!=u?u:mi.EMPTY,this.right=null!=d?d:mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new mi(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return mi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1,mi.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(i,e,t,o,u){return this}insert(i,e,t){return new mi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zs(this.data.getIterator())}getIteratorFrom(e){return new Zs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class Zs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Us(i){return i.hasNext()?i.getNext():void 0}class za{constructor(e,t=null,o=[],u=[],d=null,m=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=m,this.endAt=D,this.P=null}}function Uc(i,e=null,t=[],o=[],u=null,d=null,m=null){return new za(i,e,t,o,u,d,m)}function Ca(i){const e=j(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Vs(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ws(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Vs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Vs(o)).join(",")),e.P=t}return e.P}function Wa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Hu(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!hi(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$d(i.startAt,e.startAt)&&$d(i.endAt,e.endAt)}function Bu(i){return Rt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ju(i,e){return i.filters.filter(t=>t instanceof qi&&t.field.isEqual(e))}function Bd(i,e,t){let o=fu,u=!0;for(const d of ju(i,e)){let m=fu,D=!0;switch(d.op){case"<":case"<=":m=Ia(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,D=!1;break;case"!=":case"not-in":m=fu}Ga({value:o,inclusive:u},{value:m,inclusive:D})<0&&(o=m,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];Ga({value:o,inclusive:u},{value:m,inclusive:t.inclusive})<0&&(o=m,u=t.inclusive);break}return{value:o,inclusive:u}}function gu(i,e,t){let o=Wo,u=!0;for(const d of ju(i,e)){let m=Wo,D=!0;switch(d.op){case">=":case">":m=pu(d.value),D=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,D=!1;break;case"!=":case"not-in":m=Wo}x({value:o,inclusive:u},{value:m,inclusive:D})>0&&(o=m,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];x({value:o,inclusive:u},{value:m,inclusive:t.inclusive})>0&&(o=m,u=t.inclusive);break}return{value:o,inclusive:u}}class qi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Bc(e,t,o):"array-contains"===t?new Cg(e,o):"in"===t?new Wl(e,o):"not-in"===t?new If(e,o):"array-contains-any"===t?new Cf(e,o):new qi(e,t,o)}static V(e,t,o){return"in"===t?new Ig(e,o):new jd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(qs(t,this.value)):null!==t&&wa(this.value)===wa(t)&&this.v(qs(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bc extends qi{constructor(e,t,o){super(e,t,o),this.key=Rt.fromName(o.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.v(t)}}class Ig extends qi{constructor(e,t){super(e,"in",t),this.keys=jc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jd extends qi{constructor(e,t){super(e,"not-in",t),this.keys=jc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Rt.fromName(o.referenceValue))}class Cg extends qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ks(t)&&Ea(t.arrayValue,this.value)}}class Wl extends qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ea(this.value.arrayValue,t)}}class If extends qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ea(this.value.arrayValue,t)}}class Cf extends qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ks(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ea(this.value.arrayValue,o))}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}class qa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Hd(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],m=i.position[u];if(o=d.field.isKeyField()?Rt.comparator(Rt.fromName(m.referenceValue),t.key):qs(m,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function $d(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!hi(i.position[t],e.position[t]))return!1;return!0}class Ka{constructor(e,t=null,o=[],u=[],d=null,m="F",D=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=m,this.startAt=D,this.endAt=B,this.D=null,this.C=null}}function mu(i,e,t,o,u,d,m,D){return new Ka(i,e,t,o,u,d,m,D)}function Za(i){return new Ka(i)}function ql(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Kl(i){for(const e of i.filters)if(e.S())return e.field;return null}function Zl(i){return null!==i.collectionGroup}function yu(i){const e=j(i);if(null===e.D){e.D=[];const t=Kl(e),o=ql(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new qa(t)),e.D.push(new qa(es.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new qa(es.keyField(),d))}}}return e.D}function ko(i){const e=j(i);if(!e.C)if("F"===e.limitType)e.C=Uc(e.path,e.collectionGroup,yu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of yu(e))t.push(new qa(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Yo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Yo(e.startAt.position,e.startAt.inclusive):null;e.C=Uc(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function zd(i,e,t){return new Ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gl(i,e){return Wa(ko(i),ko(e))&&i.limitType===e.limitType}function Wd(i){return`${Ca(ko(i))}|lt:${i.limitType}`}function Fo(i){return`Query(target=${function zl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Vs(o.value)}`;var o}).join(", ")}]`),Ws(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Vs(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Vs(t)).join(",")),`Target(${e})`}(ko(i))}; limitType=${i.limitType})`}function vu(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Rt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,m){const D=Hd(u,d,m);return u.inclusive?D<=0:D<0}(t.startAt,yu(t),o)||t.endAt&&!function(u,d,m){const D=Hd(u,d,m);return u.inclusive?D>=0:D>0}(t.endAt,yu(t),o)));var t,o}function Yl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Df(i){return(e,t)=>{let o=!1;for(const u of yu(i)){const d=Tf(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Tf(i,e,t){const o=i.field.isKeyField()?Rt.comparator(e.key,t.key):function(u,d,m){const D=d.data.field(u),B=m.data.field(u);return null!==D&&null!==B?qs(D,B):y()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return y()}}function Af(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(e)?"-0":e}}function Hc(i){return{integerValue:""+i}}function Sf(i,e){return Ro(e)?Hc(e):Af(i,e)}class $u{constructor(){this._=void 0}}function qd(i,e,t){return i instanceof Gu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof ml?Ya(i,e):i instanceof oa?$c(i,e):function(o,u){const d=Kd(o,u),m=zu(d)+zu(o.k);return pl(d)&&pl(o.k)?Hc(m):Af(o.M,m)}(i,e)}function xf(i,e,t){return i instanceof ml?Ya(i,e):i instanceof oa?$c(i,e):t}function Kd(i,e){return i instanceof Ms?pl(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Gu extends $u{}class ml extends $u{constructor(e){super(),this.elements=e}}function Ya(i,e){const t=yl(e);for(const o of i.elements)t.some(u=>hi(u,o))||t.push(o);return{arrayValue:{values:t}}}class oa extends $u{constructor(e){super(),this.elements=e}}function $c(i,e){let t=yl(e);for(const o of i.elements)t=t.filter(u=>!hi(u,o));return{arrayValue:{values:t}}}class Ms extends $u{constructor(e,t){super(),this.M=e,this.k=t}}function zu(i){return Xr(i.integerValue||i.doubleValue)}function yl(i){return Ks(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wu{constructor(e,t){this.field=e,this.transform=t}}class Yd{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Qa{}function zc(i,e,t){i instanceof qu?function(o,u,d){const m=o.value.clone(),D=Jd(o.fieldTransforms,u,d.transformResults);m.setAll(D),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Da?function(o,u,d){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Jd(o.fieldTransforms,u,d.transformResults),D=u.data;D.setAll(Qd(o)),D.setAll(m),u.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vl(i,e,t){var u;i instanceof qu?function(o,u,d){if(!Gc(o.precondition,u))return;const m=o.value.clone(),D=_l(o.fieldTransforms,d,u);m.setAll(D),u.convertToFoundDocument(Wc(u),m).setHasLocalMutations()}(i,e,t):i instanceof Da?function(o,u,d){if(!Gc(o.precondition,u))return;const m=_l(o.fieldTransforms,d,u),D=u.data;D.setAll(Qd(o)),D.setAll(m),u.convertToFoundDocument(Wc(u),D).setHasLocalMutations()}(i,e,t):Gc(i.precondition,u=e)&&u.convertToNoDocument(_n.min())}function Dg(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=Kd(o.transform,u||null);null!=d&&(null==t&&(t=R.empty()),t.set(o.field,d))}return t||null}function Mf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&ia(t,o,(u,d)=>function Zd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof ml&&o instanceof ml||t instanceof oa&&o instanceof oa?ia(t.elements,o.elements,hi):t instanceof Ms&&o instanceof Ms?hi(t.k,o.k):t instanceof Gu&&o instanceof Gu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function Wc(i){return i.isFoundDocument()?i.version:_n.min()}class qu extends Qa{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Da extends Qa{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}}function Qd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Jd(i,e,t){const o=new Map;A(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],m=d.transform,D=e.data.field(d.field);o.set(d.field,xf(m,D,t[u]))}return o}function _l(i,e,t){const o=new Map;for(const u of i){const d=u.transform,m=t.data.field(u.field);o.set(u.field,qd(d,m,e))}return o}class aa extends Qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class qc extends Qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Kc{constructor(e){this.count=e}}var Ei,wn;function Xd(i){switch(i){default:return y();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function eh(i){if(void 0===i)return Lr("GRPC error has no .code"),$.UNKNOWN;switch(i){case Ei.OK:return $.OK;case Ei.CANCELLED:return $.CANCELLED;case Ei.UNKNOWN:return $.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return $.INTERNAL;case Ei.UNAVAILABLE:return $.UNAVAILABLE;case Ei.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ei.NOT_FOUND:return $.NOT_FOUND;case Ei.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ei.ABORTED:return $.ABORTED;case Ei.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ei.DATA_LOSS:return $.DATA_LOSS;default:return y()}}(wn=Ei||(Ei={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Ud(this.inner)}size(){return this.innerSize}}const th=new zn(Rt.comparator);function Lo(){return th}const Of=new zn(Rt.comparator);function Zc(...i){let e=Of;for(const t of i)e=e.insert(t.key,t);return e}function Ta(){return new Qo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Pf=new zn(Rt.comparator),Rf=new Qn(Rt.comparator);function Ur(...i){let e=Rf;for(const t of i)e=e.add(t);return e}const wl=new Qn(xn);function gs(){return wl}class _u{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t)),new _u(_n.min(),o,gs(),Lo(),Ur())}}class wu{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wu(Vi.EMPTY_BYTE_STRING,t,Ur(),Ur(),Ur())}}class Eu{constructor(e,t,o,u){this.O=e,this.removedTargetIds=t,this.key=o,this.F=u}}class ss{constructor(e,t){this.targetId=e,this.$=t}}class bu{constructor(e,t,o=Vi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Ql{constructor(){this.B=0,this.L=Ys(),this.U=Vi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ur(),t=Ur(),o=Ur();return this.L.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:y()}}),new wu(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Ys()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Yc{constructor(e){this.nt=e,this.st=new Map,this.it=Lo(),this.rt=nh(),this.ot=new Qn(xn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.$.count,u=this.wt(t);if(u){const d=u.target;if(Bu(d))if(0===o){const m=new Rt(d.path);this.ct(t,m,ie.newNoDocument(m,_n.min()))}else A(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,m)=>{const D=this.wt(m);if(D){if(d.current&&Bu(D.target)){const B=new Rt(D.target.path);null!==this.it.get(B)||this.It(m,B)||this.ct(m,B,ie.newNoDocument(B,e))}d.j&&(t.set(m,d.H()),d.J())}});let o=Ur();this.rt.forEach((d,m)=>{let D=!0;m.forEachWhile(B=>{const z=this.wt(B);return!z||2===z.purpose||(D=!1,!1)}),D&&(o=o.add(d))}),this.it.forEach((d,m)=>m.setReadTime(e));const u=new _u(e,t,this.ot,this.it,o);return this.it=Lo(),this.rt=nh(),this.ot=new Qn(xn),u}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Ql,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Qn(xn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Ql),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function nh(){return new zn(Rt.comparator)}function Ys(){return new zn(Rt.comparator)}const El={asc:"ASCENDING",desc:"DESCENDING"},Qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nf{constructor(e,t){this.databaseId=e,this.N=t}}function Ja(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jl(i,e){return i.N?e.toBase64():e.toUint8Array()}function kf(i,e){return Ja(i,e.toTimestamp())}function Ki(i){return A(!!i),_n.fromTimestamp(function(e){const t=ao(e);return new pi(t.seconds,t.nanos)}(i))}function Jc(i,e){return(t=i,new ir(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Aa(i){const e=ir.fromString(i);return A(Se(e)),e}function Xa(i,e){return Jc(i.databaseId,e.path)}function ua(i,e){const t=Aa(e);if(t.get(1)!==i.databaseId.projectId)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Rt(Qs(t))}function Xc(i,e){return Jc(i.databaseId,e)}function bl(i){const e=Aa(i);return 4===e.length?ir.emptyPath():Qs(e)}function Ku(i){return new ir(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qs(i){return A(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Xl(i,e,t){return{name:Xa(i,e),fields:t.value.mapValue.fields}}function ec(i,e,t){const o=ua(i,e.name),u=Ki(e.updateTime),d=new R({mapValue:{fields:e.fields}}),m=ie.newFoundDocument(o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Sa(i,e){let t;if(e instanceof qu)t={update:Xl(i,e.key,e.value)};else if(e instanceof aa)t={delete:Xa(i,e.key)};else if(e instanceof Da)t={update:Xl(i,e.key,e.data),updateMask:J(e.fieldMask)};else{if(!(e instanceof qc))return y();t={verify:Xa(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const m=d.transform;if(m instanceof Gu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ms)return{fieldPath:d.field.canonicalString(),increment:m.k};throw y()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:kf(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:y()),t;var u}function tc(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?is.updateTime(Ki(u.updateTime)):void 0!==u.exists?is.exists(u.exists):is.none():is.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let D=null;"setToServerValue"in m?(A("REQUEST_TIME"===m.setToServerValue),D=new Gu):"appendMissingElements"in m?D=new ml(m.appendMissingElements.values||[]):"removeAllFromArray"in m?D=new oa(m.removeAllFromArray.values||[]):"increment"in m?D=new Ms(d,m.increment):y();const B=es.fromServerFormat(m.fieldPath);return new Wu(B,D)}(i,u)):[];var u;if(e.update){const u=ua(i,e.update.name),d=new R({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new du((e.updateMask.fieldPaths||[]).map(z=>es.fromServerFormat(z)));return new Da(u,d,m,t,o)}return new qu(u,d,t,o)}if(e.delete){const u=ua(i,e.delete);return new aa(u,t)}if(e.verify){const u=ua(i,e.verify);return new qc(u,t)}return y()}function ih(i,e){return{documents:[Xc(i,e.path)]}}function nc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Xc(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xc(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(B){if(0===B.length)return;const z=B.map(oe=>function(Ce){if("=="===Ce.op){if(Ko(Ce.value))return{unaryFilter:{field:c(Ce.field),op:"IS_NAN"}};if(Uu(Ce.value))return{unaryFilter:{field:c(Ce.field),op:"IS_NULL"}}}else if("!="===Ce.op){if(Ko(Ce.value))return{unaryFilter:{field:c(Ce.field),op:"IS_NOT_NAN"}};if(Uu(Ce.value))return{unaryFilter:{field:c(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:c(Ce.field),op:g(Ce.op),value:Ce.value}}}(oe));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(B){if(0!==B.length)return B.map(z=>{return{field:c((oe=z).field),direction:Zu(oe.dir)};var oe})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(z=e.limit,i.N||Ws(z)?z:{value:z});var z,D,B;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function sh(i){let e=bl(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){A(1===o);const oe=t.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let d=[];t.where&&(d=oh(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(oe=>{return new qa(h((Ce=oe).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let D=null;t.limit&&(D=function(oe){let Ce;return Ce="object"==typeof oe?oe.value:oe,Ws(Ce)?null:Ce}(t.limit));let B=null;var oe;t.startAt&&(B=new Yo((oe=t.startAt).values||[],!!oe.before));let z=null;return t.endAt&&(z=function(oe){return new Yo(oe.values||[],!oe.before)}(t.endAt)),mu(e,u,m,d,D,"F",B,z)}function oh(i){return i?void 0!==i.unaryFilter?[V(i)]:void 0!==i.fieldFilter?[_(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>oh(e)).reduce((e,t)=>e.concat(t)):y():[]}function Zu(i){return El[i]}function g(i){return Qc[i]}function c(i){return{fieldPath:i.canonicalString()}}function h(i){return es.fromServerFormat(i.fieldPath)}function _(i){return qi.create(h(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(i.fieldFilter.op),i.fieldFilter.value)}function V(i){switch(i.unaryFilter.op){case"IS_NAN":const e=h(i.unaryFilter.field);return qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=h(i.unaryFilter.field);return qi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=h(i.unaryFilter.field);return qi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=h(i.unaryFilter.field);return qi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return y()}}function J(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Se(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function qe(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Kt(e)),e=Pt(i.get(t),e);return Kt(e)}function Pt(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Kt(i){return i+"\x01\x01"}function un(i){const e=i.length;if(A(e>=2),2===e)return A("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ir.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&y(),i.charAt(m+1)){case"\x01":const D=i.substring(d,m);let B;0===u.length?B=D:(u+=D,B=u,u=""),o.push(B);break;case"\x10":u+=i.substring(d,m),u+="\0";break;case"\x11":u+=i.substring(d,m+1);break;default:y()}d=m+2}return new ir(o)}const gn=["userId","batchId"];function bi(i,e){return[i,qe(e)]}function lo(i,e,t){return[i,qe(e),t]}const Yu={},ed=["prefixPath","collectionGroup","readTime","documentId"],ah=["prefixPath","collectionGroup","documentId"],Iu=["collectionGroup","readTime","prefixPath","documentId"],rc=["canonicalId","targetId"],ic=["targetId","path"],uh=["path","targetId"],sc=["collectionId","parent"],td=["indexId","uid"],lh=["uid","sequenceNumber"],Vf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nd=["indexId","uid","orderedDocumentKey"],Uf=["userId","collectionPath","documentId"],Ly=["userId","collectionPath","largestBatchId"],Tg=["userId","collectionGroup","largestBatchId"],ch=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ag=[...ch,"documentOverlays"],dh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vy=[...dh,"indexConfiguration","indexState","indexEntries"],Sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,o)=>{t(e)})}static reject(e){return new et((t,o)=>{o(e)})}static waitFor(e){return new et((t,o)=>{let u=0,d=0,m=!1;e.forEach(D=>{++u,D.next(()=>{++d,m&&d===u&&t()},B=>o(B))}),m=!0,d===u&&t()})}static or(e){let t=et.resolve(!1);for(const o of e)t=t.next(u=>u?et.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}}class eu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new We,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new rd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=hh(o.target.error);this.At.reject(new rd(e,u))}}static open(e,t,o,u){try{return new eu(t,e.transaction(u,o))}catch(d){throw new rd(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uy(t)}}class ca{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===ca.Vt((0,Xe.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),Qu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xe.hl)())return!1;if(ca.St())return!0;const e=(0,Xe.z$)(),t=ca.Vt(e),o=0<t&&t<10,u=ca.Dt(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,de.Z)(function*(){return t.db||(mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{u(new rd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const D=m.target.error;u("VersionError"===D.name?new ee($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new ee($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new rd(e,D))},d.onupgradeneeded=m=>{mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.Pt.kt(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,de.Z)(function*(){const m="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.Nt(e);const B=eu.open(d.db,e,m?"readonly":"readwrite",o),z=u(B).next(oe=>(B.bt(),oe)).catch(oe=>(B.abort(oe),et.reject(oe))).toPromise();return z.catch(()=>{}),yield B.Rt,z}catch(B){const z="FirebaseError"!==B.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",z),d.close(),!z)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xg{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Qu(this.Ft.delete())}}class rd extends ee{constructor(e,t){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tu(i){return"IndexedDbTransactionError"===i.name}class Uy{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(mt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Qu(o)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),Qu(this.store.add(e))}get(e){return Qu(this.store.get(e)).next(t=>(void 0===t&&(t=null),mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),Qu(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),Qu(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.Kt(u,(m,D)=>{d.push(D)}).next(()=>d)}{const u=this.store.getAll(o.range);return new et((d,m)=>{u.onerror=D=>{m(D.target.error)},u.onsuccess=D=>{d(D.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new et((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}Qt(e,t){mt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(d,m,D)=>D.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Kt(u,t)}zt(e){const t=this.cursor({});return new et((o,u)=>{t.onerror=d=>{const m=hh(d.target.error);u(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(D=>{D?m.continue():o()}):o()}})}Kt(e,t){const o=[];return new et((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const D=m.target.result;if(!D)return void u();const B=new xg(D),z=t(D.primaryKey,D.value,B);if(z instanceof et){const oe=z.catch(Ce=>(B.done(),et.reject(Ce)));o.push(oe)}B.isDone?u():null===B.Lt?D.continue():D.continue(B.Lt)}}).next(()=>et.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qu(i){return new et((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=hh(o.target.error);t(u)}})}let jf=!1;function hh(i){const e=ca.Vt((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jf||(jf=!0,setTimeout(()=>{throw o},0)),o}}return i}class fh extends Bf{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Os(i,e){const t=j(i);return ca.xt(t.Ht,e)}class oc{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&zc(d,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&vl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&vl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(_n.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ur())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,o)=>Mf(t,o))&&ia(this.baseMutations,e.baseMutations,(t,o)=>Mf(t,o))}}class ac{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){A(e.mutations.length===o.length);let u=Pf;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,o[m].version);return new ac(e,t,o,u)}}class ph{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nu{constructor(e,t,o,u,d=_n.min(),m=_n.min(),D=Vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=D}withSequenceNumber(e){return new nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hf{constructor(e){this.Jt=e}}function uc(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Xa(u=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ja(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ju(e.version)};else{if(!e.isUnknownDocument())return y();o.unknownDocument={path:t.path.toArray(),version:Ju(e.version)}}var u,d;return o}function gh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ju(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Il(i){const e=new pi(i.seconds,i.nanoseconds);return _n.fromTimestamp(e)}function lc(i,e){const t=(e.baseMutations||[]).map(d=>tc(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>tc(i.Jt,d)),u=pi.fromMillis(e.localWriteTimeMs);return new oc(e.batchId,u,t,o)}function cc(i){const e=Il(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Il(i.lastLimboFreeSnapshotVersion):_n.min();let o;var u;return void 0!==i.query.documents?(A(1===(u=i.query).documents.length),o=ko(Za(bl(u.documents[0])))):o=ko(sh(i.query)),new nu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Vi.fromBase64String(i.resumeToken))}function mh(i,e){const t=Ju(e.snapshotVersion),o=Ju(e.lastLimboFreeSnapshotVersion);let u;u=Bu(e.target)?ih(i.Jt,e.target):nc(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ca(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function yh(i){const e=sh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zd(e,e.limit,"L"):e}function Mg(i,e){return new ph(e.largestBatchId,tc(i.Jt,e.overlayMutation))}function Gf(i,e){const t=e.path.lastSegment();return[i,qe(e.path.popLast()),t]}class By{getBundleMetadata(e,t){return zf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Il(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return zf(e).put({bundleId:(o=t).id,createTime:Ju(Ki(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Og(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:yh(u.bundledQuery),readTime:Il(u.readTime)};var u})}saveNamedQuery(e,t){return Og(e).put({name:(o=t).name,readTime:Ju(Ki(o.readTime)),bundledQuery:o.bundledQuery});var o}}function zf(i){return Os(i,"bundles")}function Og(i){return Os(i,"namedQueries")}class Wf{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Wf(e,t.uid||"")}getOverlay(e,t){return To(e).get(Gf(this.userId,t)).next(o=>o?Mg(this.M,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach((d,m)=>{const D=new ph(t,m);u.push(this.Xt(e,D))}),et.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(m=>u.add(qe(m.getCollectionPath())));const d=[];return u.forEach(m=>{const D=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);d.push(To(e).Qt("collectionPathOverlayIndex",D))}),et.waitFor(d)}getOverlaysForCollection(e,t,o){const u=Ta(),d=qe(t),m=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return To(e).qt("collectionPathOverlayIndex",m).next(D=>{for(const B of D){const z=Mg(this.M,B);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=Ta();let m;const D=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return To(e).Wt({index:"collectionGroupOverlayIndex",range:D},(B,z,oe)=>{const Ce=Mg(this.M,z);d.size()<u||Ce.largestBatchId===m?(d.set(Ce.getKey(),Ce),m=Ce.largestBatchId):oe.done()}).next(()=>d)}Xt(e,t){return To(e).put(function(o,u,d){const[m,D,B]=Gf(u,d.mutation.key);return{userId:u,collectionPath:D,documentId:B,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Sa(o.Jt,d.mutation)}}(this.M,this.userId,t))}}function To(i){return Os(i,"documentOverlays")}class Cl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Xr(e.integerValue));else if("doubleValue"in e){const o=Xr(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),uo(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(sa(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?Gl(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):y()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const u of Object.keys(o))this.re(u,t),this.te(o[u],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const u of o)this.te(u,t)}ae(e,t){this.ne(t,37),Rt.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Pg(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Rg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=Pg(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Cl.fe=new Cl;class jy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=t.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=t.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const t=this.Ee(e),o=Rg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Re(e){const t=this.Ee(e),o=Rg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Hy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class $y{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class dc{constructor(){this.De=new jy,this.Ce=new Hy(this.De),this.xe=new $y(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Dl{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Dl(this.indexId,this.documentKey,this.arrayValue,o)}}function Tl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ng(i.arrayValue,e.arrayValue),0!==t?t:(t=Ng(i.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(i.documentKey,e.documentKey)))}function Ng(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class kn{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=Ge(e);if(void 0!==t&&!this.Be(t))return!1;const o=gt(e);let u=0,d=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const m=o[u];if(!this.Le(this.Fe,m)||!this.Ue(this.Me[d++],m))return!1;++u}for(;u<o.length;++u){const m=o[u];if(d>=this.Me.length||!this.Ue(this.Me[d++],m))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class kg{constructor(){this.qe=new vh}addToCollectionParentIndex(e,t){return this.qe.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(yn.min())}updateCollectionGroup(e,t,o){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class vh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Qn(ir.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Qn(ir.comparator)).toArray()}}const id=new Uint8Array(0);class _h{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new vh,this.Ge=new Qo(o=>Ca(o),(o,u)=>Wa(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const d={collectionId:o,parent:qe(u)};return da(e).put(d)}return et.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[_a(t),""],!1,!0);return da(e).qt(u).next(d=>{for(const m of d){if(m.collectionId!==t)break;o.push(un(m.parent))}return o})}addFieldIndex(e,t){const o=wh(e),u={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=wh(e),u=fc(e),d=hc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=hc(e);let u=!0;const d=new Map;return et.forEach(this.Qe(t),m=>this.je(e,m).next(D=>{u&&(u=!!D),d.set(m,D)})).next(()=>{if(u){let m=Ur();const D=[];return et.forEach(d,(B,z)=>{var oe;mt("IndexedDbIndexManager",`Using index ${oe=B,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Ca(t)}`);const Ce=function(Nr,vs){const Ti=Ge(vs);if(void 0===Ti)return null;for(const Zi of ju(Nr,Ti.fieldPath))switch(Zi.op){case"array-contains-any":return Zi.value.arrayValue.values||[];case"array-contains":return[Zi.value]}return null}(z,B),Ke=function(Nr,vs){const Ti=new Map;for(const Zi of gt(vs))for(const go of ju(Nr,Zi.fieldPath))switch(go.op){case"==":case"in":Ti.set(Zi.fieldPath.canonicalString(),go.value);break;case"not-in":case"!=":return Ti.set(Zi.fieldPath.canonicalString(),go.value),Array.from(Ti.values())}return null}(z,B),dt=function(Nr,vs){const Ti=[];let Zi=!0;for(const go of gt(vs)){const kd=0===go.kind?Bd(Nr,go.fieldPath,Nr.startAt):gu(Nr,go.fieldPath,Nr.startAt);Ti.push(kd.value),Zi&&(Zi=kd.inclusive)}return new Yo(Ti,Zi)}(z,B),ft=function(Nr,vs){const Ti=[];let Zi=!0;for(const go of gt(vs)){const kd=0===go.kind?gu(Nr,go.fieldPath,Nr.endAt):Bd(Nr,go.fieldPath,Nr.endAt);Ti.push(kd.value),Zi&&(Zi=kd.inclusive)}return new Yo(Ti,Zi)}(z,B),Zt=this.We(B,z,dt),On=this.We(B,z,ft),Di=this.ze(B,z,Ke),ts=this.He(B.indexId,Ce,Zt,dt.inclusive,On,ft.inclusive,Di);return et.forEach(ts,Nr=>o.Gt(Nr,t.limit).next(vs=>{vs.forEach(Ti=>{const Zi=Rt.fromSegments(Ti.documentKey);m.has(Zi)||(m=m.add(Zi),D.push(Zi))})}))}).next(()=>D)}return et.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,o,u,d,m,D){const B=(null!=t?t.length:1)*Math.max(o.length,d.length),z=B/(null!=t?t.length:1),oe=[];for(let Ce=0;Ce<B;++Ce){const Ke=t?this.Je(t[Ce/z]):id,dt=this.Ye(e,Ke,o[Ce%z],u),ft=this.Xe(e,Ke,d[Ce%z],m),Zt=D.map(On=>this.Ye(e,Ke,On,!0));oe.push(...this.createRange(dt,ft,Zt))}return oe}Ye(e,t,o,u){const d=new Dl(e,Rt.empty(),t,o);return u?d:d.ke()}Xe(e,t,o,u){const d=new Dl(e,Rt.empty(),t,o);return u?d.ke():d}je(e,t){const o=new kn(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let m=null;for(const D of d)o.$e(D)&&(!m||D.fields.length>m.fields.length)&&(m=D);return m})}getIndexType(e,t){let o=2;return et.forEach(this.Qe(t),u=>this.je(e,u).next(d=>{d?0!==o&&d.fields.length<function(m){let D=new Qn(es.comparator),B=!1;for(const z of m.filters){const oe=z;oe.field.isKeyField()||("array-contains"===oe.op||"array-contains-any"===oe.op?B=!0:D=D.add(oe.field))}for(const z of m.orderBy)z.field.isKeyField()||(D=D.add(z.field));return D.size+(B?1:0)}(u)&&(o=1):o=0})).next(()=>o)}Ze(e,t){const o=new dc;for(const u of gt(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const m=o.Ne(u.kind);Cl.fe.Zt(d,m)}return o.Se()}Je(e){const t=new dc;return Cl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new dc;return Cl.fe.Zt(qo(this.databaseId,t),o.Ne(function(u){const d=gt(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}ze(e,t,o){if(null===o)return[];let u=[];u.push(new dc);let d=0;for(const m of gt(e)){const D=o[d++];for(const B of u)if(this.en(t,m.fieldPath)&&Ks(D))u=this.nn(u,m,D);else{const z=B.Ne(m.kind);Cl.fe.Zt(D,z)}}return this.sn(u)}We(e,t,o){return this.ze(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const u=[...e],d=[];for(const m of o.arrayValue.values||[])for(const D of u){const B=new dc;B.seed(D.Se()),Cl.fe.Zt(m,B.Ne(t.kind)),d.push(B)}return d}en(e,t){return!!e.filters.find(o=>o instanceof qi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=wh(e),u=fc(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(d=>{const m=[];return et.forEach(d,D=>u.get([D.indexId,this.uid]).next(B=>{m.push(function(z,oe){const Ce=oe?new nn(oe.sequenceNumber,new yn(Il(oe.readTime),new Rt(un(oe.documentKey)),oe.largestBatchId)):nn.empty(),Ke=z.fields.map(([dt,ft])=>new Qt(es.fromServerFormat(dt),ft));return new Fe(z.indexId,z.collectionGroup,Ke,Ce)}(D,B))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:xn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=wh(e),d=fc(e);return this.rn(e).next(m=>u.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>et.forEach(D,B=>{return d.put({indexId:B.indexId,uid:this.user.uid||"",sequenceNumber:m,readTime:Ju((Ke=o).readTime),documentKey:qe(Ke.documentKey.path),largestBatchId:Ke.largestBatchId});var Ke})))}updateIndexEntries(e,t){const o=new Map;return et.forEach(t,(u,d)=>{const m=o.get(u.collectionGroup);return(m?et.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(o.set(u.collectionGroup,D),et.forEach(D,B=>this.on(e,u,B).next(z=>{const oe=this.un(d,B);return z.isEqual(oe)?et.resolve():this.an(e,d,B,z,oe)}))))})}cn(e,t,o,u){return hc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,u){return hc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const u=hc(e);let d=new Qn(Tl);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(m,D)=>{d=d.add(new Dl(o.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}un(e,t){let o=new Qn(Tl);const u=this.Ze(t,e);if(null==u)return o;const d=Ge(t);if(null!=d){const m=e.data.field(d.fieldPath);if(Ks(m))for(const D of m.arrayValue.values||[])o=o.add(new Dl(t.indexId,e.key,this.Je(D),u))}else o=o.add(new Dl(t.indexId,e.key,id,u));return o}an(e,t,o,u,d){mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(D,B,z,oe,Ce){const Ke=D.getIterator(),dt=B.getIterator();let ft=Us(Ke),Zt=Us(dt);for(;ft||Zt;){let On=!1,Di=!1;if(ft&&Zt){const ts=z(ft,Zt);ts<0?Di=!0:ts>0&&(On=!0)}else null!=ft?Di=!0:On=!0;On?(oe(Zt),Zt=Us(dt)):Di?(Ce(ft),ft=Us(Ke)):(ft=Us(Ke),Zt=Us(dt))}}(u,d,Tl,D=>{m.push(this.cn(e,t,o,D))},D=>{m.push(this.hn(e,t,o,D))}),et.waitFor(m)}rn(e){let t=1;return fc(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,D)=>Tl(m,D)).filter((m,D,B)=>!D||0!==Tl(m,B[D-1]));const u=[];u.push(e);for(const m of o){const D=Tl(m,e),B=Tl(m,t);if(0===D)u[0]=e.ke();else if(D>0&&B<0)u.push(m),u.push(m.ke());else if(B>0)break}u.push(t);const d=[];for(let m=0;m<u.length;m+=2)d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,id,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,id,[]]));return d}getMinOffset(e,t){let o;return et.forEach(this.Qe(t),u=>this.je(e,u).next(d=>{d?(!o||Wi(d.indexState.offset,o)<0)&&(o=d.indexState.offset):o=yn.min()})).next(()=>o)}}function da(i){return Os(i,"collectionParents")}function hc(i){return Os(i,"indexEntries")}function wh(i){return Os(i,"indexConfiguration")}function fc(i){return Os(i,"indexState")}const ru={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class co{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new co(e,co.DEFAULT_COLLECTION_PERCENTILE,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qf(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let D=0;const B=o.Wt({range:m},(oe,Ce,Ke)=>(D++,Ke.delete()));d.push(B.next(()=>{A(1===D)}));const z=[];for(const oe of t.mutations){const Ce=lo(e,oe.key.path,t.batchId);d.push(u.delete(Ce)),z.push(oe.key)}return et.waitFor(d).next(()=>z)}function pc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw y();e=i.noDocument}return JSON.stringify(e).length}co.DEFAULT_COLLECTION_PERCENTILE=10,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,co.DEFAULT=new co(41943040,co.DEFAULT_COLLECTION_PERCENTILE,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),co.DISABLED=new co(-1,0,0);class Fg{constructor(e,t,o,u){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,t,o,u){A(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Fg(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).Wt({index:"userMutationsIndex",range:o},(u,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=Cu(e),m=Al(e);return m.add({}).next(D=>{A("number"==typeof D);const B=new oc(D,t,o,u),z=function(Ke,dt,ft){const Zt=ft.baseMutations.map(Di=>Sa(Ke.Jt,Di)),On=ft.mutations.map(Di=>Sa(Ke.Jt,Di));return{userId:dt,batchId:ft.batchId,localWriteTimeMs:ft.localWriteTime.toMillis(),baseMutations:Zt,mutations:On}}(this.M,this.userId,B),oe=[];let Ce=new Qn((Ke,dt)=>xn(Ke.canonicalString(),dt.canonicalString()));for(const Ke of u){const dt=lo(this.userId,Ke.key.path,D);Ce=Ce.add(Ke.key.path.popLast()),oe.push(m.put(z)),oe.push(d.put(dt,Yu))}return Ce.forEach(Ke=>{oe.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.ln[D]=B.keys()}),et.waitFor(oe).next(()=>B)})}lookupMutationBatch(e,t){return Al(e).get(t).next(o=>o?(A(o.userId===this.userId),lc(this.M,o)):null)}fn(e,t){return this.ln[t]?et.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.ln[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Al(e).Wt({index:"userMutationsIndex",range:u},(m,D,B)=>{D.userId===this.userId&&(A(D.batchId>=o),d=lc(this.M,D)),B.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Al(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(u,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).qt("userMutationsIndex",t).next(o=>o.map(u=>lc(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=bi(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return Cu(e).Wt({range:u},(m,D,B)=>{const[z,oe,Ce]=m,Ke=un(oe);if(z===this.userId&&t.path.isEqual(Ke))return Al(e).get(Ce).next(dt=>{if(!dt)throw y();A(dt.userId===this.userId),d.push(lc(this.M,dt))});B.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Qn(xn);const u=[];return t.forEach(d=>{const m=bi(this.userId,d.path),D=IDBKeyRange.lowerBound(m),B=Cu(e).Wt({range:D},(z,oe,Ce)=>{const[Ke,dt,ft]=z,Zt=un(dt);Ke===this.userId&&d.path.isEqual(Zt)?o=o.add(ft):Ce.done()});u.push(B)}),et.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=bi(this.userId,o),m=IDBKeyRange.lowerBound(d);let D=new Qn(xn);return Cu(e).Wt({range:m},(B,z,oe)=>{const[Ce,Ke,dt]=B,ft=un(Ke);Ce===this.userId&&o.isPrefixOf(ft)?ft.length===u&&(D=D.add(dt)):oe.done()}).next(()=>this.dn(e,D))}dn(e,t){const o=[],u=[];return t.forEach(d=>{u.push(Al(e).get(d).next(m=>{if(null===m)throw y();A(m.userId===this.userId),o.push(lc(this.M,m))}))}),et.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return qf(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),et.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Cu(e).Wt({range:o},(d,m,D)=>{if(d[0]===this.userId){const B=un(d[1]);u.push(B)}else D.done()}).next(()=>{A(0===u.length)})})}containsKey(e,t){return Kf(e,this.userId,t)}wn(e){return sd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kf(i,e,t){const o=bi(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return Cu(i).Wt({range:d,jt:!0},(D,B,z)=>{const[oe,Ce,Ke]=D;oe===e&&Ce===u&&(m=!0),z.done()}).next(()=>m)}function Al(i){return Os(i,"mutations")}function Cu(i){return Os(i,"documentMutations")}function sd(i){return Os(i,"mutationQueues")}class Du{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Du(0)}static yn(){return new Du(-1)}}class Zf{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Du(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>_n.fromTimestamp(new pi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.In(e,u)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xu(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(A(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return Xu(e).Wt((m,D)=>{const B=cc(D);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(u++,d.push(this.removeTargetData(e,B)))}).next(()=>et.waitFor(d)).next(()=>u)}forEachTarget(e,t){return Xu(e).Wt((o,u)=>{const d=cc(u);t(d)})}pn(e){return Gy(e).get("targetGlobalKey").next(t=>(A(null!==t),t))}In(e,t){return Gy(e).put("targetGlobalKey",t)}Tn(e,t){return Xu(e).put(mh(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ca(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Xu(e).Wt({range:u,index:"queryTargetsIndex"},(m,D,B)=>{const z=cc(D);Wa(t,z.target)&&(d=z,B.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=el(e);return t.forEach(m=>{const D=qe(m.path);u.push(d.put({targetId:o,path:D})),u.push(this.referenceDelegate.addReference(e,o,m))}),et.waitFor(u)}removeMatchingKeys(e,t,o){const u=el(e);return et.forEach(t,d=>{const m=qe(d.path);return et.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=el(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=el(e);let d=Ur();return u.Wt({range:o,jt:!0},(m,D,B)=>{const z=un(m[1]),oe=new Rt(z);d=d.add(oe)}).next(()=>d)}containsKey(e,t){const o=qe(t.path),u=IDBKeyRange.bound([o],[_a(o)],!1,!0);let d=0;return el(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([m,D],B,z)=>{0!==m&&(d++,z.done())}).next(()=>d>0)}Et(e,t){return Xu(e).get(t).next(o=>o?cc(o):null)}}function Xu(i){return Os(i,"targets")}function Gy(i){return Os(i,"targetGlobal")}function el(i){return Os(i,"targetDocuments")}function Sl(i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,de.Z)(function*(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==Sg)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),Yf.apply(this,arguments)}function Lg([i,e],[t,o]){const u=xn(i,t);return 0===u?xn(e,o):u}class Vg{constructor(e){this.An=e,this.buffer=new Qn(Lg),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Lg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;mt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,de.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){tu(u)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Sl(u)}yield t.Sn(e)}))}}class zy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return et.resolve(Vr.A);const o=new Vg(t);return this.Dn.forEachTarget(e,u=>o.Pn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.Pn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(ru)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ru):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,u,d,m,D,B,z;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),u=this.params.maximumSequenceNumbersToCollect):u=Ce,m=Date.now(),this.nthSequenceNumber(e,u))).next(Ce=>(o=Ce,D=Date.now(),this.removeTargets(e,o,t))).next(Ce=>(d=Ce,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ce=>(z=Date.now(),va()<=at.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-oe}ms\n\tDetermined least recently used ${u} in `+(D-m)+`ms\n\tRemoved ${d} targets in `+(B-D)+`ms\n\tRemoved ${Ce} documents in `+(z-B)+`ms\nTotal Duration: ${z-oe}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ce})))}}class $_{constructor(e,t){this.db=e,this.garbageCollector=new zy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,u)=>t(u))}addReference(e,t,o){return od(e,o)}removeReference(e,t,o){return od(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return od(e,t)}On(e,t){return function(o,u){let d=!1;return sd(o).zt(m=>Kf(o,m,u).next(D=>(D&&(d=!0),et.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Mn(e,(m,D)=>{if(D<=t){const B=this.On(e,m).next(z=>{if(!z)return d++,o.getEntry(e,m).next(()=>(o.removeEntry(m,_n.min()),el(e).delete([0,qe(m.path)])))});u.push(B)}}).next(()=>et.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return od(e,t)}Mn(e,t){const o=el(e);let u,d=Vr.A;return o.Wt({index:"documentTargetsIndex"},([m,D],{path:B,sequenceNumber:z})=>{0===m?(d!==Vr.A&&t(new Rt(un(u)),d),d=z,u=B):d=Vr.A}).next(()=>{d!==Vr.A&&t(new Rt(un(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function od(i,e){return el(i).put((o=i.currentSequenceNumber,{targetId:0,path:qe(e.path),sequenceNumber:o}));var o}class Qf{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ie.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?et.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wy{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return gc(e).put(o)}removeEntry(e,t,o){return gc(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],gh(d),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=ie.newInvalidDocument(t);return gc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},(u,d)=>{o=this.$n(t,d)}).next(()=>o)}Bn(e,t){let o={size:0,document:ie.newInvalidDocument(t)};return gc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},(u,d)=>{o={document:this.$n(t,d),size:pc(d)}}).next(()=>o)}getEntries(e,t){let o=Lo();return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);o=o.insert(u,m)}).next(()=>o)}Un(e,t){let o=Lo(),u=new zn(Rt.comparator);return this.Ln(e,t,(d,m)=>{const D=this.$n(d,m);o=o.insert(d,D),u=u.insert(d,pc(m))}).next(()=>({documents:o,qn:u}))}Ln(e,t,o){if(t.isEmpty())return et.resolve();let u=new Qn(Zy);t.forEach(B=>u=u.add(B));const d=IDBKeyRange.bound(Eh(u.first()),Eh(u.last())),m=u.getIterator();let D=m.getNext();return gc(e).Wt({index:"documentKeyIndex",range:d},(B,z,oe)=>{const Ce=Rt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;D&&Zy(D,Ce)<0;)o(D,null),D=m.getNext();D&&D.isEqual(Ce)&&(o(D,z),D=m.hasNext()?m.getNext():null),D?oe.Ut(Eh(D)):oe.done()}).next(()=>{for(;D;)o(D,null),D=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),gh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gc(e).qt(IDBKeyRange.bound(u,d,!0)).next(m=>{let D=Lo();for(const B of m){const z=this.$n(Rt.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);D=D.insert(z.key,z)}return D})}getAllFromCollectionGroup(e,t,o,u){let d=Lo();const m=Ky(t,o),D=Ky(t,yn.max());return gc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,D,!0)},(B,z,oe)=>{const Ce=this.$n(Rt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Ce.key,Ce),d.size===u&&oe.done()}).next(()=>d)}newChangeBuffer(e){return new Jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qy(e).get("remoteDocumentGlobalKey").next(t=>(A(!!t),t))}Fn(e,t){return qy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function $f(i,e){let t;if(e.document)t=ec(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Rt.fromSegments(e.noDocument.path),u=Il(e.noDocument.readTime);t=ie.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return y();{const o=Rt.fromSegments(e.unknownDocument.path),u=Il(e.unknownDocument.version);t=ie.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new pi(o[0],o[1]);return _n.fromTimestamp(u)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(_n.min()))return o}return ie.newInvalidDocument(e)}}class Jf extends Qf{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Qo(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Qn((d,m)=>xn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const D=this.Gn.get(d);if(t.push(this.Kn.removeEntry(e,d,D.readTime)),m.isValidDocument()){const B=uc(this.Kn.M,m);u=u.add(d.path.popLast()),o+=pc(B)-D.size,t.push(this.Kn.addEntry(e,d,B))}else if(o-=D.size,this.trackRemovals){const B=uc(this.Kn.M,m.convertToNoDocument(_n.min()));t.push(this.Kn.addEntry(e,d,B))}}),u.forEach(d=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Kn.updateMetadata(e,o)),et.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:u})=>(u.forEach((d,m)=>{this.Gn.set(d,{size:m,readTime:o.get(d).readTime})}),o))}}function qy(i){return Os(i,"remoteDocumentGlobal")}function gc(i){return Os(i,"remoteDocumentsV14")}function Eh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ky(i,e){const t=e.documentKey.path.toArray();return[i,gh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zy(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=xn(t[d],o[d]),u)return u;return u=xn(t.length,o.length),u||(u=xn(t[t.length-2],o[o.length-2]),u||xn(t[t.length-1],o[o.length-1]))}class G_{constructor(e){this.M=e}kt(e,t,o,u){const d=new eu("createOrUpgrade",t);var D;o<1&&u>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gn,{unique:!0}),D.createObjectStore("documentMutations"),Yy(e),function(D){D.createObjectStore("remoteDocuments")}(e));let m=et.resolve();return o<3&&u>=3&&(0!==o&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),Yy(e)),m=m.next(()=>function(D){const B=D.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",z)}(d))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(D,B){return B.store("mutations").qt().next(z=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gn,{unique:!0});const oe=B.store("mutations"),Ce=z.map(Ke=>oe.put(Ke));return et.waitFor(Ce)})}(e,d))),m=m.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Qn(d))),o<6&&u>=6&&(m=m.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&u>=7&&(m=m.next(()=>this.Wn(d))),o<8&&u>=8&&(m=m.next(()=>this.zn(e,d))),o<9&&u>=9&&(m=m.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.Hn(d))),o<11&&u>=11&&(m=m.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(D){const B=D.createObjectStore("documentOverlays",{keyPath:Uf});B.createIndex("collectionPathOverlayIndex",Ly,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Tg,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(D){const B=D.createObjectStore("remoteDocumentsV14",{keyPath:ed});B.createIndex("documentKeyIndex",ah),B.createIndex("collectionGroupIndex",Iu)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>{!function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:td}).createIndex("sequenceNumberIndex",lh,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Vf}).createIndex("documentKeyIndex",nd,{unique:!1})}(e)})),m}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,u)=>{t+=pc(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(u=>et.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",m).next(D=>et.forEach(D,B=>{A(B.userId===d.userId);const z=lc(this.M,B);return qf(e,d.userId,z).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Wt((m,D)=>{const B=new ir(m),z=[0,qe(B)];d.push(t.get(z).next(oe=>oe?et.resolve():t.put({targetId:0,path:qe(B),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>et.waitFor(d))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:sc});const o=t.store("collectionParents"),u=new vh,d=m=>{if(u.add(m)){const D=m.lastSegment(),B=m.popLast();return o.put({collectionId:D,parent:qe(B)})}};return t.store("remoteDocuments").Wt({jt:!0},(m,D)=>{const B=new ir(m);return d(B.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([m,D,B],z)=>{const oe=un(D);return d(oe.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,u)=>{const d=cc(u),m=mh(this.M,d);return t.put(m)})}Jn(e,t){const o=t.store("remoteDocuments"),u=[];return o.Wt((d,m)=>{const D=t.store("remoteDocumentsV14"),B=(z=m,z.document?new Rt(ir.fromString(z.document.name).popFirst(5)):z.noDocument?Rt.fromSegments(z.noDocument.path):z.unknownDocument?Rt.fromSegments(z.unknownDocument.path):y()).path.toArray();var z;const oe={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(D.put(oe))}).next(()=>et.waitFor(u))}}function Yy(i){i.createObjectStore("targetDocuments",{keyPath:ic}).createIndex("documentTargetsIndex",uh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rc,{unique:!0}),i.createObjectStore("targetGlobal")}const Ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bg{constructor(e,t,o,u,d,m,D,B,z,oe,Ce=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=d,this.window=m,this.document=D,this.Xn=z,this.Zn=oe,this.ts=Ce,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Ke=>Promise.resolve(),!Bg.vt())throw new ee($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $_(this,u),this.hs=t+"main",this.M=new Hf(B),this.ls=new ca(this.hs,this.ts,new G_(this.M)),this.fs=new Zf(this.referenceDelegate,this.M),this.ds=new Wy(this.M),this._s=new By,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===oe&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee($.FAILED_PRECONDITION,Ug);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Vr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,de.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,de.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xa(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(tu(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return bh(e).get("owner").next(t=>et.resolve(this.Ps(t)))}Vs(e){return xa(e).delete(this.clientId)}vs(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Os(o,"clientMetadata");return u.qt().next(d=>{const m=e.Ds(d,18e5),D=d.filter(B=>-1===m.indexOf(B));return et.forEach(D,B=>u.delete(B.clientId)).next(()=>D)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?et.resolve(!0):bh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new ee($.FAILED_PRECONDITION,Ug);return!1}}return!(!this.networkEnabled||!this.inForeground)||xa(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,D=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new fh(t,Vr.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>xa(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Fg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new _h(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Wf.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){mt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=14===(m=this.ts)?Vy:13===m?dh:12===m?Ag:11===m?ch:void y();var m;let D;return this.ls.runTransaction(e,u,d,B=>(D=new fh(B,this.es?this.es.next():Vr.A),"readwrite-primary"===t?this.Es(D).next(z=>!!z||this.As(D)).next(z=>{if(!z)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ee($.FAILED_PRECONDITION,Sg);return o(D)}).next(z=>this.bs(D).next(()=>z)):this.$s(D).next(()=>o(D)))).then(B=>(D.raiseOnCommittedEvent(),B))}$s(e){return bh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee($.FAILED_PRECONDITION,Ug)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bh(e).put("owner",t)}static vt(){return ca.vt()}Rs(e){const t=bh(e);return t.get("owner").next(o=>this.Ps(o)?(mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):et.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(Lr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Xe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return mt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Lr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bh(i){return Os(i,"owner")}function xa(i){return Os(i,"clientMetadata")}function ad(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Qy{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(u=>{for(const d of o)d.applyToLocalView(u);return u})}qs(e,t){e.forEach((o,u)=>{for(const d of t)d.applyToLocalView(u)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return Rt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,t.path):Zl(t)?this.Ws(e,t,o):this.zs(e,t,o);var u}js(e,t){return this.Ls(e,new Rt(t)).next(o=>{let u=Zc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,t,o){const u=t.collectionGroup;let d=Zc();return this.indexManager.getCollectionParents(e,u).next(m=>et.forEach(m,D=>{const B=(z=t,oe=D.child(u),new Ka(oe,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,oe;return this.zs(e,B,o).next(z=>{z.forEach((oe,Ce)=>{d=d.insert(oe,Ce)})})}).next(()=>d))}zs(e,t,o){let u;return this.ds.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const m of d)for(const D of m.mutations){const B=D.key;let z=u.get(B);null==z&&(z=ie.newInvalidDocument(B),u=u.insert(B,z)),vl(D,z,m.localWriteTime),z.isFoundDocument()||(u=u.remove(B))}}).next(()=>(u.forEach((d,m)=>{vu(t,m)||(u=u.remove(d))}),u))}}class Ih{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=u}static Ys(e,t){let o=Ur(),u=Ur();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Ih(e,t.fromCache,o,u)}}class Ch{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,o,u){return this.ti(e,t).next(d=>d||this.ei(e,t,u,o)).next(d=>d||this.ni(e,t))}ti(e,t){return et.resolve(null)}ei(e,t,o,u){return function Gd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||u.isEqual(_n.min())?this.ni(e,t):this.Zs.Ks(e,o).next(d=>{const m=this.si(t,d);return this.ii(t,m,o,u)?this.ni(e,t):(va()<=at.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Fo(t)),this.ri(e,m,t,bn(u,-1)))})}si(e,t){let o=new Qn(Df(e));return t.forEach((u,d)=>{vu(e,d)&&(o=o.add(d))}),o}ii(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}ni(e,t){return va()<=at.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.Zs.Qs(e,t,yn.min())}ri(e,t,o,u){return this.Zs.Qs(e,o,u).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class jg{constructor(e,t,o,u){this.persistence=e,this.oi=t,this.M=u,this.ui=new zn(xn),this.ai=new Qo(d=>Ca(d),Wa),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Qy(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Dh(i,e,t,o){return new jg(i,e,t,o)}function Hg(i,e){return iu.apply(this,arguments)}function iu(){return iu=(0,de.Z)(function*(i,e){const t=j(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.Bs.getAllMutationBatches(o).next(d=>(u=d,t.li(e),t.Bs.getAllMutationBatches(o))).next(d=>{const m=[],D=[];let B=Ur();for(const z of u){m.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}for(const z of d){D.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}return t.fi.Ks(o,B).next(z=>({di:z,removedBatchIds:m,addedBatchIds:D}))})})}),iu.apply(this,arguments)}function $g(i,e){const t=j(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.hi.newChangeBuffer({trackRemovals:!0});return function(m,D,B,z){const oe=B.batch,Ce=oe.keys();let Ke=et.resolve();return Ce.forEach(dt=>{Ke=Ke.next(()=>z.getEntry(D,dt)).next(ft=>{const Zt=B.docVersions.get(dt);A(null!==Zt),ft.version.compareTo(Zt)<0&&(oe.applyToRemoteDocument(ft,B),ft.isValidDocument()&&(ft.setReadTime(B.commitVersion),z.addEntry(ft)))})}),Ke.next(()=>m.Bs.removeMutationBatch(D,oe))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.fi.Ks(o,u))})}function Gg(i){const e=j(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Xf(i,e){const t=j(i),o=e.snapshotVersion;let u=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.hi.newChangeBuffer({trackRemovals:!0});u=t.ui;const D=[];e.targetChanges.forEach((z,oe)=>{const Ce=u.get(oe);if(!Ce)return;D.push(t.fs.removeMatchingKeys(d,z.removedDocuments,oe).next(()=>t.fs.addMatchingKeys(d,z.addedDocuments,oe)));let Ke=Ce.withSequenceNumber(d.currentSequenceNumber);var dt,ft,Zt;e.targetMismatches.has(oe)?Ke=Ke.withResumeToken(Vi.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):z.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(z.resumeToken,o)),u=u.insert(oe,Ke),ft=Ke,Zt=z,(0===(dt=Ce).resumeToken.approximateByteSize()||ft.snapshotVersion.toMicroseconds()-dt.snapshotVersion.toMicroseconds()>=3e8||Zt.addedDocuments.size+Zt.modifiedDocuments.size+Zt.removedDocuments.size>0)&&D.push(t.fs.updateTargetData(d,Ke))});let B=Lo();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,z))}),D.push(zg(d,m,e.documentUpdates).next(z=>{B=z})),!o.isEqual(_n.min())){const z=t.fs.getLastRemoteSnapshotVersion(d).next(oe=>t.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));D.push(z)}return et.waitFor(D).next(()=>m.apply(d)).next(()=>t.fi.Gs(d,B)).next(()=>B)}).then(d=>(t.ui=u,d))}function zg(i,e,t){let o=Ur();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let d=Lo();return t.forEach((m,D)=>{const B=u.get(m);D.isNoDocument()&&D.version.isEqual(_n.min())?(e.removeEntry(m,D.readTime),d=d.insert(m,D)):!B.isValidDocument()||D.version.compareTo(B.version)>0||0===D.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(D),d=d.insert(m,D)):mt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",B.version," Watch version:",D.version)}),d})}function Wg(i,e){const t=j(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function mc(i,e){const t=j(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.fs.getTargetData(o,e).next(d=>d?(u=d,et.resolve(u)):t.fs.allocateTargetId(o).next(m=>(u=new nu(e,m,0,o.currentSequenceNumber),t.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.ui=t.ui.insert(o.targetId,o),t.ai.set(e,o.targetId)),o})}function yc(i,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,de.Z)(function*(i,e,t){const o=j(i),u=o.ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!tu(m))throw m;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ui=o.ui.remove(e),o.ai.delete(u.target)}),xl.apply(this,arguments)}function Tu(i,e,t){const o=j(i);let u=_n.min(),d=Ur();return o.persistence.runTransaction("Execute query","readonly",m=>function(D,B,z){const oe=j(D),Ce=oe.ai.get(z);return void 0!==Ce?et.resolve(oe.ui.get(Ce)):oe.fs.getTargetData(B,z)}(o,m,ko(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(m,D.targetId).next(B=>{d=B})}).next(()=>o.oi.Qs(m,e,t?u:_n.min(),t?d:Ur())).next(D=>(vc(o,Yl(e),D),{documents:D,_i:d})))}function Th(i,e){const t=j(i),o=j(t.fs),u=t.ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(m=>m?m.target:null))}function Ml(i,e){const t=j(i),o=t.ci.get(e)||_n.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.hi.getAllFromCollectionGroup(u,e,bn(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(vc(t,e,u),u))}function vc(i,e,t){let o=_n.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.ci.set(e,o)}function ep(){return ep=(0,de.Z)(function*(i,e,t,o){const u=j(i);let d=Ur(),m=Lo();for(const z of t){const oe=e.wi(z.metadata.name);z.document&&(d=d.add(oe));const Ce=e.mi(z);Ce.setReadTime(e.gi(z.metadata.readTime)),m=m.insert(oe,Ce)}const D=u.hi.newChangeBuffer({trackRemovals:!0}),B=yield mc(u,(z=o,ko(Za(ir.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>zg(z,D,m).next(oe=>(D.apply(z),oe)).next(oe=>u.fs.removeMatchingKeysForTargetId(z,B.targetId).next(()=>u.fs.addMatchingKeys(z,d,B.targetId)).next(()=>u.fi.Gs(z,oe)).next(()=>oe)))}),ep.apply(this,arguments)}function qg(i,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,de.Z)(function*(i,e,t=Ur()){const o=yield mc(i,ko(yh(e.bundledQuery))),u=j(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=Ki(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u._s.saveNamedQuery(d,e);const D=o.withResumeToken(Vi.EMPTY_BYTE_STRING,m);return u.ui=u.ui.insert(D.targetId,D),u.fs.updateTargetData(d,D).next(()=>u.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.fs.addMatchingKeys(d,t,o.targetId)).next(()=>u._s.saveNamedQuery(d,e))})}),Ah.apply(this,arguments)}class tp{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return et.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var o;return this.yi.set(t.id,{id:(o=t).id,version:o.version,createTime:Ki(o.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(o=t).name,query:yh(o.bundledQuery),readTime:Ki(o.readTime)}),et.resolve();var o}}class np{constructor(){this.overlays=new zn(Rt.comparator),this.Ii=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.Xt(e,t,d)}),et.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Ii.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.Ii.delete(o)),et.resolve()}getOverlaysForCollection(e,t,o){const u=Ta(),d=t.length+1,m=new Rt(t.child("")),D=this.overlays.getIteratorFrom(m);for(;D.hasNext();){const B=D.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===d&&B.largestBatchId>o&&u.set(B.getKey(),B)}return et.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new zn((z,oe)=>z-oe);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let oe=d.get(z.largestBatchId);null===oe&&(oe=Ta(),d=d.insert(z.largestBatchId,oe)),oe.set(z.getKey(),z)}}const D=Ta(),B=d.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,oe)=>D.set(z,oe)),!(D.size()>=u)););return et.resolve(D)}Xt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const m=this.Ii.get(u.largestBatchId).delete(o.key);this.Ii.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new ph(t,o));let d=this.Ii.get(t);void 0===d&&(d=Ur(),this.Ii.set(t,d)),this.Ii.set(t,d.add(o.key))}}class Sh{constructor(){this.Ti=new Qn(os.Ei),this.Ai=new Qn(os.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const o=new os(e,t);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Pi(new os(e,t))}Vi(e,t){e.forEach(o=>this.removeReference(o,t))}vi(e){const t=new Rt(new ir([])),o=new os(t,e),u=new os(t,e+1),d=[];return this.Ai.forEachInRange([o,u],m=>{this.Pi(m),d.push(m.key)}),d}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Rt(new ir([])),o=new os(t,e),u=new os(t,e+1);let d=Ur();return this.Ai.forEachInRange([o,u],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new os(e,0),o=this.Ti.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class os{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Rt.comparator(e.key,t.key)||xn(e.Ci,t.Ci)}static Ri(e,t){return xn(e.Ci,t.Ci)||Rt.comparator(e.key,t.key)}}class Jy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Qn(os.Ei)}checkEmpty(e){return et.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,u){const d=this.xi;this.xi++;const m=new oc(d,t,o,u);this.Bs.push(m);for(const D of u)this.Ni=this.Ni.add(new os(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return et.resolve(m)}lookupMutationBatch(e,t){return et.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Mi(t+1),d=u<0?0:u;return et.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return et.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new os(t,0),u=new os(t,Number.POSITIVE_INFINITY),d=[];return this.Ni.forEachInRange([o,u],m=>{const D=this.ki(m.Ci);d.push(D)}),et.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Qn(xn);return t.forEach(u=>{const d=new os(u,0),m=new os(u,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([d,m],D=>{o=o.add(D.Ci)})}),et.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Rt.isDocumentKey(d)||(d=d.child(""));const m=new os(new Rt(d),0);let D=new Qn(xn);return this.Ni.forEachWhile(B=>{const z=B.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(D=D.add(B.Ci)),!0)},m),et.resolve(this.Oi(D))}Oi(e){const t=[];return e.forEach(o=>{const u=this.ki(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){A(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let o=this.Ni;return et.forEach(t.mutations,u=>{const d=new os(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,t){const o=new os(t,0),u=this.Ni.firstAfterOrEqual(o);return et.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return et.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Kg{constructor(e){this.$i=e,this.docs=new zn(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,m=this.$i(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return et.resolve(o?o.document.mutableCopy():ie.newInvalidDocument(t))}getEntries(e,t){let o=Lo();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():ie.newInvalidDocument(u))}),et.resolve(o)}getAllFromCollection(e,t,o){let u=Lo();const d=new Rt(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:D,value:{document:B}}=m.getNext();if(!t.isPrefixOf(D.path))break;D.path.length>t.length+1||Wi(yr(B),o)<=0||(u=u.insert(B.key,B.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(e,t,o,u){y()}Bi(e,t){return et.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new z_(this)}getSize(e){return et.resolve(this.size)}}class z_ extends Qf{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),et.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Zg{constructor(e){this.persistence=e,this.Li=new Qo(t=>Ca(t),Wa),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Sh,this.targetCount=0,this.Ki=Du.gn()}forEachTarget(e,t){return this.Li.forEach((o,u)=>t(u)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ui&&(this.Ui=t),et.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Du(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Tn(t),et.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Li.forEach((m,D)=>{D.sequenceNumber<=t&&null===o.get(D.targetId)&&(this.Li.delete(m),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),et.waitFor(d).next(()=>u)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const o=this.Li.get(t)||null;return et.resolve(o)}addMatchingKeys(e,t,o){return this.qi.bi(t,o),et.resolve()}removeMatchingKeys(e,t,o){this.qi.Vi(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),et.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),et.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qi.Di(t);return et.resolve(o)}containsKey(e,t){return et.resolve(this.qi.containsKey(t))}}class Yg{constructor(e,t){this.Gi={},this.overlays={},this.es=new Vr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Zg(this),this.indexManager=new kg,this.ds=new Kg(o=>this.referenceDelegate.Qi(o)),this.M=new Hf(t),this._s=new tp(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new np,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Gi[e.toKey()];return o||(o=new Jy(t,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){mt("MemoryPersistence","Starting transaction:",e);const u=new Xy(this.es.next());return this.referenceDelegate.ji(),o(u).next(d=>this.referenceDelegate.Wi(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}zi(e,t){return et.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,t)))}}class Xy extends Bf{constructor(e){super(),this.currentSequenceNumber=e}}class xh{constructor(e){this.persistence=e,this.Hi=new Sh,this.Ji=null}static Yi(e){return new xh(e)}get Xi(){if(this.Ji)return this.Ji;throw y()}addReference(e,t,o){return this.Hi.addReference(o,t),this.Xi.delete(o.toString()),et.resolve()}removeReference(e,t,o){return this.Hi.removeReference(o,t),this.Xi.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),et.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(u=>this.Xi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Xi.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xi,o=>{const u=Rt.fromPath(o);return this.Zi(e,u).next(d=>{d||t.removeEntry(u,_n.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(o=>{o?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return et.or([()=>et.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Qg(i,e){return`firestore_clients_${i}_${e}`}function Jg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ao(i,e){return`firestore_targets_${i}_${e}`}class Mh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static tr(e,t,o){const u=JSON.parse(o);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new ee(u.error.code,u.error.message))),m?new Mh(e,t,u.state,d):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static tr(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new ee(o.error.code,o.error.message))),d?new ud(e,o.state,u):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=gs();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=Ro(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return u?new rp(e,d):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xg{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xg(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Oh{constructor(){this.activeTargetIds=gs()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class em{constructor(e,t,o,u,d){this.window=e,this.Yn=t,this.persistenceKey=o,this.ir=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new zn(xn),this.started=!1,this.cr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.hr=Qg(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Oh),this.dr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.Fs();for(const u of t){if(u===e.ir)continue;const d=e.getItem(Qg(e.persistenceKey,u));if(d){const m=rp.tr(u,d);m&&(e.ar=e.ar.insert(m.clientId,m))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const u=e.pr(o);u&&e.Ir(u)}for(const u of e.cr)e.ur(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,o){this.Er(e,t,o),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ao(this.persistenceKey,e));if(o){const u=ud.tr(e,o);u&&(t=u.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ao(this.persistenceKey,e))}updateQueryState(e,t,o){this.br(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Ar(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mt("SharedClientState","READ",e,t),t}setItem(e,t){mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const o=e;if(o.storageArea===this.storage){if(mt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==o.key)if(t.dr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Sr(u,null)}{const u=t.Dr(o.key,o.newValue);if(u)return t.Sr(u.clientId,u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Cr(o.key,o.newValue);if(u)return t.Nr(u)}}else if(t.wr.test(o.key)){if(null!==o.newValue){const u=t.kr(o.key,o.newValue);if(u)return t.Mr(u)}}else if(o.key===t.mr){if(null!==o.newValue){const u=t.pr(o.newValue);if(u)return t.Ir(u)}}else if(o.key===t.lr){const u=function(d){let m=Vr.A;if(null!=d)try{const D=JSON.parse(d);A("number"==typeof D),m=D}catch(D){Lr("SharedClientState","Failed to read sequence number from WebStorage",D)}return m}(o.newValue);u!==Vr.A&&t.sequenceNumberHandler(u)}else if(o.key===t.gr){const u=t.Or(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.Fr(d)))}}else t.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,o){const u=new Mh(this.currentUser,e,t,o),d=Jg(this.persistenceKey,this.currentUser,e);this.setItem(d,u.er())}Ar(e){const t=Jg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,o){const u=Ao(this.persistenceKey,e),d=new ud(e,t,o);this.setItem(u,d.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const o=this.vr(e);return rp.tr(o,t)}Cr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Mh.tr(new oi(void 0!==o[2]?o[2]:null),u,t)}kr(e,t){const o=this.wr.exec(e),u=Number(o[1]);return ud.tr(u,t)}pr(e){return Xg.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const o=t?this.ar.insert(e,t):this.ar.remove(e),u=this.Tr(this.ar),d=this.Tr(o),m=[],D=[];return d.forEach(B=>{u.has(B)||m.push(B)}),u.forEach(B=>{d.has(B)||D.push(B)}),this.syncEngine.Lr(m,D).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=gs();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class tm{constructor(){this.Ur=new Oh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Oh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ip{Kr(e){}shutdown(){}}class sp{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ev={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tv{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class nv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,u,d){const m=this.ho(e,t);mt("RestConnection","Sending: ",m,o);const D={};return this.lo(D,u,d),this.fo(e,m,D,o).then(B=>(mt("RestConnection","Received: ",B),B),B=>{throw I("RestConnection",`${e} failed with error: `,B,"url: ",m,"request:",o),B})}_o(e,t,o,u,d){return this.co(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.uo}/v1/${t}:${ev[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,m)=>{const D=new si;D.listenOnce(le.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case H.NO_ERROR:const z=D.getResponseJson();mt("Connection","XHR received:",JSON.stringify(z)),d(z);break;case H.TIMEOUT:mt("Connection",'RPC "'+e+'" timed out'),m(new ee($.DEADLINE_EXCEEDED,"Request time out"));break;case H.HTTP_ERROR:const oe=D.getStatus();if(mt("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",D.getResponseText()),oe>0){const Ce=D.getResponseJson().error;if(Ce&&Ce.status&&Ce.message){const Ke=function(dt){const ft=dt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ft)>=0?ft:$.UNKNOWN}(Ce.status);m(new ee(Ke,Ce.message))}else m(new ee($.UNKNOWN,"Server responded with status "+D.getStatus()))}else m(new ee($.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{mt("Connection",'RPC "'+e+'" completed.')}});const B=JSON.stringify(u);D.send(t,"POST",B,o,15)})}wo(e,t,o){const u=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=b(),m=C(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new mr({})),this.lo(D.initMessageHeaders,t,o),(0,Xe.uI)()||(0,Xe.b$)()||(0,Xe.d)()||(0,Xe.w1)()||(0,Xe.Mn)()||(0,Xe.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");const B=u.join("");mt("Connection","Creating WebChannel: "+B,D);const z=d.createWebChannel(B,D);let oe=!1,Ce=!1;const Ke=new tv({Jr:ft=>{Ce?mt("Connection","Not sending because WebChannel is closed:",ft):(oe||(mt("Connection","Opening WebChannel transport."),z.open(),oe=!0),mt("Connection","WebChannel sending:",ft),z.send(ft))},Yr:()=>z.close()}),dt=(ft,Zt,On)=>{ft.listen(Zt,Di=>{try{On(Di)}catch(ts){setTimeout(()=>{throw ts},0)}})};return dt(z,di.EventType.OPEN,()=>{Ce||mt("Connection","WebChannel transport opened.")}),dt(z,di.EventType.CLOSE,()=>{Ce||(Ce=!0,mt("Connection","WebChannel transport closed"),Ke.ro())}),dt(z,di.EventType.ERROR,ft=>{Ce||(Ce=!0,I("Connection","WebChannel transport errored:",ft),Ke.ro(new ee($.UNAVAILABLE,"The operation could not be completed")))}),dt(z,di.EventType.MESSAGE,ft=>{var Zt;if(!Ce){const On=ft.data[0];A(!!On);const Di=On,ts=Di.error||(null===(Zt=Di[0])||void 0===Zt?void 0:Zt.error);if(ts){mt("Connection","WebChannel received error:",ts);const Nr=ts.status;let vs=function(Zi){const go=Ei[Zi];if(void 0!==go)return eh(go)}(Nr),Ti=ts.message;void 0===vs&&(vs=$.INTERNAL,Ti="Unknown error status: "+Nr+" with message "+ts.message),Ce=!0,Ke.ro(new ee(vs,Ti)),z.close()}else mt("Connection","WebChannel received:",On),Ke.oo(On)}}),dt(m,st.STAT_EVENT,ft=>{ft.stat===kt.PROXY?mt("Connection","Detected buffering proxy"):ft.stat===kt.NOPROXY&&mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ke.io()},0),Ke}}function op(){return"undefined"!=typeof window?window:null}function Ph(){return"undefined"!=typeof document?document:null}function wc(i){return new Nf(i,!0)}class ap{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Yn=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&mt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nm{constructor(e,t,o,u,d,m,D,B){this.Yn=e,this.Vo=o,this.vo=u,this.So=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=D,this.listener=B,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new ap(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,de.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,de.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,de.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===$.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===t&&this.Qo(o,u)},o=>{e(()=>{const u=new ee($.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.No.Ro((0,de.Z)(function*(){e.state=0,e.start()}))}jo(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rm extends nm{constructor(e,t,o,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,m),this.M=d}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function la(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:y(),u=e.targetChange.targetIds||[],d=function(B,z){return B.N?(A(void 0===z||"string"==typeof z),Vi.fromBase64String(z||"")):(A(void 0===z||z instanceof Uint8Array),Vi.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,D=m&&function(B){const z=void 0===B.code?$.UNKNOWN:eh(B.code);return new ee(z,B.message||"")}(m);t=new bu(o,u,d,D||null)}else if("documentChange"in e){const o=e.documentChange,u=ua(i,o.document.name),d=Ki(o.document.updateTime),m=new R({mapValue:{fields:o.document.fields}}),D=ie.newFoundDocument(u,d,m);t=new Eu(o.targetIds||[],o.removedTargetIds||[],D.key,D)}else if("documentDelete"in e){const o=e.documentDelete,u=ua(i,o.document),d=o.readTime?Ki(o.readTime):_n.min(),m=ie.newNoDocument(u,d);t=new Eu([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=ua(i,o.document);t=new Eu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return y();{const o=e.filter,d=new Kc(o.count||0);t=new ss(o.targetId,d)}}var B;return t}(this.M,e),o=function(u){if(!("targetChange"in u))return _n.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_n.min():d.readTime?Ki(d.readTime):_n.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=Ku(this.M),t.addTarget=function(u,d){let m;const D=d.target;return m=Bu(D)?{documents:ih(u,D)}:{query:nc(u,D)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=Jl(u,d.resumeToken):d.snapshotVersion.compareTo(_n.min())>0&&(m.readTime=Ja(u,d.snapshotVersion.toTimestamp())),m}(this.M,e);const o=function Lf(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=Ku(this.M),t.removeTarget=e,this.Lo(t)}}class im extends nm{constructor(e,t,o,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,m),this.M=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(A(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function rh(i,e){return i&&i.length>0?(A(void 0!==e),i.map(t=>function(o,u){let d=Ki(o.updateTime?o.updateTime:u);return d.isEqual(_n.min())&&(d=Ki(u)),new Yd(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ki(e.commitTime);return this.listener.tu(o,t)}return A(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ku(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Sa(this.M,o))};this.Lo(t)}}class rv extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.M=u,this.su=!1}iu(){if(this.su)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.co(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ee($.UNKNOWN,u.toString())})}_o(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ee($.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class su{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Lr(t),this.uu=!1):mt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class up{constructor(e,t,o,u,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.Kr(D=>{o.enqueueAndForget((0,de.Z)(function*(){var B;Ma(m)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,de.Z)(function*(z){const oe=j(z);oe.wu.add(4),yield cd(oe),oe.yu.set("Unknown"),oe.wu.delete(4),yield ld(oe)}),function(z){return B.apply(this,arguments)})(m))}))}),this.yu=new su(o,u)}}function ld(i){return lp.apply(this,arguments)}function lp(){return lp=(0,de.Z)(function*(i){if(Ma(i))for(const e of i.mu)yield e(!0)}),lp.apply(this,arguments)}function cd(i){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,de.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Rh.apply(this,arguments)}function Nh(i,e){const t=j(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),hp(t)?dp(t):Rl(t).Mo()&&cp(t,e))}function dd(i,e){const t=j(i),o=Rl(t);t._u.delete(e),o.Mo()&&kh(t,e),0===t._u.size&&(o.Mo()?o.$o():Ma(t)&&t.yu.set("Unknown"))}function cp(i,e){i.pu.Z(e.targetId),Rl(i).Ho(e)}function kh(i,e){i.pu.Z(e),Rl(i).Jo(e)}function dp(i){i.pu=new Yc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Rl(i).start(),i.yu.au()}function hp(i){return Ma(i)&&!Rl(i).ko()&&i._u.size>0}function Ma(i){return 0===j(i).wu.size}function Fh(i){i.pu=void 0}function iv(i){return hd.apply(this,arguments)}function hd(){return hd=(0,de.Z)(function*(i){i._u.forEach((e,t)=>{cp(i,e)})}),hd.apply(this,arguments)}function fp(i,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,de.Z)(function*(i,e){Fh(i),hp(i)?(i.yu.lu(e),dp(i)):i.yu.set("Unknown")}),Lh.apply(this,arguments)}function W_(i,e,t){return sm.apply(this,arguments)}function sm(){return sm=(0,de.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof bu&&2===e.state&&e.cause)try{yield(o=(0,de.Z)(function*(u,d){const m=d.cause;for(const D of d.targetIds)u._u.has(D)&&(yield u.remoteSyncer.rejectListen(D,m),u._u.delete(D),u.pu.removeTarget(D))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ec(i,o)}else if(e instanceof Eu?i.pu.ut(e):e instanceof ss?i.pu._t(e):i.pu.ht(e),!t.isEqual(_n.min()))try{const o=yield Gg(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const m=u.pu.yt(d);return m.targetChanges.forEach((D,B)=>{if(D.resumeToken.approximateByteSize()>0){const z=u._u.get(B);z&&u._u.set(B,z.withResumeToken(D.resumeToken,d))}}),m.targetMismatches.forEach(D=>{const B=u._u.get(D);if(!B)return;u._u.set(D,B.withResumeToken(Vi.EMPTY_BYTE_STRING,B.snapshotVersion)),kh(u,D);const z=new nu(B.target,D,1,B.sequenceNumber);cp(u,z)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){mt("RemoteStore","Failed to raise snapshot:",o),yield Ec(i,o)}var o}),sm.apply(this,arguments)}function Ec(i,e,t){return om.apply(this,arguments)}function om(){return om=(0,de.Z)(function*(i,e,t){if(!tu(e))throw e;i.wu.add(1),yield cd(i),i.yu.set("Offline"),t||(t=()=>Gg(i.localStore)),i.asyncQueue.enqueueRetryable((0,de.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield ld(i)}))}),om.apply(this,arguments)}function am(i,e){return e().catch(t=>Ec(i,t,e))}function Ol(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,de.Z)(function*(i){const e=j(i),t=tl(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;um(e);)try{const u=yield Wg(e.localStore,o);if(null===u){0===e.du.length&&t.$o();break}o=u.batchId,lm(e,u)}catch(u){yield Ec(e,u)}pp(e)&&ou(e)}),Vh.apply(this,arguments)}function um(i){return Ma(i)&&i.du.length<10}function lm(i,e){i.du.push(e);const t=tl(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function pp(i){return Ma(i)&&!tl(i).ko()&&i.du.length>0}function ou(i){tl(i).start()}function Uh(i){return gp.apply(this,arguments)}function gp(){return gp=(0,de.Z)(function*(i){tl(i).nu()}),gp.apply(this,arguments)}function sv(i){return cm.apply(this,arguments)}function cm(){return cm=(0,de.Z)(function*(i){const e=tl(i);for(const t of i.du)e.Zo(t.mutations)}),cm.apply(this,arguments)}function mp(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,de.Z)(function*(i,e,t){const o=i.du.shift(),u=ac.from(o,e,t);yield am(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ol(i)}),Bh.apply(this,arguments)}function yp(i,e){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,de.Z)(function*(i,e){var t;e&&tl(i).Xo&&(yield(t=(0,de.Z)(function*(o,u){if(Xd(d=u.code)&&d!==$.ABORTED){const m=o.du.shift();tl(o).Fo(),yield am(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield Ol(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),pp(i)&&ou(i)}),Pl.apply(this,arguments)}function dm(i,e){return fd.apply(this,arguments)}function fd(){return fd=(0,de.Z)(function*(i,e){const t=j(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const o=Ma(t);t.wu.add(3),yield cd(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ld(t)}),fd.apply(this,arguments)}function jh(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,de.Z)(function*(i,e){const t=j(i);e?(t.wu.delete(2),yield ld(t)):e||(t.wu.add(2),yield cd(t),t.yu.set("Unknown"))}),Hh.apply(this,arguments)}function Rl(i){return i.Iu||(i.Iu=function(e,t,o){const u=j(e);return u.iu(),new rm(t,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:iv.bind(null,i),eo:fp.bind(null,i),zo:W_.bind(null,i)}),i.mu.push(function(){var e=(0,de.Z)(function*(t){t?(i.Iu.Fo(),hp(i)?dp(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Fh(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function tl(i){return i.Tu||(i.Tu=function(e,t,o){const u=j(e);return u.iu(),new im(t,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:Uh.bind(null,i),eo:yp.bind(null,i),eu:sv.bind(null,i),tu:mp.bind(null,i)}),i.mu.push(function(){var e=(0,de.Z)(function*(t){t?(i.Tu.Fo(),yield Ol(i)):(yield i.Tu.stop(),i.du.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class pd{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new We,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,u,d){const m=Date.now()+o,D=new pd(e,t,m,u,d);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bc(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),tu(i))return new ee($.UNAVAILABLE,`${e}: ${i}`);throw i}class Ic{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Rt.comparator(t.key,o.key):(t,o)=>Rt.comparator(t.key,o.key),this.keyedMap=Zc(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new Ic(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ic)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ic;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class vp{constructor(){this.Eu=new zn(Rt.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):y():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Oa{constructor(e,t,o,u,d,m,D,B){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=D,this.excludesMetadataChanges=B}static fromInitialDocuments(e,t,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Oa(e,t,Ic.emptySet(t),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class hm{constructor(){this.Ru=void 0,this.listeners=[]}}class ov{constructor(){this.queries=new Qo(e=>Wd(e),gl),this.onlineState="Unknown",this.bu=new Set}}function _p(i,e){return nl.apply(this,arguments)}function nl(){return nl=(0,de.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new hm),u)try{d.Ru=yield t.onListen(o)}catch(m){const D=bc(m,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(D)}t.queries.set(o,d),d.listeners.push(e),e.Pu(t.onlineState),d.Ru&&e.Vu(d.Ru)&&ha(t)}),nl.apply(this,arguments)}function wp(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,de.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Ep.apply(this,arguments)}function av(i,e){const t=j(i);let o=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const D of m.listeners)D.Vu(u)&&(o=!0);m.Ru=u}}o&&ha(t)}function uv(i,e,t){const o=j(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function ha(i){i.bu.forEach(e=>{e.next()})}class gd{constructor(e,t,o){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Oa(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class fm{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class bp{constructor(e){this.M=e}wi(e){return ua(this.M,e)}mi(e){return e.metadata.exists?ec(this.M,e.document,!1):ie.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Ki(e)}}class pm{constructor(e,t,o){this.Ou=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ip(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=ir.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new bp(this.M);for(const u of e)if(u.metadata.queries){const d=o.wi(u.metadata.name);for(const m of u.metadata.queries){const D=(t.get(m)||Ur()).add(d);t.set(m,D)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function _c(i,e,t,o){return ep.apply(this,arguments)}(e.localStore,new bp(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const u of e.queries)yield qg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ip(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class ym{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Ur(),this.mutatedKeys=Ur(),this.Gu=Df(e),this.Qu=new Ic(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new vp,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,m=u,D=!1;const B="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,Ce)=>{const Ke=u.get(oe),dt=vu(this.query,Ce)?Ce:null,ft=!!Ke&&this.mutatedKeys.has(Ke.key),Zt=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let On=!1;Ke&&dt?Ke.data.isEqual(dt.data)?ft!==Zt&&(o.track({type:3,doc:dt}),On=!0):this.Hu(Ke,dt)||(o.track({type:2,doc:dt}),On=!0,(B&&this.Gu(dt,B)>0||z&&this.Gu(dt,z)<0)&&(D=!0)):!Ke&&dt?(o.track({type:0,doc:dt}),On=!0):Ke&&!dt&&(o.track({type:1,doc:Ke}),On=!0,(B||z)&&(D=!0)),On&&(dt?(m=m.add(dt),d=Zt?d.add(oe):d.delete(oe)):(m=m.delete(oe),d=d.delete(oe)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const oe="F"===this.query.limitType?m.last():m.first();m=m.delete(oe.key),d=d.delete(oe.key),o.track({type:1,doc:oe})}return{Qu:m,zu:o,ii:D,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((z,oe)=>function(Ce,Ke){const dt=ft=>{switch(ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return dt(Ce)-dt(Ke)}(z.type,oe.type)||this.Gu(z.doc,oe.doc)),this.Ju(o);const m=t?this.Yu():[],D=0===this.Ku.size&&this.current?1:0,B=D!==this.qu;return this.qu=D,0!==d.length||B?{snapshot:new Oa(this.query,e.Qu,u,d,e.mutatedKeys,0===D,B,!1),Xu:m}:{Xu:m}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vp,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ur(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new mm(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new gm(o))}),t}ta(e){this.Uu=e._i,this.Ku=Ur();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Oa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class lv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class vm{constructor(e){this.key=e,this.na=!1}}class q_{constructor(e,t,o,u,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.sa={},this.ia=new Qo(D=>Wd(D),gl),this.ra=new Map,this.oa=new Set,this.ua=new zn(Rt.comparator),this.aa=new Map,this.ca=new Sh,this.ha={},this.la=new Map,this.fa=Du.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function _m(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,de.Z)(function*(i,e){const t=al(i);let o,u;const d=t.ia.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ea();else{const m=yield mc(t.localStore,ko(e));t.isPrimaryClient&&Nh(t.remoteStore,m);const D=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield Dp(t,e,o,"current"===D)}return u}),Cp.apply(this,arguments)}function Dp(i,e,t,o){return wm.apply(this,arguments)}function wm(){return wm=(0,de.Z)(function*(i,e,t,o){i._a=(oe,Ce,Ke)=>{return(dt=(0,de.Z)(function*(ft,Zt,On,Di){let ts=Zt.view.Wu(On);ts.ii&&(ts=yield Tu(ft.localStore,Zt.query,!1).then(({documents:Ti})=>Zt.view.Wu(Ti,ts)));const Nr=Di&&Di.targetChanges.get(Zt.targetId),vs=Zt.view.applyChanges(ts,ft.isPrimaryClient,Nr);return xp(ft,Zt.targetId,vs.Xu),vs.snapshot}),function(ft,Zt,On,Di){return dt.apply(this,arguments)})(i,oe,Ce,Ke);var dt};const u=yield Tu(i.localStore,e,!0),d=new ym(e,u._i),m=d.Wu(u.documents),D=wu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),B=d.applyChanges(m,i.isPrimaryClient,D);xp(i,t,B.Xu);const z=new lv(e,t,d);return i.ia.set(e,z),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),B.snapshot}),wm.apply(this,arguments)}function K_(i,e){return md.apply(this,arguments)}function md(){return md=(0,de.Z)(function*(i,e){const t=j(i),o=t.ia.get(e),u=t.ra.get(o.targetId);if(u.length>1)return t.ra.set(o.targetId,u.filter(d=>!gl(d,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield yc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),dd(t.remoteStore,o.targetId),rl(t,o.targetId)}).catch(Sl))):(rl(t,o.targetId),yield yc(t.localStore,o.targetId,!0))}),md.apply(this,arguments)}function $h(){return $h=(0,de.Z)(function*(i,e,t){const o=ul(i);try{const u=yield function(d,m){const D=j(d),B=pi.now(),z=m.reduce((Ce,Ke)=>Ce.add(Ke.key),Ur());let oe;return D.persistence.runTransaction("Locally write mutations","readwrite",Ce=>D.fi.Ks(Ce,z).next(Ke=>{oe=Ke;const dt=[];for(const ft of m){const Zt=Dg(ft,oe.get(ft.key));null!=Zt&&dt.push(new Da(ft.key,Zt,K(Zt.value.mapValue),is.exists(!0)))}return D.Bs.addMutationBatch(Ce,B,dt,m)})).then(Ce=>(Ce.applyToLocalDocumentSet(oe),{batchId:Ce.batchId,changes:oe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,m,D){let B=d.ha[d.currentUser.toKey()];B||(B=new zn(xn)),B=B.insert(m,D),d.ha[d.currentUser.toKey()]=B}(o,u.batchId,t),yield Au(o,u.changes),yield Ol(o.remoteStore)}catch(u){const d=bc(u,"Failed to persist write");t.reject(d)}}),$h.apply(this,arguments)}function Tp(i,e){return Em.apply(this,arguments)}function Em(){return Em=(0,de.Z)(function*(i,e){const t=j(i);try{const o=yield Xf(t.localStore,e);e.targetChanges.forEach((u,d)=>{const m=t.aa.get(d);m&&(A(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.na=!0:u.modifiedDocuments.size>0?A(m.na):u.removedDocuments.size>0&&(A(m.na),m.na=!1))}),yield Au(t,o,e)}catch(o){yield Sl(o)}}),Em.apply(this,arguments)}function fa(i,e,t){const o=j(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ia.forEach((d,m)=>{const D=m.view.Pu(e);D.snapshot&&u.push(D.snapshot)}),function(d,m){const D=j(d);D.onlineState=m;let B=!1;D.queries.forEach((z,oe)=>{for(const Ce of oe.listeners)Ce.Pu(m)&&(B=!0)}),B&&ha(D)}(o.eventManager,e),u.length&&o.sa.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Z_(i,e,t){return bm.apply(this,arguments)}function bm(){return bm=(0,de.Z)(function*(i,e,t){const o=j(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.aa.get(e),d=u&&u.key;if(d){let m=new zn(Rt.comparator);m=m.insert(d,ie.newNoDocument(d,_n.min()));const D=Ur().add(d),B=new _u(_n.min(),new Map,new Qn(xn),m,D);yield Tp(o,B),o.ua=o.ua.remove(d),o.aa.delete(e),Mp(o)}else yield yc(o.localStore,e,!1).then(()=>rl(o,e,t)).catch(Sl)}),bm.apply(this,arguments)}function Im(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,de.Z)(function*(i,e){const t=j(i),o=e.batch.batchId;try{const u=yield $g(t.localStore,e);Sp(t,o,null),yd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Au(t,u)}catch(u){yield Sl(u)}}),Gh.apply(this,arguments)}function Cm(i,e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,de.Z)(function*(i,e,t){const o=j(i);try{const u=yield function(d,m){const D=j(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return D.Bs.lookupMutationBatch(B,m).next(oe=>(A(null!==oe),z=oe.keys(),D.Bs.removeMutationBatch(B,oe))).next(()=>D.Bs.performConsistencyCheck(B)).next(()=>D.fi.Ks(B,z))})}(o.localStore,e);Sp(o,e,t),yd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Au(o,u)}catch(u){yield Sl(u)}}),Ap.apply(this,arguments)}function zh(){return zh=(0,de.Z)(function*(i,e){const t=j(i);Ma(t.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=j(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>m.Bs.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===o)return void e.resolve();const u=t.la.get(o)||[];u.push(e),t.la.set(o,u)}catch(o){const u=bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),zh.apply(this,arguments)}function yd(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function Sp(i,e,t){const o=j(i);let u=o.ha[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.ha[o.currentUser.toKey()]=u}}function rl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),t&&i.sa.wa(o,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||Dm(i,o)})}function Dm(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(dd(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),Mp(i))}function xp(i,e,t){for(const o of t)o instanceof gm?(i.ca.addReference(o.key,e),dv(i,o)):o instanceof mm?(mt("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||Dm(i,o.key)):y()}function dv(i,e){const t=e.key,o=t.path.canonicalString();i.ua.get(t)||i.oa.has(o)||(mt("SyncEngine","New document in limbo: "+t),i.oa.add(o),Mp(i))}function Mp(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new Rt(ir.fromString(e)),o=i.fa.next();i.aa.set(o,new vm(t)),i.ua=i.ua.insert(t,o),Nh(i.remoteStore,new nu(ko(Za(t.path)),o,2,Vr.A))}}function Au(i,e,t){return Op.apply(this,arguments)}function Op(){return Op=(0,de.Z)(function*(i,e,t){const o=j(i),u=[],d=[],m=[];var D;o.ia.isEmpty()||(o.ia.forEach((D,B)=>{m.push(o._a(B,e,t).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,z.fromCache?"not-current":"current"),u.push(z);const oe=Ih.Ys(B.targetId,z);d.push(oe)}}))}),yield Promise.all(m),o.sa.zo(u),yield(D=(0,de.Z)(function*(B,z){const oe=j(B);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>et.forEach(z,Ke=>et.forEach(Ke.Hs,dt=>oe.persistence.referenceDelegate.addReference(Ce,Ke.targetId,dt)).next(()=>et.forEach(Ke.Js,dt=>oe.persistence.referenceDelegate.removeReference(Ce,Ke.targetId,dt)))))}catch(Ce){if(!tu(Ce))throw Ce;mt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of z){const Ke=Ce.targetId;if(!Ce.fromCache){const dt=oe.ui.get(Ke),Zt=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);oe.ui=oe.ui.insert(Ke,Zt)}}}),function(B,z){return D.apply(this,arguments)})(o.localStore,d))}),Op.apply(this,arguments)}function Wh(i,e){return il.apply(this,arguments)}function il(){return il=(0,de.Z)(function*(i,e){const t=j(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const o=yield Hg(t.localStore,e);t.currentUser=e,(u=t).la.forEach(m=>{m.forEach(D=>{D.reject(new ee($.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.la.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Au(t,o.di)}var u}),il.apply(this,arguments)}function hv(i,e){const t=j(i),o=t.aa.get(e);if(o&&o.na)return Ur().add(o.key);{let u=Ur();const d=t.ra.get(e);if(!d)return u;for(const m of d){const D=t.ia.get(m);u=u.unionWith(D.view.ju)}return u}}function vd(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,de.Z)(function*(i,e){const t=j(i),o=yield Tu(t.localStore,e.query,!0),u=e.view.ta(o);return t.isPrimaryClient&&xp(t,e.targetId,u.Xu),u}),Pp.apply(this,arguments)}function fv(i,e){return _d.apply(this,arguments)}function _d(){return _d=(0,de.Z)(function*(i,e){const t=j(i);return Ml(t.localStore,e).then(o=>Au(t,o))}),_d.apply(this,arguments)}function au(i,e,t,o){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,de.Z)(function*(i,e,t,o){const u=j(i),d=yield function(m,D){const B=j(m),z=j(B.Bs);return B.persistence.runTransaction("Lookup mutation documents","readonly",oe=>z.fn(oe,D).next(Ce=>Ce?B.fi.Ks(oe,Ce):et.resolve(null)))}(u.localStore,e);var D;null!==d?("pending"===t?yield Ol(u.remoteStore):"acknowledged"===t||"rejected"===t?(Sp(u,e,o||null),yd(u,e),D=e,j(j(u.localStore).Bs)._n(D)):y(),yield Au(u,d)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Nl.apply(this,arguments)}function Su(){return Su=(0,de.Z)(function*(i,e){const t=j(i);if(al(t),ul(t),!0===e&&!0!==t.da){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield wd(t,o.toArray());t.da=!0,yield jh(t.remoteStore,!0);for(const d of u)Nh(t.remoteStore,d)}else if(!1===e&&!1!==t.da){const o=[];let u=Promise.resolve();t.ra.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(rl(t,m),yc(t.localStore,m,!0))),dd(t.remoteStore,m)}),yield u,yield wd(t,o),function(d){const m=j(d);m.aa.forEach((D,B)=>{dd(m.remoteStore,B)}),m.ca.Si(),m.aa=new Map,m.ua=new zn(Rt.comparator)}(t),t.da=!1,yield jh(t.remoteStore,!1)}}),Su.apply(this,arguments)}function wd(i,e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,de.Z)(function*(i,e,t){const o=j(i),u=[],d=[];for(const m of e){let D;const B=o.ra.get(m);if(B&&0!==B.length){D=yield mc(o.localStore,ko(B[0]));for(const z of B){const oe=o.ia.get(z),Ce=yield vd(o,oe);Ce.snapshot&&d.push(Ce.snapshot)}}else{const z=yield Th(o.localStore,m);D=yield mc(o.localStore,z),yield Dp(o,qh(z),m,!1)}u.push(D)}return o.sa.zo(d),u}),Vo.apply(this,arguments)}function qh(i){return mu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Cc(i){const e=j(i);return j(j(e.localStore).persistence).Fs()}function Dc(i,e,t,o){return sl.apply(this,arguments)}function sl(){return sl=(0,de.Z)(function*(i,e,t,o){const u=j(i);if(u.da)return void mt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ra.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield Ml(u.localStore,Yl(d[0])),D=_u.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Au(u,m,D);break}case"rejected":yield yc(u.localStore,e,!0),rl(u,e,o);break;default:y()}}),sl.apply(this,arguments)}function Tc(i,e,t){return ol.apply(this,arguments)}function ol(){return ol=(0,de.Z)(function*(i,e,t){const o=al(i);if(o.da){for(const u of e){if(o.ra.has(u)){mt("SyncEngine","Adding an already active target "+u);continue}const d=yield Th(o.localStore,u),m=yield mc(o.localStore,d);yield Dp(o,qh(d),m.targetId,!1),Nh(o.remoteStore,m)}for(const u of t)o.ra.has(u)&&(yield yc(o.localStore,u,!1).then(()=>{dd(o.remoteStore,u),rl(o,u)}).catch(Sl))}}),ol.apply(this,arguments)}function al(i){const e=j(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z_.bind(null,e),e.sa.zo=av.bind(null,e.eventManager),e.sa.wa=uv.bind(null,e.eventManager),e}function ul(i){const e=j(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cm.bind(null,e),e}class kl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.M=wc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Dh(this.persistence,new Ch,e.initialUser,this.M)}ya(e){return new Yg(xh.Yi,this.M)}ga(e){return new tm}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rp extends kl{constructor(e,t,o){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,de.Z)(function*(){yield t().call(o,e),yield o.Ta.initialize(o,e),yield ul(o.Ta.syncEngine),yield Ol(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Dh(this.persistence,new Ch,e.initialUser,this.M)}pa(e){return new H_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?co.withCacheSize(this.cacheSizeBytes):co.DEFAULT;return new Bg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,op(),Ph(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new tm}}class Tm extends Rp{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,de.Z)(function*(){yield t().call(o,e);const u=o.Ta.syncEngine;o.sharedClientState instanceof em&&(o.sharedClientState.syncEngine={$r:au.bind(null,u),Br:Dc.bind(null,u),Lr:Tc.bind(null,u),Fs:Cc.bind(null,u),Fr:fv.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,de.Z)(function*(m){yield function ho(i,e){return Su.apply(this,arguments)}(o.Ta.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}ga(e){const t=op();if(!em.vt(t))throw new ee($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new em(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Kh{initialize(e,t){var o=this;return(0,de.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>fa(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Wh.bind(null,o.syncEngine),yield jh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ov}createDatastore(e){const t=wc(e.databaseInfo.databaseId),o=new nv(e.databaseInfo);return new rv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=D=>fa(this.syncEngine,D,0),m=sp.vt()?new sp:new ip,new up(t,o,u,d,m);var t,o,u,d,m}createSyncEngine(e,t){return function(o,u,d,m,D,B,z){const oe=new q_(o,u,d,m,D,B);return z&&(oe.da=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const o=j(t);mt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield cd(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Np(i,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ed{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Am{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new We,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,de.Z)(function*(){const t=yield e.Va();if(null===t)return null;const o=e.ba.decode(t),u=Number(o);isNaN(u)&&e.va(`length string (${o}) is not valid number`);const d=yield e.Sa(u);return new fm(JSON.parse(d),t.length+u)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,de.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Sa(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const o=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,de.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Sm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ee($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,de.Z)(function*(d,m){const D=j(d),B=Ku(D.M)+"/documents",z={documents:m.map(dt=>Xa(D.M,dt))},oe=yield D._o("BatchGetDocuments",B,z),Ce=new Map;oe.forEach(dt=>{const ft=function Ff(i,e){return"found"in e?function(t,o){A(!!o.found);const u=ua(t,o.found.name),d=Ki(o.found.updateTime),m=new R({mapValue:{fields:o.found.fields}});return ie.newFoundDocument(u,d,m)}(i,e):"missing"in e?function(t,o){A(!!o.missing),A(!!o.readTime);const u=ua(t,o.missing),d=Ki(o.readTime);return ie.newNoDocument(u,d)}(i,e):y()}(D.M,dt);Ce.set(ft.key.toString(),ft)});const Ke=[];return m.forEach(dt=>{const ft=Ce.get(dt.toString());A(!!ft),Ke.push(ft)}),Ke}),function(d,m){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new aa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=Rt.fromPath(u);e.mutations.push(new qc(d,e.precondition(d)))}),yield(o=(0,de.Z)(function*(u,d){const m=j(u),D=Ku(m.M)+"/documents",B={writes:d.map(z=>Sa(m.M,z))};yield m.co("Commit",D,B)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=_n.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new ee($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?is.updateTime(t):is.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new ee($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(t)}return is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xm{constructor(e,t,o,u,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=d,this.xa=o.maxAttempts,this.No=new ap(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,de.Z)(function*(){const t=new Sm(e.datastore),o=e.ka(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Ma(d)}))}).catch(u=>{e.Ma(u)})}))}ka(e){try{const t=this.updateFunction(e);return!Ws(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Xd(t)}return!1}}class Mm{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=oi.UNAUTHENTICATED,this.clientId=zo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,de.Z)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(mt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new We;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=bc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Om(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,de.Z)(function*(d){o.isEqual(d)||(yield Hg(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Zh.apply(this,arguments)}function Pm(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Qh(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>dm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>dm(e.remoteStore,d)),i.onlineComponents=e}),Yh.apply(this,arguments)}function Qh(i){return kp.apply(this,arguments)}function kp(){return kp=(0,de.Z)(function*(i){return i.offlineComponents||(mt("FirestoreClient","Using default OfflineComponentProvider"),yield Om(i,new kl)),i.offlineComponents}),kp.apply(this,arguments)}function Jh(i){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,de.Z)(function*(i){return i.onlineComponents||(mt("FirestoreClient","Using default OnlineComponentProvider"),yield Pm(i,new Kh)),i.onlineComponents}),Xh.apply(this,arguments)}function Rm(i){return Qh(i).then(e=>e.persistence)}function ef(i){return Qh(i).then(e=>e.localStore)}function Nm(i){return Jh(i).then(e=>e.remoteStore)}function Fp(i){return Jh(i).then(e=>e.syncEngine)}function bd(i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,de.Z)(function*(i){const e=yield Jh(i),t=e.eventManager;return t.onListen=_m.bind(null,e.syncEngine),t.onUnlisten=K_.bind(null,e.syncEngine),t}),Lp.apply(this,arguments)}function gv(i,e,t={}){const o=new We;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,d,m,D,B){const z=new Ed({next:Ce=>{d.enqueueAndForget(()=>wp(u,oe));const Ke=Ce.docs.has(m);!Ke&&Ce.fromCache?B.reject(new ee($.UNAVAILABLE,"Failed to get document because the client is offline.")):Ke&&Ce.fromCache&&D&&"server"===D.source?B.reject(new ee($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ce)},error:Ce=>B.reject(Ce)}),oe=new gd(Za(m.path),z,{includeMetadataChanges:!0,ku:!0});return _p(u,oe)}(yield bd(i),i.asyncQueue,e,t,o)})),o.promise}function mv(i,e,t={}){const o=new We;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,d,m,D,B){const z=new Ed({next:Ce=>{d.enqueueAndForget(()=>wp(u,oe)),Ce.fromCache&&"server"===D.source?B.reject(new ee($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ce)},error:Ce=>B.reject(Ce)}),oe=new gd(m,z,{includeMetadataChanges:!0,ku:!0});return _p(u,oe)}(yield bd(i),i.asyncQueue,e,t,o)})),o.promise}const Fl=new Map;function Bp(i,e,t){if(!t)throw new ee($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jp(i,e,t,o){if(!0===e&&!0===o)throw new ee($.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Fm(i){if(!Rt.isDocumentKey(i))throw new ee($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hp(i){if(Rt.isDocumentKey(i))throw new ee($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ll(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":y()}function Er(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ee($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ll(i);throw new ee($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function $p(i,e){if(e<=0)throw new ee($.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Lm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ee($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ee($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lm({}),this._settingsFrozen=!1,e instanceof Ls?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ls(u.options.projectId)}(e))}get app(){if(!this._app)throw new ee($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Mn;switch(t.type){case"gapi":const o=t.client;return A(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Gi(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ee($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fl.get(e);t&&(mt("ComponentProvider","Removing Datastore"),Fl.delete(e),t.terminate())}(this),Promise.resolve()}}class Ii{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}}class fo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Pa extends fo{constructor(e,t,o){super(e,t,Za(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new Rt(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function Vm(i,e,...t){if(i=(0,Xe.m9)(i),Bp("collection","path",e),i instanceof Id){const o=ir.fromString(e,...t);return Hp(o),new Pa(i,null,o)}{if(!(i instanceof Ii||i instanceof Pa))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...t));return Hp(o),new Pa(i.firestore,null,o)}}function Cd(i,e,...t){if(i=(0,Xe.m9)(i),1===arguments.length&&(e=zo.R()),Bp("doc","path",e),i instanceof Id){const o=ir.fromString(e,...t);return Fm(o),new Ii(i,null,new Rt(o))}{if(!(i instanceof Ii||i instanceof Pa))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...t));return Fm(o),new Ii(i.firestore,i instanceof Pa?i.converter:null,new Rt(o))}}function tf(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),(i instanceof Ii||i instanceof Pa)&&(e instanceof Ii||e instanceof Pa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function wv(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),i instanceof fo&&e instanceof fo&&i.firestore===e.firestore&&gl(i._query,e._query)&&i.converter===e.converter}class Gp{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new ap(this,"async_queue_retry"),this.Qa=()=>{const t=Ph();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new We;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,de.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!tu(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=t,t}enqueueAfterDelay(e,t,o){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const u=pd.createAndSchedule(this,e,t,o,d=>this.Ha(d));return this.La.push(u),u}ja(){this.Ua&&y()}verifyOperationInProgress(){}Ja(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function zp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class X_{constructor(){this._progressObserver={},this._taskCompletionResolver=new We,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ci extends Id{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Gp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Td(this),this._firestoreClient.terminate()}}function ms(i){return i._firestoreClient||Td(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Td(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Lu(i._databaseId,d,i._persistenceKey,(D=t).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;i._firestoreClient=new Mm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ev(i,e,t){const o=new We;return i.asyncQueue.enqueue((0,de.Z)(function*(){try{yield Om(i,t),yield Pm(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===$.FAILED_PRECONDITION||d.code===$.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function Yp(i){if(i._initialized||i._terminated)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ra{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ee($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new es(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Vi.fromBase64String(e))}catch(t){throw new ee($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ll{constructor(e){this._methodName=e}}class Ad{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}const Qp=/^__.*__$/;class Gm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class zm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class rf{constructor(e,t,o,u,d,m){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=u,void 0===d&&this.tc(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.nc({path:o,ic:!1});return u.rc(e),u}oc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.nc({path:o,ic:!1});return u.tc(),u}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return xd(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Wm(this.ec)&&Qp.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Jp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||wc(e)}lc(e,t,o,u=!1){return new rf({ec:e,methodName:t,hc:o,path:es.emptyPath(),ic:!1,cc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xu(i){const e=i._freezeSettings(),t=wc(i._databaseId);return new Jp(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Sd(i,e,t,o,u,d={}){const m=i.lc(d.merge||d.mergeFields?2:0,e,t,u);as("Data must be an object, but it was:",m,o);const D=eg(o,m);let B,z;if(d.merge)B=new du(m.fieldMask),z=m.fieldTransforms;else if(d.mergeFields){const oe=[];for(const Ce of d.mergeFields){const Ke=af(e,Ce,t);if(!m.contains(Ke))throw new ee($.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Xm(oe,Ke)||oe.push(Ke)}B=new du(oe),z=m.fieldTransforms.filter(Ce=>B.covers(Ce.field))}else B=null,z=m.fieldTransforms;return new Gm(new R(D),B,z)}class Sc extends ll{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sc}}function Xp(i,e,t){return new rf({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class sf extends ll{_toFieldTransform(e){return new Wu(e.path,new Gu)}isEqual(e){return e instanceof sf}}class qm extends ll{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Xp(this,e,!0),o=this.fc.map(d=>Vl(d,t)),u=new ml(o);return new Wu(e.path,u)}isEqual(e){return this===e}}class Km extends ll{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Xp(this,e,!0),o=this.fc.map(d=>Vl(d,t)),u=new oa(o);return new Wu(e.path,u)}isEqual(e){return this===e}}class Zm extends ll{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ms(e.M,Sf(e.M,this.dc));return new Wu(e.path,t)}isEqual(e){return this===e}}function of(i,e,t,o){const u=i.lc(1,e,t);as("Data must be an object, but it was:",u,o);const d=[],m=R.empty();$a(o,(B,z)=>{const oe=uf(e,B,t);z=(0,Xe.m9)(z);const Ce=u.oc(oe);if(z instanceof Sc)d.push(oe);else{const Ke=Vl(z,Ce);null!=Ke&&(d.push(oe),m.set(oe,Ke))}});const D=new du(d);return new zm(m,D,u.fieldTransforms)}function Ym(i,e,t,o,u,d){const m=i.lc(1,e,t),D=[af(e,o,t)],B=[u];if(d.length%2!=0)throw new ee($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<d.length;Ke+=2)D.push(af(e,d[Ke])),B.push(d[Ke+1]);const z=[],oe=R.empty();for(let Ke=D.length-1;Ke>=0;--Ke)if(!Xm(z,D[Ke])){const dt=D[Ke];let ft=B[Ke];ft=(0,Xe.m9)(ft);const Zt=m.oc(dt);if(ft instanceof Sc)z.push(dt);else{const On=Vl(ft,Zt);null!=On&&(z.push(dt),oe.set(dt,On))}}const Ce=new du(z);return new zm(oe,Ce,m.fieldTransforms)}function Qm(i,e,t,o=!1){return Vl(t,i.lc(o?4:3,e))}function Vl(i,e){if(Jm(i=(0,Xe.m9)(i)))return as("Unsupported field value:",e,i),eg(i,e);if(i instanceof ll)return function(t,o){if(!Wm(o.ec))throw o.ac(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const m of t){let D=Vl(m,o.uc(d));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sf(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=pi.fromDate(t);return{timestampValue:Ja(o.M,u)}}if(t instanceof pi){const u=new pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ja(o.M,u)}}if(t instanceof Ad)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uu)return{bytesValue:Jl(o.M,t._byteString)};if(t instanceof Ii){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ac(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ac(`Unsupported field value: ${Ll(t)}`)}(i,e)}function eg(i,e){const t={};return Ud(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(i,(o,u)=>{const d=Vl(u,e.sc(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Jm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pi||i instanceof Ad||i instanceof uu||i instanceof Ii||i instanceof ll)}function as(i,e,t){if(!Jm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ll(t);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function af(i,e,t){if((e=(0,Xe.m9)(e))instanceof Ra)return e._internalPath;if("string"==typeof e)return uf(i,e);throw xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Dv=new RegExp("[~\\*/\\[\\]]");function uf(i,e,t){if(e.search(Dv)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ra(...e.split("."))._internalPath}catch(o){throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xd(i,e,t,o,u){const d=o&&!o.isEmpty(),m=void 0!==u;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let B="";return(d||m)&&(B+=" (found",d&&(B+=` in field ${o}`),m&&(B+=` in document ${u}`),B+=")"),new ee($.INVALID_ARGUMENT,D+i+B)}function Xm(i,e){return i.some(t=>t.isEqual(e))}class xc{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ey(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ey extends xc{data(){return super.data()}}function Mu(i,e){return"string"==typeof e?uf(i,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}class Ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends xc{constructor(e,t,o,u,d,m){super(e,t,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Mu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Mc extends Ou{data(e={}){return super.data(e)}}class cl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Ul(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Mc(this._firestore,this._userDataWriter,o.key,o,new Ul(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const D=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,z=-1;return 0!==m.type&&(B=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),z=d.indexOf(m.doc.key)),{type:ty(m.type),doc:D,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ty(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function Tv(i,e){return i instanceof Ou&&e instanceof Ou?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof cl&&e instanceof cl&&i._firestore===e._firestore&&wv(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function tg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ee($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bl{}function Js(i,...e){for(const t of e)i=t._apply(i);return i}class Av extends Bl{constructor(e,t,o){super(),this._c=e,this.wc=t,this.mc=o,this.type="where"}_apply(e){const t=xu(e.firestore),o=function(u,d,m,D,B,z,oe){let Ce;if(B.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new ee($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){ay(oe,z);const dt=[];for(const ft of oe)dt.push(rg(D,u,ft));Ce={arrayValue:{values:dt}}}else Ce=rg(D,u,oe)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||ay(oe,z),Ce=Qm(m,"where",oe,"in"===z||"not-in"===z);const Ke=qi.create(B,z,Ce);return function(dt,ft){if(ft.S()){const On=Kl(dt);if(null!==On&&!On.isEqual(ft.field))throw new ee($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${On.toString()}' and '${ft.field.toString()}'`);const Di=ql(dt);null!==Di&&ig(0,ft.field,Di)}const Zt=function(On,Di){for(const ts of On.filters)if(Di.indexOf(ts.op)>=0)return ts.op;return null}(dt,function(On){switch(On){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ft.op));if(null!==Zt)throw new ee($.INVALID_ARGUMENT,Zt===ft.op?`Invalid query. You cannot use more than one '${ft.op.toString()}' filter.`:`Invalid query. You cannot use '${ft.op.toString()}' filters with '${Zt.toString()}' filters.`)}(u,Ke),Ke}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new fo(e.firestore,e.converter,function(u,d){const m=u.filters.concat([d]);return new Ka(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class lu extends Bl{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new ee($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new ee($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new qa(u,d);return function(D,B){if(null===ql(D)){const z=Kl(D);null!==z&&ig(0,z,B.field)}}(o,m),m}(e._query,this._c,this.gc);return new fo(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Ka(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class pa extends Bl{constructor(e,t,o){super(),this.type=e,this.yc=t,this.Ic=o}_apply(e){return new fo(e.firestore,e.converter,zd(e._query,this.yc,this.Ic))}}class iy extends Bl{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=oy(e,this.type,this.Tc,this.Ec);return new fo(e.firestore,e.converter,(u=t,new Ka((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class sy extends Bl{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=oy(e,this.type,this.Tc,this.Ec);return new fo(e.firestore,e.converter,(u=t,new Ka((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function oy(i,e,t,o){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof xc)return function(u,d,m,D,B){if(!D)throw new ee($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const z=[];for(const oe of yu(u))if(oe.field.isKeyField())z.push(qo(d,D.key));else{const Ce=D.data.field(oe.field);if(fl(Ce))throw new ee($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const Ke=oe.field.canonicalString();throw new ee($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ke}' (used as the orderBy) does not exist.`)}z.push(Ce)}return new Yo(z,B)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=xu(i.firestore);return function(d,m,D,B,z,oe){const Ce=d.explicitOrderBy;if(z.length>Ce.length)throw new ee($.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ke=[];for(let dt=0;dt<z.length;dt++){const ft=z[dt];if(Ce[dt].field.isKeyField()){if("string"!=typeof ft)throw new ee($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof ft}`);if(!Zl(d)&&-1!==ft.indexOf("/"))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${ft}' contains a slash.`);const Zt=d.path.child(ir.fromString(ft));if(!Rt.isDocumentKey(Zt))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Zt}' is not because it contains an odd number of segments.`);const On=new Rt(Zt);Ke.push(qo(m,On))}else{const Zt=Qm(D,B,ft);Ke.push(Zt)}}return new Yo(Ke,oe)}(i._query,i.firestore._databaseId,u,e,t,o)}}function rg(i,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new ee($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zl(e)&&-1!==t.indexOf("/"))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(ir.fromString(t));if(!Rt.isDocumentKey(o))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return qo(i,new Rt(o))}if(t instanceof Ii)return qo(i,t._key);throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ll(t)}.`)}function ay(i,e){if(!Array.isArray(i)||0===i.length)throw new ee($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new ee($.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ig(i,e,t){if(!t.isEqual(e))throw new ee($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uy={maxAttempts:5};class Oc{convertValue(e,t="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){const o={};return $a(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Ad(Xr(e.latitude),Xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ps(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const t=ao(e);return new pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=ir.fromString(e);A(Se(o));const u=new Ls(o.get(1),o.get(3)),d=new Rt(o.popFirst(5));return u.isEqual(t)||Lr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function lf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class ly extends Oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,t)}}class sg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,t,o){this._verifyNotCommitted();const u=Pu(e,this._firestore),d=lf(u.converter,t,o),m=Sd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,is.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=Pu(e,this._firestore);let m;return m="string"==typeof(t=(0,Xe.m9)(t))||t instanceof Ra?Ym(this._dataReader,"WriteBatch.update",d._key,t,o,u):of(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pu(e,this._firestore);return this._mutations=this._mutations.concat(new aa(t._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pu(i,e){if((i=(0,Xe.m9)(i)).firestore!==e)throw new ee($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ru extends Oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,t)}}function og(i,e,t){i=Er(i,Ii);const o=Er(i.firestore,Ci),u=lf(i.converter,e,t);return Pc(o,[Sd(xu(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,is.none())])}function ag(i,e,t,...o){i=Er(i,Ii);const u=Er(i.firestore,Ci),d=xu(u);let m;return m="string"==typeof(e=(0,Xe.m9)(e))||e instanceof Ra?Ym(d,"updateDoc",i._key,e,t,o):of(d,"updateDoc",i._key,e),Pc(u,[m.toMutation(i._key,is.exists(!0))])}function gy(i,...e){var t,o,u;i=(0,Xe.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||zp(e[m])||(d=e[m],m++);const D={includeMetadataChanges:d.includeMetadataChanges};if(zp(e[m])){const Ce=e[m];e[m]=null===(t=Ce.next)||void 0===t?void 0:t.bind(Ce),e[m+1]=null===(o=Ce.error)||void 0===o?void 0:o.bind(Ce),e[m+2]=null===(u=Ce.complete)||void 0===u?void 0:u.bind(Ce)}let B,z,oe;if(i instanceof Ii)z=Er(i.firestore,Ci),oe=Za(i._key.path),B={next:Ce=>{e[m]&&e[m](ug(z,i,Ce))},error:e[m+1],complete:e[m+2]};else{const Ce=Er(i,fo);z=Er(Ce.firestore,Ci),oe=Ce._query;const Ke=new Ru(z);B={next:dt=>{e[m]&&e[m](new cl(z,Ke,Ce,dt))},error:e[m+1],complete:e[m+2]},tg(i._query)}return function(Ce,Ke,dt,ft){const Zt=new Ed(ft),On=new gd(Ke,Zt,dt);return Ce.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return _p(yield bd(Ce),On)})),()=>{Zt.Aa(),Ce.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return wp(yield bd(Ce),On)}))}}(ms(z),oe,D,B)}function Pc(i,e){return function(t,o){const u=new We;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function cv(i,e,t){return $h.apply(this,arguments)}(yield Fp(t),o,u)})),u.promise}(ms(i),e)}function ug(i,e,t){const o=t.docs.get(e._key),u=new Ru(i);return new Ou(i,u,e._key,o,new Ul(t.hasPendingWrites,t.fromCache),e.converter)}class Nv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xu(e)}get(e){const t=Pu(e,this._firestore),o=new ly(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return y();const d=u[0];if(d.isFoundDocument())return new xc(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new xc(this._firestore,o,t._key,null,t.converter);throw y()})}set(e,t,o){const u=Pu(e,this._firestore),d=lf(u.converter,t,o),m=Sd(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(e,t,o,...u){const d=Pu(e,this._firestore);let m;return m="string"==typeof(t=(0,Xe.m9)(t))||t instanceof Ra?Ym(this._dataReader,"Transaction.update",d._key,t,o,u):of(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Pu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pu(e,this._firestore),o=new Ru(this._firestore);return super.get(e).then(u=>new Ou(this._firestore,o,t._key,u._document,new Ul(!1,!1),t.converter))}}function df(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ee("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function lg(){if("undefined"==typeof Uint8Array)throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function cg(){if(!function hu(){return"undefined"!=typeof atob}())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Io=Pe.SDK_VERSION,(0,Pe._registerComponent)(new Ye.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Ci(u,new rr(t.getProvider("auth-internal")),new Go(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,Pe.registerVersion)(oo,"3.4.9",i),(0,Pe.registerVersion)(oo,"3.4.9","esm2017")}();class Rc{constructor(e){this._delegate=e}static fromBase64String(e){return cg(),new Rc(uu.fromBase64String(e))}static fromUint8Array(e){return lg(),new Rc(uu.fromUint8Array(e))}toBase64(){return cg(),this._delegate.toBase64()}toUint8Array(){return lg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hf(i){return function yy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class vy{enableIndexedDbPersistence(e,t){return function nf(i,e){Yp(i=Er(i,Ci));const t=ms(i),o=i._freezeSettings(),u=new Kh;return Ev(t,u,new Rp(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wp(i){Yp(i=Er(i,Ci));const e=ms(i),t=i._freezeSettings(),o=new Kh;return Ev(e,o,new Tm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bv(i){if(i._initialized&&!i._terminated)throw new ee($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new We;return i._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(o){if(!ca.vt())return Promise.resolve();const u=o+"main";yield ca.delete(u)}),function(o){return t.apply(this,arguments)})(ad(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ls||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&I("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function _v(i,e,t,o={}){var u;const d=(i=Er(i,Id))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&I("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let m,D;if("string"==typeof o.mockUserToken)m=o.mockUserToken,D=oi.MOCK_USER;else{m=(0,Xe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new ee($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new oi(B)}i._authCredentials=new Xt(new Bt(m,D))}}(this._delegate,e,t,o)}enableNetwork(){return function Kp(i){return function Vp(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Rm(i),t=yield Nm(i);return e.setNetworkEnabled(!0),function(o){const u=j(o);return u.wu.delete(0),ld(u)}(t)}))}(ms(i=Er(i,Ci)))}(this._delegate)}disableNetwork(){return function Hm(i){return function Up(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Rm(i),t=yield Nm(i);return e.setNetworkEnabled(!1),(o=(0,de.Z)(function*(u){const d=j(u);d.wu.add(0),yield cd(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ms(i=Er(i,Ci)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,jp("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qp(i){return function(e){const t=new We;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function Y_(i,e){return zh.apply(this,arguments)}(yield Fp(e),t)})),t.promise}(ms(i=Er(i,Ci)))}(this._delegate)}onSnapshotsInSync(e){return function Rv(i,e){return function yv(i,e){const t=new Ed(e);return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return o=yield bd(i),u=t,j(o).bu.add(u),void u.next();var o,u})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return o=yield bd(i),u=t,void j(o).bu.delete(u);var o,u}))}}(ms(i=Er(i,Ci)),zp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kc(this,Vm(this._delegate,e))}catch(t){throw ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,Cd(this._delegate,e))}catch(t){throw ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new po(this,function Um(i,e){if(i=Er(i,Id),Bp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(i,null,(t=e,new Ka(ir.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kv(i,e,t){i=Er(i,Ci);const o=Object.assign(Object.assign({},uy),t);return function(u){if(u.maxAttempts<1)throw new ee($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function km(i,e,t){const o=new We;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const u=yield(d=i,Jh(d).then(m=>m.datastore));var d;new xm(i.asyncQueue,u,t,e,o).run()})),o.promise}(ms(i),u=>e(new Nv(i,u)),o)}(this._delegate,t=>e(new hg(this,t)))}batch(){return ms(this._delegate),new dl(new sg(this._delegate,e=>Pc(this._delegate,e)))}loadBundle(e){return function Zp(i,e){const t=ms(i=Er(i,Ci)),o=new X_;return function J_(i,e,t,o){const u=function(d,m){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,B=function(B,z){if(B instanceof Uint8Array)return Np(B,z);if(B instanceof ArrayBuffer)return Np(new Uint8Array(B),z);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new Am(B,m);var B}(t,wc(e));i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function Ac(i,e,t){const o=j(i);var u;(u=(0,de.Z)(function*(d,m,D){try{const B=yield m.getMetadata();if(yield function(Ke,dt){const ft=j(Ke),Zt=Ki(dt.createTime);return ft.persistence.runTransaction("hasNewerBundle","readonly",On=>ft._s.getBundleMetadata(On,dt.id)).then(On=>!!On&&On.createTime.compareTo(Zt)>=0)}(d.localStore,B))return yield m.close(),D._completeWith({taskState:"Success",documentsLoaded:(Ke=B).totalDocuments,bytesLoaded:Ke.totalBytes,totalDocuments:Ke.totalDocuments,totalBytes:Ke.totalBytes}),Promise.resolve(new Set);D._updateProgress(Ip(B));const z=new pm(B,d.localStore,m.M);let oe=yield m.ma();for(;oe;){const Ke=yield z.Fu(oe);Ke&&D._updateProgress(Ke),oe=yield m.ma()}const Ce=yield z.complete();return yield Au(d,Ce.Lu,void 0),yield function(Ke,dt){const ft=j(Ke);return ft.persistence.runTransaction("Save bundle","readwrite",Zt=>ft._s.saveBundleMetadata(Zt,dt))}(d.localStore,B),D._completeWith(Ce.progress),Promise.resolve(Ce.Bu)}catch(B){return I("SyncEngine",`Loading bundle failed with ${B}`),D._failWith(B),Promise.resolve(new Set)}var Ke}),function(d,m,D){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Fp(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function $m(i,e){return function vv(i,e){return i.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,o){const u=j(t);return u.persistence.runTransaction("Get named query","readonly",d=>u._s.getNamedQuery(d,o))}(yield ef(i),e)}))}(ms(i=Er(i,Ci)),e).then(t=>t?new fo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new po(this,t):null)}}class Od extends Oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(new uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class hg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}get(e){const t=Hl(e);return this._delegate.get(t).then(o=>new pf(this._firestore,new Ou(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Hl(e);return o?(df("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=Hl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=Hl(e);return this._delegate.delete(t),this}}class dl{constructor(e){this._delegate=e}set(e,t,o){const u=Hl(e);return o?(df("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=Hl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=Hl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Mc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nc(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=jl.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new jl(e,new Od(e),t),u.set(t,d)),d}}jl.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}static forPath(e,t,o){if(e.length%2!=0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new Ii(t._delegate,o,new Rt(e)))}static forKey(e,t,o){return new ga(t,new Ii(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new kc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kc(this.firestore,Vm(this._delegate,e))}catch(t){throw ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof Ii&&tf(this._delegate,e)}set(e,t){t=df("DocumentReference.set",t);try{return t?og(this._delegate,e,t):og(this._delegate,e)}catch(o){throw ys(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?ag(this._delegate,e):ag(this._delegate,e,t,...o)}catch(u){throw ys(u,"updateDoc()","DocumentReference.update()")}}delete(){return function Ov(i){return Pc(Er(i.firestore,Ci),[new aa(i._key,is.none())])}(this._delegate)}onSnapshot(...e){const t=$v(e),o=ff(e,u=>new pf(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return gy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cy(i){i=Er(i,Ii);const e=Er(i.firestore,Ci),t=ms(e),o=new Ru(e);return function pv(i,e){const t=new We;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(o=(0,de.Z)(function*(u,d,m){try{const D=yield function(B,z){const oe=j(B);return oe.persistence.runTransaction("read document","readonly",Ce=>oe.fi.Ls(Ce,z))}(u,d);D.isFoundDocument()?m.resolve(D):D.isNoDocument()?m.resolve(null):m.reject(new ee($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const B=bc(D,`Failed to get document '${d} from cache`);m.reject(B)}}),function(u,d,m){return o.apply(this,arguments)})(yield ef(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Ou(e,o,i._key,u,new Ul(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function dy(i){i=Er(i,Ii);const e=Er(i.firestore,Ci);return gv(ms(e),i._key,{source:"server"}).then(t=>ug(e,i,t))}(this._delegate):function cf(i){i=Er(i,Ii);const e=Er(i.firestore,Ci);return gv(ms(e),i._key).then(t=>ug(e,i,t))}(this._delegate),t.then(o=>new pf(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}function ys(i,e,t){return i.message=i.message.replace(e,t),i}function $v(i){for(const e of i)if("object"==typeof e&&!hf(e))return e;return{}}function ff(i,e){var t,o;let u;return u=hf(i[0])?i[0]:hf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class pf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tv(this._delegate,e._delegate)}}class Nc extends pf{data(e){const t=this._delegate.data(e);return function F(i,e){i||y()}(void 0!==t),t}}class po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}where(e,t,o){try{return new po(this.firestore,Js(this._delegate,function Sv(i,e,t){const o=e,u=Mu("where",i);return new Av(u,o,t)}(e,t,o)))}catch(u){throw ys(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new po(this.firestore,Js(this._delegate,function Na(i,e="asc"){const t=e,o=Mu("orderBy",i);return new lu(o,t)}(e,t)))}catch(o){throw ys(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new po(this.firestore,Js(this._delegate,function ny(i){return $p("limit",i),new pa("limit",i,"F")}(e)))}catch(t){throw ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new po(this.firestore,Js(this._delegate,function ry(i){return $p("limitToLast",i),new pa("limitToLast",i,"L")}(e)))}catch(t){throw ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new po(this.firestore,Js(this._delegate,function xv(...i){return new iy("startAt",i,!0)}(...e)))}catch(t){throw ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new po(this.firestore,Js(this._delegate,function Mv(...i){return new iy("startAfter",i,!1)}(...e)))}catch(t){throw ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new po(this.firestore,Js(this._delegate,function ng(...i){return new sy("endBefore",i,!1)}(...e)))}catch(t){throw ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new po(this.firestore,Js(this._delegate,function Md(...i){return new sy("endAt",i,!0)}(...e)))}catch(t){throw ys(t,"endAt()","Query.endAt()")}}isEqual(e){return wv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function fy(i){i=Er(i,fo);const e=Er(i.firestore,Ci),t=ms(e),o=new Ru(e);return function Q_(i,e){const t=new We;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(o=(0,de.Z)(function*(u,d,m){try{const D=yield Tu(u,d,!0),B=new ym(d,D._i),z=B.Wu(D.documents),oe=B.applyChanges(z,!1);m.resolve(oe.snapshot)}catch(D){const B=bc(D,`Failed to execute query '${d} against cache`);m.reject(B)}}),function(u,d,m){return o.apply(this,arguments)})(yield ef(i),e,t);var o})),t.promise}(t,i._query).then(u=>new cl(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function py(i){i=Er(i,fo);const e=Er(i.firestore,Ci),t=ms(e),o=new Ru(e);return mv(t,i._query,{source:"server"}).then(u=>new cl(e,o,i,u))}(this._delegate):function hy(i){i=Er(i,fo);const e=Er(i.firestore,Ci),t=ms(e),o=new Ru(e);return tg(i._query),mv(t,i._query).then(u=>new cl(e,o,i,u))}(this._delegate),t.then(o=>new En(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=$v(e),o=ff(e,u=>new En(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return gy(this._delegate,t,o)}withConverter(e){return new po(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}class n0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class En{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Nc(this._firestore,o))})}isEqual(e){return Tv(this._delegate,e._delegate)}}class kc extends po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?Cd(this._delegate):Cd(this._delegate,e))}catch(t){throw ys(t,"doc()","CollectionReference.doc()")}}add(e){return function Pv(i,e){const t=Er(i.firestore,Ci),o=Cd(i),u=lf(i.converter,e);return Pc(t,[Sd(xu(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,is.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return tf(this._delegate,e._delegate)}withConverter(e){return new kc(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}function Hl(i){return Er(i,Ii)}class fg{constructor(...e){this._delegate=new Ra(...e)}static documentId(){return new fg(es.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof Ra&&this._delegate._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lv(){return new sf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cu(e)}static delete(){const e=function Fv(){return new Sc("deleteField")}();return e._methodName="FieldValue.delete",new cu(e)}static arrayUnion(...e){const t=function Vv(...i){return new qm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new cu(t)}static arrayRemove(...e){const t=function Uv(...i){return new Km("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new cu(t)}static increment(e){const t=function Bv(i){return new Zm("increment",i)}(e);return t._methodName="FieldValue.increment",new cu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gv={Firestore:dg,GeoPoint:Ad,Timestamp:pi,Blob:Rc,Transaction:hg,WriteBatch:dl,DocumentReference:ga,DocumentSnapshot:pf,Query:po,QueryDocumentSnapshot:Nc,QuerySnapshot:En,CollectionReference:kc,FieldPath:fg,FieldValue:cu,setLogLevel:function _y(i){!function Do(i){Co.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function mf(i){(function gf(i,e){i.INTERNAL.registerComponent(new Ye.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Gv)))})(i,(e,t)=>new dg(e,t,new vy)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(Ct.Z);var ei=L(1205),r0=L(440),wy=L(127);function Ey(i,e){return function zv(i,e=k.z){return new Y.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function yf(i,e){return Ey(i,e).pipe((0,je.U)(t=>({payload:t,type:"query"})))}function Pd(i,e){return yf(i,e).pipe((0,rt.O)(void 0),ke(),(0,je.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,D)=>{const B=u.find(oe=>oe.doc.ref.isEqual(m.ref)),z=null==t?void 0:t.payload.docs.find(oe=>oe.ref.isEqual(m.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(m.metadata)||!B&&z&&JSON.stringify(z.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:m}})}),d}))}function pg(i,e,t){return Pd(i,t).pipe((0,Qe.R)((o,u)=>function Wv(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function qv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return gg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),function ne(i,e=ue.y){return i=null!=i?i:ge,(0,Me.e)((t,o)=>{let u,d=!0;t.subscribe((0,Te.x)(o,m=>{const D=e(m);(d||!i(u,D))&&(d=!1,u=D,o.next(m))}))})}(),(0,je.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function gg(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Fc(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Iy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Pd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,je.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,rt.O)(void 0),ke(),(0,pt.h)(([o,u])=>u.length>0||!o),(0,je.U)(([o,u])=>u),ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Fc(e);return pg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return yf(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ve.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(ve.iC)}add(e){return this.ref.add(e)}doc(e){return new Cy(this.ref.doc(e),this.afs)}}class Cy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Ay(o,t);return new Iy(u,d,this.afs)}snapshotChanges(){return function by(i,e){return Ey(i,e).pipe((0,rt.O)(void 0),ke(),(0,je.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,je.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ie.D)(this.ref.get(e)).pipe(ve.iC)}}class Kv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pd(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,pt.h)(t=>t.length>0),ve.iC):Pd(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Fc(e);return pg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return yf(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ve.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(ve.iC)}}const Rd=new p.OlP("angularfire2.enableFirestorePersistence"),mg=new p.OlP("angularfire2.firestore.persistenceSettings"),Dy=new p.OlP("angularfire2.firestore.settings"),Ty=new p.OlP("angularfire2.firestore.use-emulator");function Ay(i,e=(t=>t)){return{query:e(i),ref:i}}let Lc=(()=>{class i{constructor(t,o,u,d,m,D,B,z,oe,Ce,Ke,dt,ft,Zt,On,Di,ts){this.schedulers=B;const Nr=(0,$e.on)(t,D,o),vs=oe;Ce&&(0,ei.nw)(Nr,D,Ke,ft,Zt,On,dt,Di),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${Nr.name}.firestore`,"AngularFirestore",Nr.name,()=>{const Ti=D.runOutsideAngular(()=>Nr.firestore());if(d&&Ti.settings(d),vs&&Ti.useEmulator(...vs),u&&!(0,Je.PM)(m)){const Zi=()=>{try{return(0,Ie.D)(Ti.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(go){return"undefined"!=typeof console&&console.warn(go),(0,we.of)(!1)}};return[Ti,D.runOutsideAngular(Zi)]}return[Ti,(0,we.of)(!1)]},[d,vs,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=Ay(u,o),D=this.schedulers.ngZone.run(()=>d);return new Iy(D,m,this)}collectionGroup(t,o){const u=o||(m=>m),d=this.firestore.collectionGroup(t);return new Kv(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Cy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG($e.Dh),p.LFG($e.xv,8),p.LFG(Rd,8),p.LFG(Dy,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ve.HU),p.LFG(mg,8),p.LFG(Ty,8),p.LFG(ei.zQ,8),p.LFG(ei.Qv,8),p.LFG(ei.L6,8),p.LFG(ei._Q,8),p.LFG(ei.rT,8),p.LFG(ei.lh,8),p.LFG(ei.f7,8),p.LFG(r0.nm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Nd=(()=>{class i{constructor(){wy.Z.registerVersion("angularfire",ve.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Rd,useValue:!0},{provide:mg,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Lc]}),i})()},2011:(bt,Le,L)=>{"use strict";L.d(Le,{Dh:()=>Te,GT:()=>ve,cc:()=>je,hO:()=>rt,on:()=>ue,pX:()=>we,xv:()=>ke});var p=L(5e3),k=L(127),Y=L(5813);bt=L.hmd(bt);const Ie=["ngOnDestroy"],we=(Je,vt,Ct,de={})=>new Proxy(Je,{get:(Pe,Ye)=>Ct.runOutsideAngular(()=>{var at;if(Je[Ye])return(null===(at=null==de?void 0:de.spy)||void 0===at?void 0:at.get)&&de.spy.get(Ye,Je[Ye]),Je[Ye];if(Ie.indexOf(Ye)>-1)return()=>{};const Xe=vt.toPromise().then(Z=>{const He=Z&&Z[Ye];return"function"==typeof He?He.bind(Z):He&&He.then?He.then(te=>Ct.run(()=>te)):Ct.run(()=>He)});return new Proxy(()=>{},{get:(Z,He)=>Xe[He],apply:(Z,He,te)=>Xe.then(xe=>{var fe;const Re=xe&&xe(...te);return(null===(fe=null==de?void 0:de.spy)||void 0===fe?void 0:fe.apply)&&de.spy.apply(Ye,te,Re),Re})})})}),ve=(Je,vt)=>{vt.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(de=>{Object.defineProperty(Je.prototype,de,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,de))})})};class Me{constructor(vt){return vt}}const Te=new p.OlP("angularfire2.app.options"),ke=new p.OlP("angularfire2.app.name");function ue(Je,vt,Ct){const Pe="object"==typeof Ct&&Ct||{};Pe.name=Pe.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const at=k.Z.apps.filter(Xe=>Xe&&Xe.name===Pe.name)[0]||vt.runOutsideAngular(()=>k.Z.initializeApp(Je,Pe));try{JSON.stringify(Je)!==JSON.stringify(at.options)&&ne("error",`${at.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return new Me(at)}const ne=(Je,...vt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Je](...vt)},ge={provide:Me,useFactory:ue,deps:[Te,p.R0b,[new p.FiY,ke]]};let rt=(()=>{class Je{constructor(Ct){k.Z.registerVersion("angularfire",Y.q4.full,"core"),k.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),k.Z.registerVersion("angular",p.q4F.full,Ct.toString())}static initializeApp(Ct,de){return{ngModule:Je,providers:[{provide:Te,useValue:Ct},{provide:ke,useValue:de}]}}}return Je.\u0275fac=function(Ct){return new(Ct||Je)(p.LFG(p.Lbi))},Je.\u0275mod=p.oAB({type:Je}),Je.\u0275inj=p.cJS({providers:[ge]}),Je})();function je(Je,vt,Ct,de,Pe){const[,Ye,at]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Je)||[];if(Ye)return function Qe(Je,vt){try{return Je.toString()===vt.toString()}catch(Ct){return Je===vt}}(Pe,at)||($e("error",`${vt} was already initialized on the ${Ct} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:Pe,was:at})),Ye;{const Xe=de();return globalThis.\u0275AngularfireInstanceCache.push([Je,Xe,Pe]),Xe}}const pt=!!bt.hot,$e=(Je,...vt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Je](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(bt,Le,L)=>{"use strict";L.d(Le,{q4:()=>Lu,iC:()=>Gl,fc:()=>No,HU:()=>pl,vb:()=>Vc,JM:()=>qs});var p=L(5e3),k=L(5867),Y=L(5861),Ie=L(9681),we=L(2090),ve=L(4859),Me=L(1877),Te=L(8766);const ke="@firebase/installations",ge="w:0.5.9",rt="FIS_v2",vt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(x){return x instanceof we.ZR&&x.code.includes("request-failed")}function de({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Pe(x){return{token:x.token,requestStatus:2,expiresIn:xe(x.expiresIn),creationTime:Date.now()}}function Ye(x,R){return at.apply(this,arguments)}function at(){return(at=(0,Y.Z)(function*(x,R){const ie=(yield R.json()).error;return vt.create("request-failed",{requestName:x,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function Xe({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Z(x,{refreshToken:R}){const K=Xe(x);return K.append("Authorization",function fe(x){return`${rt} ${x}`}(R)),K}function He(x){return te.apply(this,arguments)}function te(){return(te=(0,Y.Z)(function*(x){const R=yield x();return R.status>=500&&R.status<600?x():R})).apply(this,arguments)}function xe(x){return Number(x.replace("s","000"))}function Re(x,R){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,Y.Z)(function*({appConfig:x,heartbeatServiceProvider:R},{fid:K}){const ie=de(x),Fe=Xe(x),Ge=R.getImmediate({optional:!0});if(Ge){const bn=yield Ge.getHeartbeatsHeader();bn&&Fe.append("x-firebase-client",bn)}const Qt={method:"POST",headers:Fe,body:JSON.stringify({fid:K,authVersion:rt,appId:x.appId,sdkVersion:ge})},nn=yield He(()=>fetch(ie,Qt));if(nn.ok){const bn=yield nn.json();return{fid:bn.fid||K,registrationStatus:2,refreshToken:bn.refreshToken,authToken:Pe(bn.authToken)}}throw yield Ye("Create Installation",nn)})).apply(this,arguments)}function lt(x){return new Promise(R=>{setTimeout(R,x)})}const Vt=/^[cdef][\w-]{21}$/;function nt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const K=function Ht(x){return function _t(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Vt.test(K)?K:""}catch(x){return""}}function Lt(x){return`${x.appName}!${x.appId}`}const on=new Map;function Tt(x,R){const K=Lt(x);dn(K,R),function Fn(x,R){const K=function sr(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=x=>{dn(x.data.key,x.data.fid)}),Pn}();K&&K.postMessage({key:x,fid:R}),function Ln(){0===on.size&&Pn&&(Pn.close(),Pn=null)}()}(K,R)}function dn(x,R){const K=on.get(x);if(K)for(const ie of K)ie(R)}let Pn=null;const or="firebase-installations-store";let Tn=null;function Nt(){return Tn||(Tn=(0,Te.X3)("firebase-installations-database",1,{upgrade:(x,R)=>{0===R&&x.createObjectStore(or)}})),Tn}function qt(x,R){return vn.apply(this,arguments)}function vn(){return(vn=(0,Y.Z)(function*(x,R){const K=Lt(x),Fe=(yield Nt()).transaction(or,"readwrite"),Ge=Fe.objectStore(or),gt=yield Ge.get(K);return yield Ge.put(R,K),yield Fe.done,(!gt||gt.fid!==R.fid)&&Tt(x,R.fid),R})).apply(this,arguments)}function zt(x){return Br.apply(this,arguments)}function Br(){return(Br=(0,Y.Z)(function*(x){const R=Lt(x),ie=(yield Nt()).transaction(or,"readwrite");yield ie.objectStore(or).delete(R),yield ie.done})).apply(this,arguments)}function zr(x,R){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Y.Z)(function*(x,R){const K=Lt(x),Fe=(yield Nt()).transaction(or,"readwrite"),Ge=Fe.objectStore(or),gt=yield Ge.get(K),Qt=R(gt);return void 0===Qt?yield Ge.delete(K):yield Ge.put(Qt,K),yield Fe.done,Qt&&(!gt||gt.fid!==Qt.fid)&&Tt(x,Qt.fid),Qt})).apply(this,arguments)}function tn(x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,Y.Z)(function*(x){let R;const K=yield zr(x.appConfig,ie=>{const Fe=qn(ie),Ge=It(x,Fe);return R=Ge.registrationPromise,Ge.installationEntry});return""===K.fid?{installationEntry:yield R}:{installationEntry:K,registrationPromise:R}})).apply(this,arguments)}function qn(x){return Ai(x||{fid:nt(),registrationStatus:0})}function It(x,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(vt.create("app-offline"))};const K={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ie=function wt(x,R){return At.apply(this,arguments)}(x,K);return{installationEntry:K,registrationPromise:ie}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:ar(x)}:{installationEntry:R}}function At(){return(At=(0,Y.Z)(function*(x,R){try{const K=yield Re(x,R);return qt(x.appConfig,K)}catch(K){throw Ct(K)&&409===K.customData.serverCode?yield zt(x.appConfig):yield qt(x.appConfig,{fid:R.fid,registrationStatus:0}),K}})).apply(this,arguments)}function ar(x){return dr.apply(this,arguments)}function dr(){return(dr=(0,Y.Z)(function*(x){let R=yield hn(x.appConfig);for(;1===R.registrationStatus;)yield lt(100),R=yield hn(x.appConfig);if(0===R.registrationStatus){const{installationEntry:K,registrationPromise:ie}=yield tn(x);return ie||K}return R})).apply(this,arguments)}function hn(x){return zr(x,R=>{if(!R)throw vt.create("installation-not-found");return Ai(R)})}function Ai(x){return function vr(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Hn(x,R){return ce.apply(this,arguments)}function ce(){return(ce=(0,Y.Z)(function*({appConfig:x,heartbeatServiceProvider:R},K){const ie=_e(x,K),Fe=Z(x,K),Ge=R.getImmediate({optional:!0});if(Ge){const bn=yield Ge.getHeartbeatsHeader();bn&&Fe.append("x-firebase-client",bn)}const Qt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:ge,appId:x.appId}})},nn=yield He(()=>fetch(ie,Qt));if(nn.ok)return Pe(yield nn.json());throw yield Ye("Generate Auth Token",nn)})).apply(this,arguments)}function _e(x,{fid:R}){return`${de(x)}/${R}/authTokens:generate`}function Ee(x){return it.apply(this,arguments)}function it(){return(it=(0,Y.Z)(function*(x,R=!1){let K;const ie=yield zr(x.appConfig,Ge=>{if(!$t(Ge))throw vt.create("not-registered");const gt=Ge.authToken;if(!R&&$n(gt))return Ge;if(1===gt.requestStatus)return K=re(x,R),Ge;{if(!navigator.onLine)throw vt.create("app-offline");const Qt=hr(Ge);return K=St(x,Qt),Qt}});return K?yield K:ie.authToken})).apply(this,arguments)}function re(x,R){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,Y.Z)(function*(x,R){let K=yield ut(x.appConfig);for(;1===K.authToken.requestStatus;)yield lt(100),K=yield ut(x.appConfig);const ie=K.authToken;return 0===ie.requestStatus?Ee(x,R):ie})).apply(this,arguments)}function ut(x){return zr(x,R=>{if(!$t(R))throw vt.create("not-registered");return function Ar(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function St(x,R){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Y.Z)(function*(x,R){try{const K=yield Hn(x,R),ie=Object.assign(Object.assign({},R),{authToken:K});return yield qt(x.appConfig,ie),K}catch(K){if(!Ct(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ie=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield qt(x.appConfig,ie)}else yield zt(x.appConfig);throw K}})).apply(this,arguments)}function $t(x){return void 0!==x&&2===x.registrationStatus}function $n(x){return 2===x.requestStatus&&!function Jt(x){const R=Date.now();return R<x.creationTime||x.creationTime+x.expiresIn<R+36e5}(x)}function hr(x){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:R})}function Ir(){return(Ir=(0,Y.Z)(function*(x){const R=x,{installationEntry:K,registrationPromise:ie}=yield tn(R);return ie?ie.catch(console.error):Ee(R).catch(console.error),K.fid})).apply(this,arguments)}function fn(){return(fn=(0,Y.Z)(function*(x,R=!1){const K=x;return yield Kn(K),(yield Ee(K,R)).token})).apply(this,arguments)}function Kn(x){return _r.apply(this,arguments)}function _r(){return(_r=(0,Y.Z)(function*(x){const{registrationPromise:R}=yield tn(x);R&&(yield R)})).apply(this,arguments)}function ti(x){return vt.create("missing-app-config-values",{valueName:x})}const Yt="installations",Dt=x=>{const R=x.getProvider("app").getImmediate(),K=function ur(x){if(!x||!x.options)throw ti("App Configuration");if(!x.name)throw ti("App Name");const R=["projectId","apiKey","appId"];for(const K of R)if(!x.options[K])throw ti(K);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(R);return{app:R,appConfig:K,heartbeatServiceProvider:(0,Ie._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},an=x=>{const R=x.getProvider("app").getImmediate(),K=(0,Ie._getProvider)(R,Yt).getImmediate();return{getId:()=>function fi(x){return Ir.apply(this,arguments)}(K),getToken:Fe=>function Sr(x){return fn.apply(this,arguments)}(K,Fe)}};(function er(){(0,Ie._registerComponent)(new ve.wA(Yt,Dt,"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("installations-internal",an,"PRIVATE"))})(),(0,Ie.registerVersion)(ke,"0.5.9"),(0,Ie.registerVersion)(ke,"0.5.9","esm2017");const Wr="@firebase/remote-config",Gn=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bs{constructor(R,K,ie,Fe){this.client=R,this.storage=K,this.storageCache=ie,this.logger=Fe}isCachedDataFresh(R,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-K,Fe=ie<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Fe}.`),Fe}fetch(R){var K=this;return(0,Y.Z)(function*(){const[ie,Fe]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Fe&&K.isCachedDataFresh(R.cacheMaxAgeMillis,ie))return Fe;R.eTag=Fe&&Fe.eTag;const Ge=yield K.client.fetch(R),gt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&gt.push(K.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(gt),Ge})()}}function us(x=navigator){return x.languages&&x.languages[0]||x.language}class Yn{constructor(R,K,ie,Fe,Ge,gt){this.firebaseInstallations=R,this.sdkVersion=K,this.namespace=ie,this.projectId=Fe,this.apiKey=Ge,this.appId=gt}fetch(R){var K=this;return(0,Y.Z)(function*(){const[ie,Fe]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},nn={sdk_version:K.sdkVersion,app_instance_id:ie,app_instance_id_token:Fe,app_id:K.appId,language_code:us()},bn={method:"POST",headers:Qt,body:JSON.stringify(nn)},yr=fetch(gt,bn),yn=new Promise((Zs,Us)=>{R.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",Us(za)})});let Wi;try{yield Promise.race([yr,yn]),Wi=yield yr}catch(Zs){let Us="fetch-client-network";throw"AbortError"===Zs.name&&(Us="fetch-timeout"),Gn.create(Us,{originalErrorMessage:Zs.message})}let zn=Wi.status;const Zo=Wi.headers.get("ETag")||void 0;let mi,Qn;if(200===Wi.status){let Zs;try{Zs=yield Wi.json()}catch(Us){throw Gn.create("fetch-client-parse",{originalErrorMessage:Us.message})}mi=Zs.entries,Qn=Zs.state}if("INSTANCE_STATE_UNSPECIFIED"===Qn?zn=500:"NO_CHANGE"===Qn?zn=304:("NO_TEMPLATE"===Qn||"EMPTY_CONFIG"===Qn)&&(mi={}),304!==zn&&200!==zn)throw Gn.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:Zo,config:mi}})()}}class Ae{constructor(R,K){this.client=R,this.storage=K}fetch(R){var K=this;return(0,Y.Z)(function*(){const ie=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(R,ie)})()}attemptFetch(R,{throttleEndTimeMillis:K,backoffCount:ie}){var Fe=this;return(0,Y.Z)(function*(){yield function vi(x,R){return new Promise((K,ie)=>{const Fe=Math.max(R-Date.now(),0),Ge=setTimeout(K,Fe);x.addEventListener(()=>{clearTimeout(Ge),ie(Gn.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,K);try{const Ge=yield Fe.client.fetch(R);return yield Fe.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function ls(x){if(!(x instanceof we.ZR&&x.customData))return!1;const R=Number(x.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ge))throw Ge;const gt={throttleEndTimeMillis:Date.now()+(0,we.$s)(ie),backoffCount:ie+1};return yield Fe.storage.setThrottleMetadata(gt),Fe.attemptFetch(R,gt)}})()}}class tt{constructor(R,K,ie,Fe,Ge){this.app=R,this._client=K,this._storageCache=ie,this._storage=Fe,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yt(x,R){const K=x.target.error||void 0;return Gn.create(R,{originalErrorMessage:K&&K.message})}const Ft="app_namespace_store";class Oi{constructor(R,K,ie,Fe=function Dn(){return new Promise((x,R)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ie=>{R(yt(ie,"storage-open"))},K.onsuccess=ie=>{x(ie.target.result)},K.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Ft,{keyPath:"compositeKey"})}}catch(K){R(Gn.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=R,this.appName=K,this.namespace=ie,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var K=this;return(0,Y.Z)(function*(){const ie=yield K.openDbPromise;return new Promise((Fe,Ge)=>{const Qt=ie.transaction([Ft],"readonly").objectStore(Ft),nn=K.createCompositeKey(R);try{const bn=Qt.get(nn);bn.onerror=yr=>{Ge(yt(yr,"storage-get"))},bn.onsuccess=yr=>{const yn=yr.target.result;Fe(yn?yn.value:void 0)}}catch(bn){Ge(Gn.create("storage-get",{originalErrorMessage:bn&&bn.message}))}})})()}set(R,K){var ie=this;return(0,Y.Z)(function*(){const Fe=yield ie.openDbPromise;return new Promise((Ge,gt)=>{const nn=Fe.transaction([Ft],"readwrite").objectStore(Ft),bn=ie.createCompositeKey(R);try{const yr=nn.put({compositeKey:bn,value:K});yr.onerror=yn=>{gt(yt(yn,"storage-set"))},yr.onsuccess=()=>{Ge()}}catch(yr){gt(Gn.create("storage-set",{originalErrorMessage:yr&&yr.message}))}})})()}delete(R){var K=this;return(0,Y.Z)(function*(){const ie=yield K.openDbPromise;return new Promise((Fe,Ge)=>{const Qt=ie.transaction([Ft],"readwrite").objectStore(Ft),nn=K.createCompositeKey(R);try{const bn=Qt.delete(nn);bn.onerror=yr=>{Ge(yt(yr,"storage-delete"))},bn.onsuccess=()=>{Fe()}}catch(bn){Ge(Gn.create("storage-delete",{originalErrorMessage:bn&&bn.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Ps{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,Y.Z)(function*(){const K=R.storage.getLastFetchStatus(),ie=R.storage.getLastSuccessfulFetchTimestampMillis(),Fe=R.storage.getActiveConfig(),Ge=yield K;Ge&&(R.lastFetchStatus=Ge);const gt=yield ie;gt&&(R.lastSuccessfulFetchTimestampMillis=gt);const Qt=yield Fe;Qt&&(R.activeConfig=Qt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function cs(){return _s.apply(this,arguments)}function _s(){return(_s=(0,Y.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(x){return!1}})).apply(this,arguments)}!function kr(){(0,Ie._registerComponent)(new ve.wA("remote-config",function x(R,{instanceIdentifier:K}){const ie=R.getProvider("app").getImmediate(),Fe=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gn.create("registration-window");if(!(0,we.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:Ge,apiKey:gt,appId:Qt}=ie.options;if(!Ge)throw Gn.create("registration-project-id");if(!gt)throw Gn.create("registration-api-key");if(!Qt)throw Gn.create("registration-app-id");const nn=new Oi(Qt,ie.name,K=K||"firebase"),bn=new Ps(nn),yr=new Me.Yd(Wr);yr.logLevel=Me.in.ERROR;const yn=new Yn(Fe,Ie.SDK_VERSION,K,Ge,gt,Qt),Wi=new Ae(yn,nn),zn=new Bs(Wi,nn,bn,yr),Zo=new tt(ie,zn,bn,nn,yr);return function Ne(x){const R=(0,we.m9)(x);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Zo),Zo},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(Wr,"0.3.8"),(0,Ie.registerVersion)(Wr,"0.3.8","esm2017")}();const ws="/firebase-messaging-sw.js",Fr="/firebase-cloud-messaging-push-scope",ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ji="google.c.a.c_id",Ns="google.c.a.c_l",Qi="google.c.a.ts",Xs="google.c.a.e";var Es=(()=>{return(x=Es||(Es={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Es;var x})();function Gr(x){const R=new Uint8Array(x);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(x){const K=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(K),Fe=new Uint8Array(ie.length);for(let Ge=0;Ge<ie.length;++Ge)Fe[Ge]=ie.charCodeAt(Ge);return Fe}const Yr="fcm_token_details_db",pr="fcm_token_object_Store";function js(x){return bs.apply(this,arguments)}function bs(){return bs=(0,Y.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(Yr))return null;let R=null;return(yield(0,Te.X3)(Yr,5,{upgrade:(ie=(0,Y.Z)(function*(Fe,Ge,gt,Qt){var nn;if(Ge<2||!Fe.objectStoreNames.contains(pr))return;const bn=Qt.objectStore(pr),yr=yield bn.index("fcmSenderId").get(x);if(yield bn.clear(),yr)if(2===Ge){const yn=yr;if(!yn.auth||!yn.p256dh||!yn.endpoint)return;R={token:yn.fcmToken,createTime:null!==(nn=yn.createTime)&&void 0!==nn?nn:Date.now(),subscriptionOptions:{auth:yn.auth,p256dh:yn.p256dh,endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:"string"==typeof yn.vapidKey?yn.vapidKey:Gr(yn.vapidKey)}}}else if(3===Ge){const yn=yr;R={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:Gr(yn.auth),p256dh:Gr(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:Gr(yn.vapidKey)}}}else if(4===Ge){const yn=yr;R={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:Gr(yn.auth),p256dh:Gr(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:Gr(yn.vapidKey)}}}}),function(Ge,gt,Qt,nn){return ie.apply(this,arguments)})})).close(),yield(0,Te.Lj)(Yr),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),Is(R)?R:null;var ie}),bs.apply(this,arguments)}function Is(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:R}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Jr="firebase-messaging-store";let mo=null;function nr(){return mo||(mo=(0,Te.X3)("firebase-messaging-database",1,{upgrade:(x,R)=>{0===R&&x.createObjectStore(Jr)}})),mo}function P(x){return G.apply(this,arguments)}function G(){return(G=(0,Y.Z)(function*(x){const R=Ze(x),ie=yield(yield nr()).transaction(Jr).objectStore(Jr).get(R);if(ie)return ie;{const Fe=yield js(x.appConfig.senderId);if(Fe)return yield O(x,Fe),Fe}})).apply(this,arguments)}function O(x,R){return Q.apply(this,arguments)}function Q(){return(Q=(0,Y.Z)(function*(x,R){const K=Ze(x),Fe=(yield nr()).transaction(Jr,"readwrite");return yield Fe.objectStore(Jr).put(R,K),yield Fe.done,R})).apply(this,arguments)}function me(x){return ze.apply(this,arguments)}function ze(){return(ze=(0,Y.Z)(function*(x){const R=Ze(x),ie=(yield nr()).transaction(Jr,"readwrite");yield ie.objectStore(Jr).delete(R),yield ie.done})).apply(this,arguments)}function Ze({appConfig:x}){return x.appId}const mn=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vn(x,R){return pn.apply(this,arguments)}function pn(){return(pn=(0,Y.Z)(function*(x,R){const K=yield wi(x),ie=ii(R),Fe={method:"POST",headers:K,body:JSON.stringify(ie)};let Ge;try{Ge=yield(yield fetch(_i(x.appConfig),Fe)).json()}catch(gt){throw mn.create("token-subscribe-failed",{errorInfo:gt})}if(Ge.error)throw mn.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw mn.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function Cn(x,R){return lr.apply(this,arguments)}function lr(){return(lr=(0,Y.Z)(function*(x,R){const K=yield wi(x),ie=ii(R.subscriptionOptions),Fe={method:"PATCH",headers:K,body:JSON.stringify(ie)};let Ge;try{Ge=yield(yield fetch(`${_i(x.appConfig)}/${R.token}`,Fe)).json()}catch(gt){throw mn.create("token-update-failed",{errorInfo:gt})}if(Ge.error)throw mn.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw mn.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function jn(x,R){return gr.apply(this,arguments)}function gr(){return(gr=(0,Y.Z)(function*(x,R){const ie={method:"DELETE",headers:yield wi(x)};try{const Ge=yield(yield fetch(`${_i(x.appConfig)}/${R}`,ie)).json();if(Ge.error)throw mn.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Fe){throw mn.create("token-unsubscribe-failed",{errorInfo:Fe})}})).apply(this,arguments)}function _i({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function wi(x){return cn.apply(this,arguments)}function cn(){return(cn=(0,Y.Z)(function*({appConfig:x,installations:R}){const K=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function ii({p256dh:x,auth:R,endpoint:K,vapidKey:ie}){const Fe={web:{endpoint:K,auth:R,p256dh:x}};return ie!==ds&&(Fe.web.applicationPubKey=ie),Fe}const Ji=6048e5;function hs(x){return to.apply(this,arguments)}function to(){return(to=(0,Y.Z)(function*(x){const R=yield Nn(x.swRegistration,x.vapidKey),K={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:R.endpoint,auth:Gr(R.getKey("auth")),p256dh:Gr(R.getKey("p256dh"))},ie=yield P(x.firebaseDependencies);if(ie){if(ui(ie.subscriptionOptions,K))return Date.now()>=ie.createTime+Ji?S(x,{token:ie.token,createTime:Date.now(),subscriptionOptions:K}):ie.token;try{yield jn(x.firebaseDependencies,ie.token)}catch(Fe){console.warn(Fe)}return he(x.firebaseDependencies,K)}return he(x.firebaseDependencies,K)})).apply(this,arguments)}function N(x){return M.apply(this,arguments)}function M(){return(M=(0,Y.Z)(function*(x){const R=yield P(x.firebaseDependencies);R&&(yield jn(x.firebaseDependencies,R.token),yield me(x.firebaseDependencies));const K=yield x.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function S(x,R){return q.apply(this,arguments)}function q(){return(q=(0,Y.Z)(function*(x,R){try{const K=yield Cn(x.firebaseDependencies,R),ie=Object.assign(Object.assign({},R),{token:K,createTime:Date.now()});return yield O(x.firebaseDependencies,ie),K}catch(K){throw yield N(x),K}})).apply(this,arguments)}function he(x,R){return ct.apply(this,arguments)}function ct(){return(ct=(0,Y.Z)(function*(x,R){const ie={token:yield Vn(x,R),createTime:Date.now(),subscriptionOptions:R};return yield O(x,ie),ie.token})).apply(this,arguments)}function Nn(x,R){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,Y.Z)(function*(x,R){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eo(R)})})).apply(this,arguments)}function ui(x,R){return R.vapidKey===x.vapidKey&&R.endpoint===x.endpoint&&R.auth===x.auth&&R.p256dh===x.p256dh}function ki(x){const R={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function li(x,R){if(!R.notification)return;x.notification={};const K=R.notification.title;K&&(x.notification.title=K);const ie=R.notification.body;ie&&(x.notification.body=ie);const Fe=R.notification.image;Fe&&(x.notification.image=Fe)}(R,x),function fs(x,R){!R.data||(x.data=R.data)}(R,x),function yo(x,R){if(!R.fcmOptions)return;x.fcmOptions={};const K=R.fcmOptions.link;K&&(x.fcmOptions.link=K);const ie=R.fcmOptions.analytics_label;ie&&(x.fcmOptions.analyticsLabel=ie)}(R,x),R}function Fa(x){return"object"==typeof x&&!!x&&ji in x}function La(x,R){const K=[];for(let ie=0;ie<x.length;ie++)K.push(x.charAt(ie)),ie<R.length&&K.push(R.charAt(ie));return K.join("")}function Cs(x){return mn.create("missing-app-config-values",{valueName:x})}La("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),La("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(R,K,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function ku(x){if(!x||!x.options)throw Cs("App Configuration Object");if(!x.name)throw Cs("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:K}=x;for(const ie of R)if(!K[ie])throw Cs(ie);return{appName:x.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Fe,installations:K,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function Hi(x){return So.apply(this,arguments)}function So(){return(So=(0,Y.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(ws,{scope:Fr}),x.swRegistration.update().catch(()=>{})}catch(R){throw mn.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function Hs(x,R){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,Y.Z)(function*(x,R){if(!R&&!x.swRegistration&&(yield Hi(x)),R||!x.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");x.swRegistration=R}})).apply(this,arguments)}function no(x,R){return xo.apply(this,arguments)}function xo(){return(xo=(0,Y.Z)(function*(x,R){R?x.vapidKey=R:x.vapidKey||(x.vapidKey=ds)})).apply(this,arguments)}function Xo(){return(Xo=(0,Y.Z)(function*(x,R){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield no(x,null==R?void 0:R.vapidKey),yield Hs(x,null==R?void 0:R.serviceWorkerRegistration),hs(x)})).apply(this,arguments)}function Uo(x,R,K){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,Y.Z)(function*(x,R,K){const ie=ea(R);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:K[ji],message_name:K[Ns],message_time:K[Qi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ea(x){switch(x){case Es.NOTIFICATION_CLICKED:return"notification_open";case Es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vo(){return(vo=(0,Y.Z)(function*(x,R){const K=R.data;if(!K.isFirebaseMessaging)return;x.onMessageHandler&&K.messageType===Es.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(ki(K)):x.onMessageHandler.next(ki(K)));const ie=K.data;Fa(ie)&&"1"===ie[Xs]&&(yield Uo(x,K.messageType,ie))})).apply(this,arguments)}const _o="@firebase/messaging",wo=x=>{const R=new ci(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function ta(x,R){return vo.apply(this,arguments)}(R,K)),R},ro=x=>{const R=x.getProvider("messaging").getImmediate();return{getToken:ie=>function Pr(x,R){return Xo.apply(this,arguments)}(R,ie)}};function na(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,Y.Z)(function*(){try{yield(0,we.eu)()}catch(x){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ds(){(0,Ie._registerComponent)(new ve.wA("messaging",wo,"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("messaging-internal",ro,"PRIVATE")),(0,Ie.registerVersion)(_o,"0.9.13"),(0,Ie.registerVersion)(_o,"0.9.13","esm2017")}();const ya="analytics",Ba="firebase_id",Ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gs="https://www.googletagmanager.com/gtag/js",Un=new Me.Yd("@firebase/analytics");function Oo(x){return Promise.all(x.map(R=>R.catch(K=>K)))}function Ho(x,R){const K=document.createElement("script");K.src=`${Gs}?l=${x}&id=${R}`,K.async=!0,document.head.appendChild(K)}function Ss(x,R,K,ie,Fe,Ge){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Y.Z)(function*(x,R,K,ie,Fe,Ge){const gt=ie[Fe];try{if(gt)yield R[gt];else{const nn=(yield Oo(K)).find(bn=>bn.measurementId===Fe);nn&&(yield R[nn.appId])}}catch(Qt){Un.error(Qt)}x("config",Fe,Ge)})).apply(this,arguments)}function Eo(x,R,K,ie,Fe){return xs.apply(this,arguments)}function xs(){return(xs=(0,Y.Z)(function*(x,R,K,ie,Fe){try{let Ge=[];if(Fe&&Fe.send_to){let gt=Fe.send_to;Array.isArray(gt)||(gt=[gt]);const Qt=yield Oo(K);for(const nn of gt){const bn=Qt.find(yn=>yn.measurementId===nn),yr=bn&&R[bn.appId];if(!yr){Ge=[];break}Ge.push(yr)}}0===Ge.length&&(Ge=Object.values(R)),yield Promise.all(Ge),x("event",ie,Fe||{})}catch(Ge){Un.error(Ge)}})).apply(this,arguments)}function $o(){const x=window.document.getElementsByTagName("script");for(const R of Object.values(x))if(R.src&&R.src.includes(Gs))return R;return null}const Xi=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),C=new class b{constructor(R={},K=1e3){this.throttleMetadata=R,this.intervalMillis=K}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,K){this.throttleMetadata[R]=K}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function H(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function le(x){return st.apply(this,arguments)}function st(){return(st=(0,Y.Z)(function*(x){var R;const{appId:K,apiKey:ie}=x,Fe={method:"GET",headers:H(ie)},Ge=Ts.replace("{app-id}",K),gt=yield fetch(Ge,Fe);if(200!==gt.status&&304!==gt.status){let Qt="";try{const nn=yield gt.json();(null===(R=nn.error)||void 0===R?void 0:R.message)&&(Qt=nn.error.message)}catch(nn){}throw Xi.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:Qt})}return gt.json()})).apply(this,arguments)}function kt(x){return mr.apply(this,arguments)}function mr(){return(mr=(0,Y.Z)(function*(x,R=C,K){const{appId:ie,apiKey:Fe,measurementId:Ge}=x.options;if(!ie)throw Xi.create("no-app-id");if(!Fe){if(Ge)return{measurementId:Ge,appId:ie};throw Xi.create("no-api-key")}const gt=R.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new Io;return setTimeout((0,Y.Z)(function*(){Qt.abort()}),void 0!==K?K:6e4),di({appId:ie,apiKey:Fe,measurementId:Ge},gt,Qt,R)})).apply(this,arguments)}function di(x,R,K){return si.apply(this,arguments)}function si(){return(si=(0,Y.Z)(function*(x,{throttleEndTimeMillis:R,backoffCount:K},ie,Fe=C){const{appId:Ge,measurementId:gt}=x;try{yield oo(ie,R)}catch(Qt){if(gt)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Qt.message}]`),{appId:Ge,measurementId:gt};throw Qt}try{const Qt=yield le(x);return Fe.deleteThrottleMetadata(Ge),Qt}catch(Qt){if(!oi(Qt)){if(Fe.deleteThrottleMetadata(Ge),gt)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Qt.message}]`),{appId:Ge,measurementId:gt};throw Qt}const nn=503===Number(Qt.customData.httpStatus)?(0,we.$s)(K,Fe.intervalMillis,30):(0,we.$s)(K,Fe.intervalMillis),bn={throttleEndTimeMillis:Date.now()+nn,backoffCount:K+1};return Fe.setThrottleMetadata(Ge,bn),Un.debug(`Calling attemptFetch again in ${nn} millis`),di(x,bn,ie,Fe)}})).apply(this,arguments)}function oo(x,R){return new Promise((K,ie)=>{const Fe=Math.max(R-Date.now(),0),Ge=setTimeout(K,Fe);x.addEventListener(()=>{clearTimeout(Ge),ie(Xi.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function oi(x){if(!(x instanceof we.ZR&&x.customData))return!1;const R=Number(x.customData.httpStatus);return 429===R||500===R||503===R||504===R}class Io{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function Co(){return va.apply(this,arguments)}function va(){return(va=(0,Y.Z)(function*(){if(!(0,we.hl)())return Un.warn(Xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(x){return Un.warn(Xi.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function mt(){return(mt=(0,Y.Z)(function*(x,R,K,ie,Fe,Ge,gt){var Qt;const nn=kt(x);nn.then(zn=>{K[zn.measurementId]=zn.appId,x.options.measurementId&&zn.measurementId!==x.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Un.error(zn)),R.push(nn);const bn=Co().then(zn=>{if(zn)return ie.getId()}),[yr,yn]=yield Promise.all([nn,bn]);$o()||Ho(Ge,yr.measurementId),Fe("js",new Date);const Wi=null!==(Qt=null==gt?void 0:gt.config)&&void 0!==Qt?Qt:{};return Wi.origin="firebase",Wi.update=!0,null!=yn&&(Wi[Ba]=yn),Fe("config",yr.measurementId,Wi),yr.measurementId})).apply(this,arguments)}class Lr{constructor(R){this.app=R}_delete(){return delete I[this.app.options.appId],Promise.resolve()}}let I={},w=[];const y={};let j,$,A="dataLayer",ee=!1;function Mn(x,R,K){!function Bt(){const x=[];if((0,we.ru)()&&x.push("This is a browser extension environment."),(0,we.zI)()||x.push("Cookies are not available."),x.length>0){const R=x.map((ie,Fe)=>`(${Fe+1}) ${ie}`).join(" "),K=Xi.create("invalid-analytics-context",{errorInfo:R});Un.warn(K.message)}}();const ie=x.options.appId;if(!ie)throw Xi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Xi.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=I[ie])throw Xi.create("already-exists",{id:ie});if(!ee){!function As(x){let R=[];Array.isArray(window[x])?R=window[x]:window[x]=R}(A);const{wrappedGtag:Ge,gtagCore:gt}=function ja(x,R,K,ie,Fe){let Ge=function(...gt){window[ie].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(Ge=window[Fe]),window[Fe]=function Po(x,R,K,ie){function Ge(){return(Ge=(0,Y.Z)(function*(gt,Qt,nn){try{"event"===gt?yield Eo(x,R,K,Qt,nn):"config"===gt?yield Ss(x,R,K,ie,Qt,nn):x("set",Qt)}catch(bn){Un.error(bn)}})).apply(this,arguments)}return function Fe(gt,Qt,nn){return Ge.apply(this,arguments)}}(Ge,x,R,K),{gtagCore:Ge,wrappedGtag:window[Fe]}}(I,w,y,A,"gtag");$=Ge,j=gt,ee=!0}return I[ie]=function Do(x,R,K,ie,Fe,Ge,gt){return mt.apply(this,arguments)}(x,w,y,R,j,A,K),new Lr(x)}function rr(){return(rr=(0,Y.Z)(function*(x,R,K,ie,Fe){if(Fe&&Fe.global)x("event",K,ie);else{const Ge=yield R;x("event",K,Object.assign(Object.assign({},ie),{send_to:Ge}))}})).apply(this,arguments)}function _a(){return pi.apply(this,arguments)}function pi(){return(pi=(0,Y.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(x){return!1}})).apply(this,arguments)}const ir="@firebase/analytics";!function es(){(0,Ie._registerComponent)(new ve.wA(ya,(R,{options:K})=>Mn(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("analytics-internal",function x(R){try{const K=R.getProvider(ya).getImmediate();return{logEvent:(ie,Fe,Ge)=>function Fu(x,R,K,ie){x=(0,we.m9)(x),function Xt(x,R,K,ie,Fe){return rr.apply(this,arguments)}($,I[x.app.options.appId],R,K,ie).catch(Fe=>Un.error(Fe))}(K,ie,Fe,Ge)}}catch(K){throw Xi.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,Ie.registerVersion)(ir,"0.7.9"),(0,Ie.registerVersion)(ir,"0.7.9","esm2017")}();var du=L(4408),Vi=L(7565);const ao=new class zi extends Vi.v{}(class hu extends du.o{constructor(R,K){super(R,K),this.scheduler=R,this.work=K}schedule(R,K=0){return K>0?super.schedule(R,K):(this.delay=K,this.state=R,this.scheduler.flush(this),this)}execute(R,K){return K>0||this.closed?super.execute(R,K):this._execute(R,K)}requestAsyncId(R,K,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(R,K,ie):R.flush(this)}});var sa=L(4986),fl=L(8505),ps=L(5363),rs=L(9468);const Lu=new p.GfV("7.3.0"),Ls="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",uo="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",Rt="__angularfire_symbol__messagingIsSupportedValue",Wo="__angularfire_symbol__messagingIsSupported";function qs(x,R,K){if(R){if(1===R.length)return R[0];const Ge=R.filter(gt=>gt.app===K);if(1===Ge.length)return Ge[0]}return K.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ws]||(globalThis[Ws]=_a().then(x=>globalThis[Ls]=x).catch(()=>globalThis[Ls]=!1)),globalThis[Wo]||(globalThis[Wo]=na().then(x=>globalThis[Rt]=x).catch(()=>globalThis[Rt]=!1)),globalThis[Ro]||(globalThis[Ro]=cs().then(x=>globalThis[uo]=x).catch(()=>globalThis[uo]=!1));const Vc=(x,R)=>{const K=R?[R]:(0,k.C6)(),ie=[];return K.forEach(Fe=>{Fe.container.getProvider(x).instances.forEach(gt=>{ie.includes(gt)||ie.push(gt)})}),ie};function Vs(){}class Vu{constructor(R,K=ao){this.zone=R,this.delegate=K}now(){return this.delegate.now()}schedule(R,K,ie){const Fe=this.zone;return this.delegate.schedule(function(gt){Fe.runGuarded(()=>{R.apply(this,[gt])})},K,ie)}}class qo{constructor(R){this.zone=R,this.task=null}call(R,K){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),K.pipe((0,fl.b)({next:ie,complete:ie,error:ie})).subscribe(R).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pl=(()=>{class x{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Vu(Zone.current)),this.insideAngular=K.run(()=>new Vu(Zone.current,sa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(K){return new(K||x)(p.LFG(p.R0b))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ks(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function No(x){return x.pipe((0,ps.Q)(Ks().outsideAngular))}function Gl(x){return Ks(),function Ia(x){return function(K){return(K=K.lift(new qo(x.ngZone))).pipe((0,rs.R)(x.outsideAngular),(0,ps.Q)(x.insideAngular))}}(Ks())(x)}},2090:(bt,Le,L)=>{"use strict";L.d(Le,{$s:()=>hn,BH:()=>rt,G6:()=>Xe,L:()=>Te,LL:()=>Ve,Mn:()=>Ye,Sg:()=>je,UG:()=>$e,US:()=>ve,ZB:()=>ne,ZR:()=>Re,b$:()=>Ct,d:()=>de,eu:()=>He,hl:()=>Z,jU:()=>Je,m9:()=>Hn,ne:()=>Tn,pd:()=>Xn,r3:()=>rn,ru:()=>vt,tV:()=>ke,uI:()=>pt,vZ:()=>Pn,w1:()=>Pe,xO:()=>Ln,xb:()=>dn,z$:()=>Qe,zI:()=>te,zd:()=>Jn});const Ie=function(ce){const _e=[];let Ee=0;for(let it=0;it<ce.length;it++){let re=ce.charCodeAt(it);re<128?_e[Ee++]=re:re<2048?(_e[Ee++]=re>>6|192,_e[Ee++]=63&re|128):55296==(64512&re)&&it+1<ce.length&&56320==(64512&ce.charCodeAt(it+1))?(re=65536+((1023&re)<<10)+(1023&ce.charCodeAt(++it)),_e[Ee++]=re>>18|240,_e[Ee++]=re>>12&63|128,_e[Ee++]=re>>6&63|128,_e[Ee++]=63&re|128):(_e[Ee++]=re>>12|224,_e[Ee++]=re>>6&63|128,_e[Ee++]=63&re|128)}return _e},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,_e){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,it=[];for(let re=0;re<ce.length;re+=3){const Oe=ce[re],ut=re+1<ce.length,St=ut?ce[re+1]:0,Ot=re+2<ce.length,$t=Ot?ce[re+2]:0;let hr=(15&St)<<2|$t>>6,Ar=63&$t;Ot||(Ar=64,ut||(hr=64)),it.push(Ee[Oe>>2],Ee[(3&Oe)<<4|St>>4],Ee[hr],Ee[Ar])}return it.join("")},encodeString(ce,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(ce):this.encodeByteArray(Ie(ce),_e)},decodeString(ce,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(ce):function(ce){const _e=[];let Ee=0,it=0;for(;Ee<ce.length;){const re=ce[Ee++];if(re<128)_e[it++]=String.fromCharCode(re);else if(re>191&&re<224){const Oe=ce[Ee++];_e[it++]=String.fromCharCode((31&re)<<6|63&Oe)}else if(re>239&&re<365){const Ot=((7&re)<<18|(63&ce[Ee++])<<12|(63&ce[Ee++])<<6|63&ce[Ee++])-65536;_e[it++]=String.fromCharCode(55296+(Ot>>10)),_e[it++]=String.fromCharCode(56320+(1023&Ot))}else{const Oe=ce[Ee++],ut=ce[Ee++];_e[it++]=String.fromCharCode((15&re)<<12|(63&Oe)<<6|63&ut)}}return _e.join("")}(this.decodeStringToByteArray(ce,_e))},decodeStringToByteArray(ce,_e){this.init_();const Ee=_e?this.charToByteMapWebSafe_:this.charToByteMap_,it=[];for(let re=0;re<ce.length;){const Oe=Ee[ce.charAt(re++)],St=re<ce.length?Ee[ce.charAt(re)]:0;++re;const $t=re<ce.length?Ee[ce.charAt(re)]:64;++re;const Jt=re<ce.length?Ee[ce.charAt(re)]:64;if(++re,null==Oe||null==St||null==$t||null==Jt)throw Error();it.push(Oe<<2|St>>4),64!==$t&&(it.push(St<<4&240|$t>>2),64!==Jt&&it.push($t<<6&192|Jt))}return it},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},Te=function(ce){return function(ce){const _e=Ie(ce);return ve.encodeByteArray(_e,!0)}(ce).replace(/\./g,"")},ke=function(ce){try{return ve.decodeString(ce,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function ne(ce,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return _e}for(const Ee in _e)!_e.hasOwnProperty(Ee)||!ge(Ee)||(ce[Ee]=ne(ce[Ee],_e[Ee]));return ce}function ge(ce){return"__proto__"!==ce}class rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,Ee)=>{this.resolve=_e,this.reject=Ee})}wrapCallback(_e){return(Ee,it)=>{Ee?this.reject(Ee):this.resolve(it),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(Ee):_e(Ee,it))}}}function je(ce,_e){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const it=_e||"demo-project",re=ce.iat||0,Oe=ce.sub||ce.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${it}`,aud:it,iat:re,exp:re+3600,auth_time:re,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(ut)),""].join(".")}function Qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function $e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ce){return!1}}function Je(){return"object"==typeof self&&self.self===self}function vt(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){return Qe().indexOf("Electron/")>=0}function Pe(){const ce=Qe();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Ye(){return Qe().indexOf("MSAppHost/")>=0}function Xe(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){return"object"==typeof indexedDB}function He(){return new Promise((ce,_e)=>{try{let Ee=!0;const it="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(it);re.onsuccess=()=>{re.result.close(),Ee||self.indexedDB.deleteDatabase(it),ce(!0)},re.onupgradeneeded=()=>{Ee=!1},re.onerror=()=>{var Oe;_e((null===(Oe=re.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Ee){_e(Ee)}})}function te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Re extends Error{constructor(_e,Ee,it){super(Ee),this.code=_e,this.customData=it,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(_e,Ee,it){this.service=_e,this.serviceName=Ee,this.errors=it}create(_e,...Ee){const it=Ee[0]||{},re=`${this.service}/${_e}`,Oe=this.errors[_e],ut=Oe?function lt(ce,_e){return ce.replace(_t,(Ee,it)=>{const re=_e[it];return null!=re?String(re):`<${it}?>`})}(Oe,it):"Error";return new Re(re,`${this.serviceName}: ${ut} (${re}).`,it)}}const _t=/\{\$([^}]+)}/g;function rn(ce,_e){return Object.prototype.hasOwnProperty.call(ce,_e)}function dn(ce){for(const _e in ce)if(Object.prototype.hasOwnProperty.call(ce,_e))return!1;return!0}function Pn(ce,_e){if(ce===_e)return!0;const Ee=Object.keys(ce),it=Object.keys(_e);for(const re of Ee){if(!it.includes(re))return!1;const Oe=ce[re],ut=_e[re];if(sr(Oe)&&sr(ut)){if(!Pn(Oe,ut))return!1}else if(Oe!==ut)return!1}for(const re of it)if(!Ee.includes(re))return!1;return!0}function sr(ce){return null!==ce&&"object"==typeof ce}function Ln(ce){const _e=[];for(const[Ee,it]of Object.entries(ce))Array.isArray(it)?it.forEach(re=>{_e.push(encodeURIComponent(Ee)+"="+encodeURIComponent(re))}):_e.push(encodeURIComponent(Ee)+"="+encodeURIComponent(it));return _e.length?"&"+_e.join("&"):""}function Jn(ce){const _e={};return ce.replace(/^\?/,"").split("&").forEach(it=>{if(it){const[re,Oe]=it.split("=");_e[decodeURIComponent(re)]=decodeURIComponent(Oe)}}),_e}function Xn(ce){const _e=ce.indexOf("?");if(!_e)return"";const Ee=ce.indexOf("#",_e);return ce.substring(_e,Ee>0?Ee:void 0)}function Tn(ce,_e){const Ee=new Nt(ce,_e);return Ee.subscribe.bind(Ee)}class Nt{constructor(_e,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{_e(this)}).catch(it=>{this.error(it)})}next(_e){this.forEachObserver(Ee=>{Ee.next(_e)})}error(_e){this.forEachObserver(Ee=>{Ee.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,Ee,it){let re;if(void 0===_e&&void 0===Ee&&void 0===it)throw new Error("Missing Observer.");re=function vn(ce,_e){if("object"!=typeof ce||null===ce)return!1;for(const Ee of _e)if(Ee in ce&&"function"==typeof ce[Ee])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:Ee,complete:it},void 0===re.next&&(re.next=zt),void 0===re.error&&(re.error=zt),void 0===re.complete&&(re.complete=zt);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(ut){}}),this.observers.push(re),Oe}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,_e)}sendOne(_e,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{Ee(this.observers[_e])}catch(it){"undefined"!=typeof console&&console.error&&console.error(it)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}function hn(ce,_e=1e3,Ee=2){const it=_e*Math.pow(Ee,ce),re=Math.round(.5*it*(Math.random()-.5)*2);return Math.min(144e5,it+re)}function Hn(ce){return ce&&ce._delegate?ce._delegate:ce}},8852:(bt,Le,L)=>{"use strict";L.d(Le,{e:()=>Te});var p=L(5861),k=L(2843),Y=L(4004),Ie=L(590),we=L(5e3),ve=L(1205),Me=L(7566);let Te=(()=>{class ke{constructor(ne,ge){this.afAuth=ne,this.afs=ge,this.isLogged=!1,this.usuarioIngresado="",ne.authState.subscribe(rt=>this.isLogged=rt)}handleError(ne){return(0,k._)(ne.message||"Server error")}isAdmin(ne){return this.afs.doc(`users/${ne}`).valueChanges}logout(){var ne=this;return(0,p.Z)(function*(){try{yield ne.afAuth.signOut()}catch(ge){console.log("Error->",ge)}})()}login(ne,ge){var rt=this;return(0,p.Z)(function*(){try{return yield rt.afAuth.signInWithEmailAndPassword(ne,ge)}catch(je){return console.log("Error->",je.code),rt.erroresFirebase(je.code)}})()}register(ne,ge){var rt=this;return(0,p.Z)(function*(){try{const je=yield rt.afAuth.createUserWithEmailAndPassword(ne,ge);return rt.verificarEmail(),yield rt.afAuth.signOut(),je}catch(je){return console.log("Error->",je.code),rt.erroresFirebase(je.code)}})()}isAuth(){return this.afAuth.authState.pipe((0,Y.U)(ne=>ne))}user(){return this.afAuth.authState.pipe((0,Ie.P)()).toPromise()}erroresFirebase(ne){let ge="";switch(ne){case"auth/email-already-in-use":ge="Ese usuaria ya existe";break;case"auth/invalid-email":console.log("entre al error"),ge="Ingrese un mail valido";break;case"auth/weak-password":ge="La contrase\xf1a debe ser de 6 o mas caracteres";break;case"auth/wrong-password":case"auth/invalid-password":case"auth/user-not-found":ge="Error en el mail/contrase\xf1a";break;case"auth/internal-error":ge="Error inesperado.",ge+="Asegurese de ingresar datos validos"}return ge}verificarEmail(){var ne=this;return(0,p.Z)(function*(){var ge;return null===(ge=yield ne.afAuth.currentUser)||void 0===ge?void 0:ge.sendEmailVerification()})()}}return ke.\u0275fac=function(ne){return new(ne||ke)(we.LFG(ve.zQ),we.LFG(Me.ST))},ke.\u0275prov=we.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},6565:(bt,Le,L)=>{"use strict";L.d(Le,{C:()=>Y});var p=L(5e3),k=L(7566);let Y=(()=>{class Ie{constructor(ve){this.firestore=ve,this.coleccionMensaje=ve.collection("mensajes")}guardarMensajeFirestore(ve){this.coleccionMensaje.add(ve)}crear(ve,Me){return this.firestore.collection(ve).add(Me)}obtenerById(ve,Me){return this.firestore.collection(ve).doc(Me).get()}obtenerTodos(ve){return this.firestore.collection(ve).snapshotChanges()}actualizar(ve,Me,Te){return this.firestore.collection(ve).doc(Me).set(Te)}}return Ie.\u0275fac=function(ve){return new(ve||Ie)(p.LFG(k.ST))},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},2122:(bt,Le,L)=>{"use strict";L.d(Le,{F:()=>ke});var p=L(5e3),k=L(6565),Y=L(7566),Ie=L(9808),we=L(2382);function ve(ue,ne){if(1&ue){const ge=p.EpF();p.TgZ(0,"tr",5),p.NdJ("click",function(){const Qe=p.CHM(ge).$implicit;return p.oxw().selecionarEspecialidad(Qe)}),p.TgZ(1,"td"),p._uU(2),p.qZA()()}if(2&ue){const ge=ne.$implicit;p.xp6(2),p.hij(" ",ge.nombre," ")}}function Me(ue,ne){if(1&ue){const ge=p.EpF();p.TgZ(0,"div")(1,"button",6),p.NdJ("click",function(){return p.CHM(ge),p.oxw().agregar()}),p._uU(2,"Agregar"),p.qZA()()}}function Te(ue,ne){if(1&ue){const ge=p.EpF();p.TgZ(0,"div")(1,"button",7),p.NdJ("click",function(){return p.CHM(ge),p.oxw().agregar()}),p._uU(2,"Agregar"),p.qZA()()}}let ke=(()=>{class ue{constructor(ge,rt){this.fire=ge,this.afs=rt,this.unaEspecialidad=new p.vpe,this.especialidadSelecionada="",this.especialidadAgregada=""}ngOnInit(){this.traerTodasEspecialidades()}traerTodasEspecialidades(){this.fire.obtenerTodos("especialidades").subscribe(ge=>{this.listadoPaises=[],ge.forEach(rt=>{this.listadoPaises.push(rt.payload.doc.data()),console.log(rt.payload.doc.data())})})}selecionarEspecialidad(ge){this.unaEspecialidad.emit(ge),console.log(ge)}agregar(){let ge;ge=this.afs.createId(),this.fire.actualizar("especialidades",ge,{nombre:this.especialidadAgregada}).then(()=>{this.especialidadAgregada=""})}}return ue.\u0275fac=function(ge){return new(ge||ue)(p.Y36(k.C),p.Y36(Y.ST))},ue.\u0275cmp=p.Xpm({type:ue,selectors:[["app-especialidades"]],outputs:{unaEspecialidad:"unaEspecialidad"},decls:11,vars:4,consts:[["borser","1",1,"table","table-hover"],[3,"click",4,"ngFor","ngForOf"],[2,"text-align","center"],["type","text","placeholder","Ingrese una especialidad",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"click"],[1,"btn","btn-primary",3,"click"],["disabled","",1,"btn","btn-primary",3,"click"]],template:function(ge,rt){1&ge&&(p.TgZ(0,"table",0),p.YNc(1,ve,3,1,"tr",1),p.qZA(),p.TgZ(2,"p",2),p._uU(3,"O"),p.qZA(),p._UZ(4,"br"),p.TgZ(5,"p",2),p._uU(6,"Agregue una especialidad"),p.qZA(),p.TgZ(7,"div",2)(8,"input",3),p.NdJ("ngModelChange",function(Qe){return rt.especialidadAgregada=Qe}),p.qZA(),p.YNc(9,Me,3,0,"div",4),p.YNc(10,Te,3,0,"div",4),p.qZA()),2&ge&&(p.xp6(1),p.Q6J("ngForOf",rt.listadoPaises),p.xp6(7),p.Q6J("ngModel",rt.especialidadAgregada),p.xp6(1),p.Q6J("ngIf",""!=rt.especialidadAgregada),p.xp6(1),p.Q6J("ngIf",""==rt.especialidadAgregada))},directives:[Ie.sg,we.Fj,we.JJ,we.On,Ie.O5],styles:["td[_ngcontent-%COMP%]:hover{background-color:#0084ff}"]}),ue})()},8350:(bt,Le,L)=>{"use strict";var p=L(9808),k=L(5e3);class Y extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends Y{static makeCurrent(){(0,p.HT)(new Ie)}onAndCancel(ae,X,De){return ae.addEventListener(X,De,!1),()=>{ae.removeEventListener(X,De,!1)}}dispatchEvent(ae,X){ae.dispatchEvent(X)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,X){return(X=X||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,X){return"window"===X?window:"document"===X?ae:"body"===X?ae.body:null}getBaseHref(ae){const X=function ve(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==X?null:function Te(pe){Me=Me||document.createElement("a"),Me.setAttribute("href",pe);const ae=Me.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(X)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,p.Mx)(document.cookie,ae)}}let Me,we=null;const ke=new k.OlP("TRANSITION_ID"),ne=[{provide:k.ip1,useFactory:function ue(pe,ae,X){return()=>{X.get(k.CZH).donePromise.then(()=>{const De=(0,p.q)(),Ne=ae.querySelectorAll(`style[ng-transition="${pe}"]`);for(let xt=0;xt<Ne.length;xt++)De.remove(Ne[xt])})}},deps:[ke,p.K0,k.zs3],multi:!0}];class ge{static init(){(0,k.VLi)(new ge)}addToWindow(ae){k.dqk.getAngularTestability=(De,Ne=!0)=>{const xt=ae.findTestabilityInTree(De,Ne);if(null==xt)throw new Error("Could not find testability for element.");return xt},k.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(De=>{const Ne=k.dqk.getAllAngularTestabilities();let xt=Ne.length,sn=!1;const An=function(Zn){sn=sn||Zn,xt--,0==xt&&De(sn)};Ne.forEach(function(Zn){Zn.whenStable(An)})})}findTestabilityInTree(ae,X,De){if(null==X)return null;const Ne=ae.getTestability(X);return null!=Ne?Ne:De?(0,p.q)().isShadowRoot(X)?this.findTestabilityInTree(ae,X.host,!0):this.findTestabilityInTree(ae,X.parentElement,!0):null}}let rt=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const je=new k.OlP("EventManagerPlugins");let Qe=(()=>{class pe{constructor(X,De){this._zone=De,this._eventNameToPlugin=new Map,X.forEach(Ne=>Ne.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,De,Ne){return this._findPluginFor(De).addEventListener(X,De,Ne)}addGlobalEventListener(X,De,Ne){return this._findPluginFor(De).addGlobalEventListener(X,De,Ne)}getZone(){return this._zone}_findPluginFor(X){const De=this._eventNameToPlugin.get(X);if(De)return De;const Ne=this._plugins;for(let xt=0;xt<Ne.length;xt++){const sn=Ne[xt];if(sn.supports(X))return this._eventNameToPlugin.set(X,sn),sn}throw new Error(`No event manager plugin found for event ${X}`)}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(je),k.LFG(k.R0b))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class pt{constructor(ae){this._doc=ae}addGlobalEventListener(ae,X,De){const Ne=(0,p.q)().getGlobalEventTarget(this._doc,ae);if(!Ne)throw new Error(`Unsupported event target ${Ne} for event ${X}`);return this.addEventListener(Ne,X,De)}}let $e=(()=>{class pe{constructor(){this._stylesSet=new Set}addStyles(X){const De=new Set;X.forEach(Ne=>{this._stylesSet.has(Ne)||(this._stylesSet.add(Ne),De.add(Ne))}),this.onStylesAdded(De)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Je=(()=>{class pe extends $e{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,De,Ne){X.forEach(xt=>{const sn=this._doc.createElement("style");sn.textContent=xt,Ne.push(De.appendChild(sn))})}addHost(X){const De=[];this._addStylesToHost(this._stylesSet,X,De),this._hostNodes.set(X,De)}removeHost(X){const De=this._hostNodes.get(X);De&&De.forEach(vt),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((De,Ne)=>{this._addStylesToHost(X,Ne,De)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(vt))}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(p.K0))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();function vt(pe){(0,p.q)().remove(pe)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},de=/%COMP%/g;function te(pe,ae,X){for(let De=0;De<ae.length;De++){let Ne=ae[De];Array.isArray(Ne)?te(pe,Ne,X):(Ne=Ne.replace(de,pe),X.push(Ne))}return X}function xe(pe){return ae=>{if("__ngUnwrap__"===ae)return pe;!1===pe(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let Re=(()=>{class pe{constructor(X,De,Ne){this.eventManager=X,this.sharedStylesHost=De,this.appId=Ne,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(X)}createRenderer(X,De){if(!X||!De)return this.defaultRenderer;switch(De.encapsulation){case k.ifc.Emulated:{let Ne=this.rendererByCompId.get(De.id);return Ne||(Ne=new Vt(this.eventManager,this.sharedStylesHost,De,this.appId),this.rendererByCompId.set(De.id,Ne)),Ne.applyToHost(X),Ne}case 1:case k.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,X,De);default:if(!this.rendererByCompId.has(De.id)){const Ne=te(De.id,De.styles,[]);this.sharedStylesHost.addStyles(Ne),this.rendererByCompId.set(De.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(Qe),k.LFG(Je),k.LFG(k.AFp))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Ve{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,X){return X?document.createElementNS(Ct[X]||X,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,X){ae.appendChild(X)}insertBefore(ae,X,De){ae&&ae.insertBefore(X,De)}removeChild(ae,X){ae&&ae.removeChild(X)}selectRootElement(ae,X){let De="string"==typeof ae?document.querySelector(ae):ae;if(!De)throw new Error(`The selector "${ae}" did not match any elements`);return X||(De.textContent=""),De}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,X,De,Ne){if(Ne){X=Ne+":"+X;const xt=Ct[Ne];xt?ae.setAttributeNS(xt,X,De):ae.setAttribute(X,De)}else ae.setAttribute(X,De)}removeAttribute(ae,X,De){if(De){const Ne=Ct[De];Ne?ae.removeAttributeNS(Ne,X):ae.removeAttribute(`${De}:${X}`)}else ae.removeAttribute(X)}addClass(ae,X){ae.classList.add(X)}removeClass(ae,X){ae.classList.remove(X)}setStyle(ae,X,De,Ne){Ne&(k.JOm.DashCase|k.JOm.Important)?ae.style.setProperty(X,De,Ne&k.JOm.Important?"important":""):ae.style[X]=De}removeStyle(ae,X,De){De&k.JOm.DashCase?ae.style.removeProperty(X):ae.style[X]=""}setProperty(ae,X,De){ae[X]=De}setValue(ae,X){ae.nodeValue=X}listen(ae,X,De){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,X,xe(De)):this.eventManager.addEventListener(ae,X,xe(De))}}class Vt extends Ve{constructor(ae,X,De,Ne){super(ae),this.component=De;const xt=te(Ne+"-"+De.id,De.styles,[]);X.addStyles(xt),this.contentAttr=function Z(pe){return"_ngcontent-%COMP%".replace(de,pe)}(Ne+"-"+De.id),this.hostAttr=function He(pe){return"_nghost-%COMP%".replace(de,pe)}(Ne+"-"+De.id)}applyToHost(ae){super.setAttribute(ae,this.hostAttr,"")}createElement(ae,X){const De=super.createElement(ae,X);return super.setAttribute(De,this.contentAttr,""),De}}class Ut extends Ve{constructor(ae,X,De,Ne){super(ae),this.sharedStylesHost=X,this.hostEl=De,this.shadowRoot=De.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xt=te(Ne.id,Ne.styles,[]);for(let sn=0;sn<xt.length;sn++){const An=document.createElement("style");An.textContent=xt[sn],this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ae,X){return super.appendChild(this.nodeOrShadowRoot(ae),X)}insertBefore(ae,X,De){return super.insertBefore(this.nodeOrShadowRoot(ae),X,De)}removeChild(ae,X){return super.removeChild(this.nodeOrShadowRoot(ae),X)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}}let nt=(()=>{class pe extends pt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,De,Ne){return X.addEventListener(De,Ne,!1),()=>this.removeEventListener(X,De,Ne)}removeEventListener(X,De,Ne){return X.removeEventListener(De,Ne)}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(p.K0))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Ht=["alt","control","meta","shift"],on={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rn={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let en=(()=>{class pe extends pt{constructor(X){super(X)}supports(X){return null!=pe.parseEventName(X)}addEventListener(X,De,Ne){const xt=pe.parseEventName(De),sn=pe.eventCallback(xt.fullKey,Ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(X,xt.domEventName,sn))}static parseEventName(X){const De=X.toLowerCase().split("."),Ne=De.shift();if(0===De.length||"keydown"!==Ne&&"keyup"!==Ne)return null;const xt=pe._normalizeKey(De.pop());let sn="";if(Ht.forEach(Zn=>{const Zr=De.indexOf(Zn);Zr>-1&&(De.splice(Zr,1),sn+=Zn+".")}),sn+=xt,0!=De.length||0===xt.length)return null;const An={};return An.domEventName=Ne,An.fullKey=sn,An}static getEventFullKey(X){let De="",Ne=function dn(pe){let ae=pe.key;if(null==ae){if(ae=pe.keyIdentifier,null==ae)return"Unidentified";ae.startsWith("U+")&&(ae=String.fromCharCode(parseInt(ae.substring(2),16)),3===pe.location&&Tt.hasOwnProperty(ae)&&(ae=Tt[ae]))}return on[ae]||ae}(X);return Ne=Ne.toLowerCase()," "===Ne?Ne="space":"."===Ne&&(Ne="dot"),Ht.forEach(xt=>{xt!=Ne&&rn[xt](X)&&(De+=xt+".")}),De+=Ne,De}static eventCallback(X,De,Ne){return xt=>{pe.getEventFullKey(xt)===X&&Ne.runGuarded(()=>De(xt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(p.K0))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Jn=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:p.bD},{provide:k.g9A,useValue:function Fn(){Ie.makeCurrent(),ge.init()},multi:!0},{provide:p.K0,useFactory:function sr(){return(0,k.RDi)(document),document},deps:[]}]),Xn=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Pn(){return new k.qLn},deps:[]},{provide:je,useClass:nt,multi:!0,deps:[p.K0,k.R0b,k.Lbi]},{provide:je,useClass:en,multi:!0,deps:[p.K0]},{provide:Re,useClass:Re,deps:[Qe,Je,k.AFp]},{provide:k.FYo,useExisting:Re},{provide:$e,useExisting:Je},{provide:Je,useClass:Je,deps:[p.K0]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b]},{provide:Qe,useClass:Qe,deps:[je,k.R0b]},{provide:p.JF,useClass:rt,deps:[]}];let or=(()=>{class pe{constructor(X){if(X)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(X){return{ngModule:pe,providers:[{provide:k.AFp,useValue:X.appId},{provide:ke,useExisting:k.AFp},ne]}}}return pe.\u0275fac=function(X){return new(X||pe)(k.LFG(pe,12))},pe.\u0275mod=k.oAB({type:pe}),pe.\u0275inj=k.cJS({providers:Xn,imports:[p.ez,k.hGG]}),pe})();"undefined"!=typeof window&&window;var Ir=L(1009),Sr=L(5861),fn=L(8852);function Kn(pe,ae){if(1&pe&&(k.TgZ(0,"h2"),k._uU(1),k.qZA()),2&pe){const X=k.oxw();k.xp6(1),k.hij(" Bienvenido ",X.mail," ")}}function _r(pe,ae){1&pe&&k._UZ(0,"h2",8)}let xr=(()=>{class pe{constructor(X,De){this.authServise=X,this.router=De,this.logedUser=!1,this.mail=null}ngOnInit(){this.estaLogeado(),console.log("_______"),console.log(this.authServise.usuarioIngresado),0==this.logedUser&&"admin"==this.authServise.usuarioIngresado.perfil&&this.onLogin("admin@gmail.com","123456")}estaLogeado(){this.authServise.isAuth().subscribe(X=>{X?(this.logedUser=!0,this.mail=X.email):this.logedUser=!1})}onLogin(X,De){var Ne=this;return(0,Sr.Z)(function*(){let xt;xt=yield Ne.authServise.login(X,De),console.log(" _____"+xt.user.emailVerified),console.log("::::::::::::"),console.log(xt.user.email)})()}}return pe.\u0275fac=function(X){return new(X||pe)(k.Y36(fn.e),k.Y36(Ir.F0))},pe.\u0275cmp=k.Xpm({type:pe,selectors:[["app-home"]],decls:30,vars:2,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[4,"ngIf","ngIfElse"],["noLoged",""],[1,"row"],[1,"col-md-4"],["hidden",""]],template:function(X,De){if(1&X&&(k.TgZ(0,"body")(1,"main",0)(2,"div",1)(3,"div",2)(4,"h1",3),k._uU(5,"\xa1Clinica! :)"),k.qZA(),k.YNc(6,Kn,2,1,"h2",4),k.YNc(7,_r,1,0,"ng-template",null,5,k.W1O),k.qZA()(),k.TgZ(9,"div",2)(10,"div",6)(11,"div",7)(12,"h2"),k._uU(13,"---"),k.qZA(),k.TgZ(14,"button"),k._uU(15,"ingresar"),k.qZA()(),k.TgZ(16,"div",7)(17,"h2"),k._uU(18,"----"),k.qZA(),k.TgZ(19,"button"),k._uU(20,"ingresar"),k.qZA()(),k.TgZ(21,"div",7)(22,"h2"),k._uU(23,"----"),k.qZA(),k.TgZ(24,"button"),k._uU(25,"ingresar"),k.qZA()()(),k._UZ(26,"hr"),k.qZA()(),k.TgZ(27,"footer",2)(28,"p"),k._uU(29,"\xa9 Lavo IV 2021-2021"),k.qZA()()()),2&X){const Ne=k.MAs(8);k.xp6(6),k.Q6J("ngIf",1==De.logedUser)("ngIfElse",Ne)}},directives:[p.O5],styles:[""]}),pe})();var fr=L(5226),Mr=L.n(fr),Ui=L(6565),jr=L(2382);let Hr=(()=>{class pe{constructor(X,De,Ne){this.authSvc=X,this.router=De,this.fs=Ne,this.mail="",this.contrasenia=""}ngOnInit(){}onLogin(X,De){var Ne=this;return(0,Sr.Z)(function*(){try{let xt;xt=yield Ne.authSvc.login(X.value,De.value),Ne.error=xt,console.log(" _____"+xt.user.emailVerified),console.log("::::::::::::"),console.log(xt.user.email),"admin@gmail.com"==xt.user.email&&Ne.router.navigateByUrl("/home"),"string"==typeof xt&&(console.log("sdfsfafs"),Mr().fire({title:"Error",text:xt,icon:"error"})),Ne.fs.obtenerById("usuariosClinica",xt.user.uid).toPromise().then(function(){var Zn=(0,Sr.Z)(function*(Zr){if(xt)if(Ne.ajam=null==Zr?void 0:Zr.data(),console.log(Ne.ajam),Ne.authSvc.usuarioIngresado=Ne.ajam,console.log(Ne.authSvc.usuarioIngresado.nombre),console.log(Ne.authSvc.usuarioIngresado),"paciente"==Ne.ajam.perfil&&xt.user.emailVerified){console.log("soy un paciente");let Dr=new Date;Ne.fs.crear("logs",{mensaje:"El usuario "+X.value+" ha inicado sesion el dia "+Dr.getDate()+"/"+(Dr.getMonth()+1)+"/"+Dr.getFullYear()+" a las "+Dr.getHours()+":"+Dr.getMinutes()+":"+Dr.getSeconds()}),console.log("Entro"),Ne.router.navigateByUrl("/home")}else if("paciente"!=Ne.ajam.perfil||xt.user.emailVerified)if("especialista"==Ne.ajam.perfil&&1==Ne.ajam.permiso){let Dr=new Date;Ne.fs.crear("logs",{mensaje:"El usuario "+X.value+" ha inicado sesion el dia "+Dr.getDate()+"/"+(Dr.getMonth()+1)+"/"+Dr.getFullYear()+" a las "+Dr.getHours()+":"+Dr.getMinutes()+":"+Dr.getSeconds()}),console.log("Entro"),Ne.router.navigateByUrl("/home")}else"especialista"==Ne.ajam.perfil&&0==Ne.ajam.permiso&&(Mr().fire({title:"\xa1Error!",text:"\xa1El usuario no fue aprobado por el administrador!",icon:"error",confirmButtonText:"Cerrar"}),yield Ne.authSvc.logout());else Mr().fire({title:"\xa1Error!",text:"\xa1El email que se uso para iniciar sesi\xf3n no est\xe1 verificado!",icon:"error",confirmButtonText:"Cerrar"}),yield Ne.authSvc.logout();else console.log("no entro owo")});return function(Zr){return Zn.apply(this,arguments)}}())}catch(xt){console.log("Error->",xt),console.log("sdfsfafs"),Mr().fire({title:"Error",text:Ne.error,icon:"error"})}})()}userAdmin(){this.mail="admin@gmail.com",this.contrasenia="123456"}unJugador(){this.mail="jamite8226@about27.com",this.contrasenia="111111"}}return pe.\u0275fac=function(X){return new(X||pe)(k.Y36(fn.e),k.Y36(Ir.F0),k.Y36(Ui.C))},pe.\u0275cmp=k.Xpm({type:pe,selectors:[["app-login"]],decls:34,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-lg-3","col-md-2"],[1,"col-lg-6","col-md-8","login-box"],[1,"col-lg-12","login-key"],["aria-hidden","true",1,"fa","fa-lock"],[1,"col-lg-12","login-title"],[1,"col-lg-12","login-form"],[1,"form-group"],[1,"form-control-label"],["type","text","required","",1,"form-control",3,"value"],["email",""],["type","password","i","","required","",1,"form-control",3,"value"],["password",""],[1,"texto-usuario"],[1,"col-lg-12","loginbttm"],[1,"col-lg-6","login-btm","login-text"],["type","submit",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-outline-warning",3,"click"],[1,"col-lg-6","login-btm","login-button"],["type","submit",1,"btn","btn-outline-primary",3,"click"]],template:function(X,De){if(1&X){const Ne=k.EpF();k.TgZ(0,"body")(1,"div",0)(2,"div",1),k._UZ(3,"div",2),k.TgZ(4,"div",3)(5,"div",4),k._UZ(6,"i",5),k.qZA(),k.TgZ(7,"div",6),k._uU(8," ACCEDER "),k.qZA(),k.TgZ(9,"div",7)(10,"div",7)(11,"form")(12,"div",8)(13,"label",9),k._uU(14,"EMAIL"),k.qZA(),k._UZ(15,"input",10,11),k.qZA(),k.TgZ(17,"div",8)(18,"label",9),k._uU(19,"PASSWORD"),k.qZA(),k._UZ(20,"input",12,13),k.qZA(),k.TgZ(22,"div",14),k._uU(23," o ingresar como "),k.qZA(),k.TgZ(24,"div",15)(25,"div",16)(26,"button",17),k.NdJ("click",function(){return De.userAdmin()}),k._uU(27,"Administrador"),k.qZA(),k.TgZ(28,"button",18),k.NdJ("click",function(){return De.unJugador()}),k._uU(29,"Paciente"),k.qZA()(),k.TgZ(30,"div",19)(31,"button",20),k.NdJ("click",function(){k.CHM(Ne);const sn=k.MAs(16),An=k.MAs(21);return De.onLogin(sn,An)}),k._uU(32,"ENTRAR"),k.qZA()()()()()(),k._UZ(33,"div",2),k.qZA()()()()}2&X&&(k.xp6(15),k.s9C("value",De.mail),k.xp6(5),k.s9C("value",De.contrasenia))},directives:[jr._Y,jr.JL,jr.F],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:100,300,400,700";@import"//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css";@import"https://fonts.googleapis.com/css?family=Ubuntu|Courgette";@import"http://weloveiconfonts.com/api/?family=entypo";body[_ngcontent-%COMP%]{padding:137px;background-color:#222d32;font-family:Roboto,sans-serif}.login-box[_ngcontent-%COMP%]{margin-top:75px;height:auto;background:#1A2226;text-align:center;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.login-key[_ngcontent-%COMP%]{height:100px;font-size:80px;line-height:100px;background:-webkit-linear-gradient(#27EF9F,#0DB8DE);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.login-title[_ngcontent-%COMP%]{text-align:center;font-size:30px;letter-spacing:2px;margin-top:15px;font-weight:700;color:#ecf0f5}.login-form[_ngcontent-%COMP%]{margin-top:25px;text-align:left}input[type=text][_ngcontent-%COMP%]{background-color:#1a2226;border:none;border-bottom:2px solid #0DB8DE;border-top:0px;border-radius:0;font-weight:700;outline:0;margin-bottom:20px;padding-left:0;color:#ecf0f5}input[type=password][_ngcontent-%COMP%]{background-color:#1a2226;border:none;border-bottom:2px solid #0DB8DE;border-top:0px;border-radius:0;font-weight:700;outline:0;padding-left:0;margin-bottom:20px;color:#ecf0f5}.form-group[_ngcontent-%COMP%]{margin-bottom:40px;outline:0px}.form-control[_ngcontent-%COMP%]:focus{border-color:inherit;box-shadow:none;border-bottom:2px solid #0DB8DE;outline:0;background-color:#1a2226;color:#ecf0f5}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0}label[_ngcontent-%COMP%]{margin-bottom:0}.form-control-label[_ngcontent-%COMP%]{font-size:10px;color:#6c6c6c;font-weight:700;letter-spacing:1px}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#0db8de;color:#0db8de;border-radius:0;font-weight:700;letter-spacing:1px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0db8de;right:0px}.login-btm[_ngcontent-%COMP%]{float:left}.login-button[_ngcontent-%COMP%]{padding-right:0;text-align:right;margin-bottom:25px}.login-text[_ngcontent-%COMP%]{text-align:left;padding-left:0;color:#a2a4a4}.loginbttm[_ngcontent-%COMP%]{padding:0}.texto-usuario[_ngcontent-%COMP%]{font-style:italic;color:#bfbcc5}.btn-outline-danger[_ngcontent-%COMP%]{border-color:#07a9fc;color:#07a9fc;border-radius:0;font-weight:700;letter-spacing:1px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#0db8de;right:0px}.btn-outline-warning[_ngcontent-%COMP%]{border-color:#07fcac;color:#07fcac;border-radius:0;font-weight:700;letter-spacing:1px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:#0db8de;right:0px}']}),pe})();var Or=L(2122),ur=L(7566);function ti(pe,ae){if(1&pe){const X=k.EpF();k.TgZ(0,"div")(1,"button",3),k.NdJ("click",function(){k.CHM(X);const Ne=k.oxw().$implicit;return k.oxw().aceptar(Ne)}),k._uU(2,"ACEPTAR"),k.qZA()()}}function Yt(pe,ae){if(1&pe){const X=k.EpF();k.TgZ(0,"div")(1,"button",4),k.NdJ("click",function(){k.CHM(X);const Ne=k.oxw().$implicit;return k.oxw().rechazar(Ne)}),k._uU(2,"RECHAZAR"),k.qZA()()}}function Et(pe,ae){if(1&pe&&(k.TgZ(0,"tr")(1,"td"),k._uU(2),k.qZA(),k.TgZ(3,"td"),k._uU(4),k.qZA(),k.TgZ(5,"td"),k.YNc(6,ti,3,0,"div",2),k.YNc(7,Yt,3,0,"div",2),k.qZA()()),2&pe){const X=ae.$implicit;k.xp6(2),k.AsE(" ",X.nombre,", ",X.apellido," "),k.xp6(2),k.hij(" ",X.mail," "),k.xp6(2),k.Q6J("ngIf",0==X.permiso),k.xp6(1),k.Q6J("ngIf",1==X.permiso)}}const an=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"alta",loadChildren:()=>L.e(247).then(L.bind(L,247)).then(pe=>pe.AltaModule)},{path:"login",component:Hr},{path:"home",component:xr},{path:"especialidades",component:Or.F},{path:"listaEspecialista",component:(()=>{class pe{constructor(X,De){this.fire=X,this.afs=De}ngOnInit(){this.traerTodasEspecialidades()}traerTodasEspecialidades(){this.fire.obtenerTodos("usuariosClinica").subscribe(X=>{this.listaEspecialista=[],X.forEach(De=>{"especialista"==De.payload.doc.data().perfil&&this.listaEspecialista.push(De.payload.doc.data())})})}aceptar(X){X.permiso=!0,this.fire.actualizar("usuariosClinica",X.id,X).then(()=>{})}rechazar(X){X.permiso=!1,this.fire.actualizar("usuariosClinica",X.id,X).then(()=>{})}}return pe.\u0275fac=function(X){return new(X||pe)(k.Y36(Ui.C),k.Y36(ur.ST))},pe.\u0275cmp=k.Xpm({type:pe,selectors:[["app-lista-especialista"]],decls:9,vars:1,consts:[["borser","1",1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(X,De){1&X&&(k.TgZ(0,"table",0)(1,"tr")(2,"td"),k._uU(3," NOMBRE/APELLIDO "),k.qZA(),k.TgZ(4,"td"),k._uU(5," MAIL "),k.qZA(),k.TgZ(6,"td"),k._uU(7," ACEPTAR/RECHAZAR "),k.qZA()(),k.YNc(8,Et,8,5,"tr",1),k.qZA()),2&X&&(k.xp6(8),k.Q6J("ngForOf",De.listaEspecialista))},directives:[p.sg,p.O5],styles:[""]}),pe})()}];let er=(()=>{class pe{}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275mod=k.oAB({type:pe}),pe.\u0275inj=k.cJS({imports:[[Ir.Bz.forRoot(an)],Ir.Bz]}),pe})();function Wr(pe,ae){1&pe&&(k.TgZ(0,"a",11),k._uU(1,"Registrarse "),k._UZ(2,"span",12),k.qZA())}function tr(pe,ae){1&pe&&(k.TgZ(0,"a",11),k._uU(1,"Registrar "),k._UZ(2,"span",12),k.qZA())}function $r(pe,ae){1&pe&&(k.TgZ(0,"a",13),k._uU(1,"Usuarios "),k._UZ(2,"span",12),k.qZA())}function Sn(pe,ae){if(1&pe){const X=k.EpF();k.TgZ(0,"li",6)(1,"a",14),k.NdJ("click",function(){return k.CHM(X),k.oxw().logOut()}),k._uU(2,"Salir"),k.qZA()()}}function qr(pe,ae){1&pe&&(k.TgZ(0,"li",6)(1,"a",15),k._uU(2,"Acceder"),k.qZA()())}function Gn(pe,ae){1&pe&&(k.TgZ(0,"li",16)(1,"a",15),k._uU(2,"acceder"),k.qZA()())}let Wt=(()=>{class pe{constructor(X,De){this.authServise=X,this.router=De,this.logedUser=null,this.usuarioActual=this.authServise.usuarioIngresado}ngOnInit(){this.estaLogeado()}ngOnChanges(){console.log("________________"),console.log(this.authServise.usuarioIngresado),console.log("_______")}logOut(){this.authServise.usuarioIngresado="",this.authServise.logout(),console.log("saliendo"),this.router.navigateByUrl("/home")}estaLogeado(){this.authServise.isAuth().subscribe(X=>{X?(console.log(X.uid),console.log(X.displayName),console.log(X.email),console.log("testeo"),this.logedUser=!0,setTimeout(()=>{this.usuarioActual=this.authServise.usuarioIngresado,console.log("se cambia el usuario",this.usuarioActual)},1500)):this.logedUser=!1})}}return pe.\u0275fac=function(X){return new(X||pe)(k.Y36(fn.e),k.Y36(Ir.F0))},pe.\u0275cmp=k.Xpm({type:pe,selectors:[["app-navbar"]],features:[k.TTD],decls:17,vars:10,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["class","nav-link","routerLink","/alta",4,"ngIf","ngIfElse"],["class","nav-link","routerLink","/listaEspecialista",4,"ngIf","ngIfElse"],["class","nav-item active",4,"ngIf","ngIfElse"],["noLoged",""],["routerLink","/alta",1,"nav-link"],[1,"sr-only"],["routerLink","/listaEspecialista",1,"nav-link"],[1,"nav-link",3,"click"],["routerLink","/login",1,"nav-link"],["hidden","",1,"nav-item","active"]],template:function(X,De){if(1&X&&(k.TgZ(0,"nav",0)(1,"a",1),k._uU(2,"Inicio"),k.qZA(),k.TgZ(3,"button",2),k._UZ(4,"span",3),k.qZA(),k.TgZ(5,"div",4)(6,"ul",5)(7,"li",6),k.YNc(8,Wr,3,0,"a",7),k.qZA(),k.TgZ(9,"li",6),k.YNc(10,tr,3,0,"a",7),k.qZA(),k.TgZ(11,"li",6),k.YNc(12,$r,3,0,"a",8),k.qZA(),k.YNc(13,Sn,3,0,"li",9),k.YNc(14,qr,3,0,"li",9),k.YNc(15,Gn,3,0,"ng-template",null,10,k.W1O),k.qZA()()()),2&X){const Ne=k.MAs(16);k.xp6(8),k.Q6J("ngIf",0==De.logedUser)("ngIfElse",Ne),k.xp6(2),k.Q6J("ngIf","admin"==De.usuarioActual.perfil)("ngIfElse",Ne),k.xp6(2),k.Q6J("ngIf","admin"==De.usuarioActual.perfil)("ngIfElse",Ne),k.xp6(1),k.Q6J("ngIf",1==De.logedUser)("ngIfElse",Ne),k.xp6(1),k.Q6J("ngIf",0==De.logedUser)("ngIfElse",Ne)}},directives:[Ir.yS,p.O5],styles:[""]}),pe})(),ni=(()=>{class pe{constructor(){this.title="labo4_2do_TP"}}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275cmp=k.Xpm({type:pe,selectors:[["app-root"]],decls:4,vars:0,template:function(X,De){1&X&&k._UZ(0,"app-navbar")(1,"br")(2,"br")(3,"router-outlet")},directives:[Wt,Ir.lC],styles:[""]}),pe})();const yi_firebaseConfig={apiKey:"AIzaSyA99xTQOuPFNdqzL9fIlWw6fzcNslhwxAM",authDomain:"labo4-2022.firebaseapp.com",projectId:"labo4-2022",storageBucket:"labo4-2022.appspot.com",messagingSenderId:"440644944293",appId:"1:440644944293:web:5fefbadf9ef6aab7dce84c",measurementId:"G-VYY9GEY3LB"};var Si=L(2011);let Kr=(()=>{class pe{}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275mod=k.oAB({type:pe,bootstrap:[ni]}),pe.\u0275inj=k.cJS({providers:[],imports:[[or,er,jr.u5,Si.hO.initializeApp(yi_firebaseConfig),ur.yb,jr.UX]]}),pe})();(0,k.G48)(),Jn().bootstrapModule(Kr).catch(pe=>console.error(pe))},5867:(bt,Le,L)=>{"use strict";L.d(Le,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=L(9681);(0,p.registerVersion)("firebase","9.8.2","app")},127:(bt,Le,L)=>{"use strict";L.d(Le,{Z:()=>p.Z});var p=L(3942);p.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(bt,Le,L)=>{"use strict";L.r(Le);var p=L(5861),k=L(3942),Y=L(2090),Ie=L(9681),we=L(655),ve=L(1877),Me=L(4859);const Qe=function rt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pt=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ve.Yd("@firebase/auth");function Ct(g,...c){vt.logLevel<=ve.in.ERROR&&vt.error(`Auth (${Ie.SDK_VERSION}): ${g}`,...c)}function de(g,...c){throw Xe(g,...c)}function Pe(g,...c){return Xe(g,...c)}function Ye(g,c,h){const _=Object.assign(Object.assign({},pt()),{[c]:h});return new Y.LL("auth","Firebase",_).create(c,{appName:g.name})}function at(g,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&de(g,"argument-error"),Ye(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(g,...c){if("string"!=typeof g){const h=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(h,..._)}return $e.create(g,...c)}function Z(g,c,...h){if(!g)throw Xe(c,...h)}function He(g){const c="INTERNAL ASSERTION FAILED: "+g;throw Ct(c),new Error(c)}function te(g,c){g||He(c)}const xe=new Map;function fe(g){te(g instanceof Function,"Expected a class definition");let c=xe.get(g);return c?(te(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,xe.set(g,c),c)}function lt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function _t(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Ht{constructor(c,h){this.shortDelay=c,this.longDelay=h,te(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function Ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(g,c){te(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class on{static initialize(c,h,_){this.fetchImpl=c,h&&(this.headersImpl=h),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new Ht(3e4,6e4);function en(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function dn(g,c,h,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(g,c,h,_,V={}){return Pn(g,V,(0,p.Z)(function*(){let J={},Se={};_&&("GET"===c?Se=_:J={body:JSON.stringify(_)});const qe=(0,Y.xO)(Object.assign({key:g.config.apiKey},Se)).slice(1),Pt=yield g._getAdditionalHeaders();return Pt["Content-Type"]="application/json",g.languageCode&&(Pt["X-Firebase-Locale"]=g.languageCode),on.fetch()(Xn(g,g.config.apiHost,h,qe),Object.assign({method:c,headers:Pt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Pn(g,c,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(g,c,h){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},Tt),c);try{const V=new or(g),J=yield Promise.race([h(),V.promise]);V.clearNetworkTimeout();const Se=yield J.json();if("needConfirmation"in Se)throw Tn(g,"account-exists-with-different-credential",Se);if(J.ok&&!("errorMessage"in Se))return Se;{const qe=J.ok?Se.errorMessage:Se.error.message,[Pt,Kt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Tn(g,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Pt)throw Tn(g,"email-already-in-use",Se);if("USER_DISABLED"===Pt)throw Tn(g,"user-disabled",Se);const un=_[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw Ye(g,un,Kt);de(g,un)}}catch(V){if(V instanceof Y.ZR)throw V;de(g,"network-request-failed")}})).apply(this,arguments)}function Ln(g,c,h,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(g,c,h,_,V={}){const J=yield dn(g,c,h,_,V);return"mfaPendingCredential"in J&&de(g,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Xn(g,c,h,_){const V=`${c}${h}?${_}`;return g.config.emulator?Lt(g.config,V):`${g.config.apiScheme}://${V}`}class or{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,_)=>{this.timer=setTimeout(()=>_(Pe(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(g,c,h){const _={appName:g.name};h.email&&(_.email=h.email),h.phoneNumber&&(_.phoneNumber=h.phoneNumber);const V=Pe(g,c,_);return V.customData._tokenResponse=h,V}function qt(){return(qt=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function vn(g,c){return zt.apply(this,arguments)}function zt(){return(zt=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Br(g,c){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Cr(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function qn(){return(qn=(0,p.Z)(function*(g,c=!1){const h=(0,Y.m9)(g),_=yield h.getIdToken(c),V=wt(_);Z(V&&V.exp&&V.auth_time&&V.iat,h.auth,"internal-error");const J="object"==typeof V.firebase?V.firebase:void 0,Se=null==J?void 0:J.sign_in_provider;return{claims:V,token:_,authTime:Cr(It(V.auth_time)),issuedAtTime:Cr(It(V.iat)),expirationTime:Cr(It(V.exp)),signInProvider:Se||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function It(g){return 1e3*Number(g)}function wt(g){const[c,h,_]=g.split(".");if(void 0===c||void 0===h||void 0===_)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,Y.tV)(h);return V?JSON.parse(V):(Ct("Failed to decode base64 JWT payload"),null)}catch(V){return Ct("Caught error parsing JWT payload as JSON",V),null}}function ar(g,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,p.Z)(function*(g,c,h=!1){if(h)return c;try{return yield c}catch(_){throw _ instanceof Y.ZR&&hn(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}function hn({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Ai{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const V=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,p.Z)(function*(){yield h.iteration()}),_)}iteration(){var c=this;return(0,p.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&c.schedule(!0))}c.schedule()})()}}class vr{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(g){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(g){var c;const h=g.auth,_=yield g.getIdToken(),V=yield ar(g,Br(h,{idToken:_}));Z(null==V?void 0:V.users.length,h,"internal-error");const J=V.users[0];g._notifyReloadListener(J);const Se=(null===(c=J.providerUserInfo)||void 0===c?void 0:c.length)?re(J.providerUserInfo):[],qe=it(g.providerData,Se),un=!!g.isAnonymous&&!(g.email&&J.passwordHash||(null==qe?void 0:qe.length)),gn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:qe,metadata:new vr(J.createdAt,J.lastLoginAt),isAnonymous:un};Object.assign(g,gn)})).apply(this,arguments)}function Ee(){return(Ee=(0,p.Z)(function*(g){const c=(0,Y.m9)(g);yield Hn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function it(g,c){return[...g.filter(_=>!c.some(V=>V.providerId===_.providerId)),...c]}function re(g){return g.map(c=>{var{providerId:h}=c,_=(0,we._T)(c,["providerId"]);return{providerId:h,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function ut(){return(ut=(0,p.Z)(function*(g,c){const h=yield Pn(g,{},(0,p.Z)(function*(){const _=(0,Y.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:V,apiKey:J}=g.config,Se=Xn(g,V,"/v1/token",`key=${J}`),qe=yield g._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",on.fetch()(Se,{method:"POST",headers:qe,body:_})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Z(c.idToken,"internal-error"),Z(void 0!==c.idToken,"internal-error"),Z(void 0!==c.refreshToken,"internal-error");const h="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function At(g){const c=wt(g);return Z(c,"internal-error"),Z(void 0!==c.exp,"internal-error"),Z(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var _=this;return(0,p.Z)(function*(){return Z(!_.accessToken||_.refreshToken,c,"user-token-expired"),h||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var _=this;return(0,p.Z)(function*(){const{accessToken:V,refreshToken:J,expiresIn:Se}=yield function Oe(g,c){return ut.apply(this,arguments)}(c,h);_.updateTokensAndExpiration(V,J,Number(Se))})()}updateTokensAndExpiration(c,h,_){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,h){const{refreshToken:_,accessToken:V,expirationTime:J}=h,Se=new St;return _&&(Z("string"==typeof _,"internal-error",{appName:c}),Se.refreshToken=_),V&&(Z("string"==typeof V,"internal-error",{appName:c}),Se.accessToken=V),J&&(Z("number"==typeof J,"internal-error",{appName:c}),Se.expirationTime=J),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return He("not implemented")}}function Ot(g,c){Z("string"==typeof g||void 0===g,"internal-error",{appName:c})}class $t{constructor(c){var{uid:h,auth:_,stsTokenManager:V}=c,J=(0,we._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=_,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new vr(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,p.Z)(function*(){const _=yield ar(h,h.stsTokenManager.getToken(h.auth,c));return Z(_,h.auth,"internal-error"),h.accessToken!==_&&(h.accessToken=_,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),_})()}getIdTokenResult(c){return function Wn(g){return qn.apply(this,arguments)}(this,c)}reload(){return function _e(g){return Ee.apply(this,arguments)}(this)}_assign(c){this!==c&&(Z(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new $t(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var _=this;return(0,p.Z)(function*(){let V=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),V=!0),h&&(yield Hn(_)),yield _.auth._persistUserIfCurrent(_),V&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,p.Z)(function*(){const h=yield c.getIdToken();return yield ar(c,function Nt(g,c){return qt.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var _,V,J,Se,qe,Pt,Kt,un;const gn=null!==(_=h.displayName)&&void 0!==_?_:void 0,bi=null!==(V=h.email)&&void 0!==V?V:void 0,lo=null!==(J=h.phoneNumber)&&void 0!==J?J:void 0,Yu=null!==(Se=h.photoURL)&&void 0!==Se?Se:void 0,ed=null!==(qe=h.tenantId)&&void 0!==qe?qe:void 0,ah=null!==(Pt=h._redirectEventId)&&void 0!==Pt?Pt:void 0,Iu=null!==(Kt=h.createdAt)&&void 0!==Kt?Kt:void 0,rc=null!==(un=h.lastLoginAt)&&void 0!==un?un:void 0,{uid:ic,emailVerified:uh,isAnonymous:sc,providerData:td,stsTokenManager:lh}=h;Z(ic&&lh,c,"internal-error");const Vf=St.fromJSON(this.name,lh);Z("string"==typeof ic,c,"internal-error"),Ot(gn,c.name),Ot(bi,c.name),Z("boolean"==typeof uh,c,"internal-error"),Z("boolean"==typeof sc,c,"internal-error"),Ot(lo,c.name),Ot(Yu,c.name),Ot(ed,c.name),Ot(ah,c.name),Ot(Iu,c.name),Ot(rc,c.name);const nd=new $t({uid:ic,auth:c,email:bi,emailVerified:uh,displayName:gn,isAnonymous:sc,photoURL:Yu,phoneNumber:lo,tenantId:ed,stsTokenManager:Vf,createdAt:Iu,lastLoginAt:rc});return td&&Array.isArray(td)&&(nd.providerData=td.map(Uf=>Object.assign({},Uf))),ah&&(nd._redirectEventId=ah),nd}static _fromIdTokenResponse(c,h,_=!1){return(0,p.Z)(function*(){const V=new St;V.updateFromServerResponse(h);const J=new $t({uid:h.localId,auth:c,stsTokenManager:V,isAnonymous:_});return yield Hn(J),J})()}}const Jt=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(h,_){var V=this;return(0,p.Z)(function*(){V.storage[h]=_})()}_get(h){var _=this;return(0,p.Z)(function*(){const V=_.storage[h];return void 0===V?null:V})()}_remove(h){var _=this;return(0,p.Z)(function*(){delete _.storage[h]})()}_addListener(h,_){}_removeListener(h,_){}}return g.type="NONE",g})();function hr(g,c,h){return`firebase:${g}:${c}:${h}`}class Ar{constructor(c,h,_){this.persistence=c,this.auth=h,this.userKey=_;const{config:V,name:J}=this.auth;this.fullUserKey=hr(this.userKey,V.apiKey,J),this.fullPersistenceKey=hr("persistence",V.apiKey,J),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,p.Z)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?$t._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,p.Z)(function*(){if(h.persistence===c)return;const _=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,_?h.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,_="authUser"){return(0,p.Z)(function*(){if(!h.length)return new Ar(fe(Jt),c,_);const V=(yield Promise.all(h.map(function(){var Kt=(0,p.Z)(function*(un){if(yield un._isAvailable())return un});return function(un){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let J=V[0]||fe(Jt);const Se=hr(_,c.config.apiKey,c.name);let qe=null;for(const Kt of h)try{const un=yield Kt._get(Se);if(un){const gn=$t._fromJSON(c,un);Kt!==J&&(qe=gn),J=Kt;break}}catch(un){}const Pt=V.filter(Kt=>Kt._shouldAllowMigration);return J._shouldAllowMigration&&Pt.length?(J=Pt[0],qe&&(yield J._set(Se,qe.toJSON())),yield Promise.all(h.map(function(){var Kt=(0,p.Z)(function*(un){if(un!==J)try{yield un._remove(Se)}catch(gn){}});return function(un){return Kt.apply(this,arguments)}}())),new Ar(J,c,_)):new Ar(J,c,_)})()}}function fi(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Kn(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ir(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(xr(c))return"Blackberry";if(fr(c))return"Webos";if(Sr(c))return"Safari";if((c.includes("chrome/")||fn(c))&&!c.includes("edge/"))return"Chrome";if(_r(c))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function Ir(g=(0,Y.z$)()){return/firefox\//i.test(g)}function Sr(g=(0,Y.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function fn(g=(0,Y.z$)()){return/crios\//i.test(g)}function Kn(g=(0,Y.z$)()){return/iemobile/i.test(g)}function _r(g=(0,Y.z$)()){return/android/i.test(g)}function xr(g=(0,Y.z$)()){return/blackberry/i.test(g)}function fr(g=(0,Y.z$)()){return/webos/i.test(g)}function Mr(g=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(g)}function Or(g=(0,Y.z$)()){return Mr(g)||_r(g)||fr(g)||xr(g)||/windows phone/i.test(g)||Kn(g)}function ti(g,c=[]){let h;switch(g){case"Browser":h=fi((0,Y.z$)());break;case"Worker":h=`${fi((0,Y.z$)())}-${g}`;break;default:h=g}const _=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ie.SDK_VERSION}/${_}`}class Yt{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const _=J=>new Promise((Se,qe)=>{try{Se(c(J))}catch(Pt){qe(Pt)}});_.onAbort=h,this.queue.push(_);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,p.Z)(function*(){if(h.auth.currentUser===c)return;const _=[];try{for(const V of h.queue)yield V(c),V.onAbort&&_.push(V.onAbort)}catch(V){_.reverse();for(const J of _)try{J()}catch(Se){}throw h.auth._errorFactory.create("login-blocked",{originalMessage:V.message})}})()}}class Et{constructor(c,h,_){this.app=c,this.heartbeatServiceProvider=h,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new an(this),this.idTokenSubscription=new an(this),this.beforeStateQueue=new Yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,h){var _=this;return h&&(this._popupRedirectResolver=fe(h)),this._initializationPromise=this.queue((0,p.Z)(function*(){var V,J;if(!_._deleted&&(_.persistenceManager=yield Ar.create(_,c),!_._deleted)){if(null===(V=_._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(Se){}yield _.initializeCurrentUser(h),_.lastNotifiedUid=(null===(J=_.currentUser)||void 0===J?void 0:J.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,p.Z)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUser(c){var h=this;return(0,p.Z)(function*(){var _;const V=yield h.assertedPersistence.getCurrentUser();let J=V,Se=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const qe=null===(_=h.redirectUser)||void 0===_?void 0:_._redirectEventId,Pt=null==J?void 0:J._redirectEventId,Kt=yield h.tryRedirectSignIn(c);(!qe||qe===Pt)&&(null==Kt?void 0:Kt.user)&&(J=Kt.user,Se=!0)}if(!J)return h.directlySetCurrentUser(null);if(!J._redirectEventId){if(Se)try{yield h.beforeStateQueue.runMiddleware(J)}catch(qe){J=V,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(qe))}return J?h.reloadAndSetCurrentUserOrClear(J):h.directlySetCurrentUser(null)}return Z(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===J._redirectEventId?h.directlySetCurrentUser(J):h.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(c){var h=this;return(0,p.Z)(function*(){let _=null;try{_=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch(V){yield h._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,p.Z)(function*(){try{yield Hn(c)}catch(_){if("auth/network-request-failed"!==_.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function nt(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,p.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,p.Z)(function*(){const _=c?(0,Y.m9)(c):null;return _&&Z(_.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(_&&_._clone(h))})()}_updateCurrentUser(c,h=!1){var _=this;return(0,p.Z)(function*(){if(!_._deleted)return c&&Z(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),h||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,p.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,p.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var h=this;return this.queue((0,p.Z)(function*(){yield h.assertedPersistence.setPersistence(fe(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new Y.LL("auth","Firebase",c())}onAuthStateChanged(c,h,_){return this.registerStateListener(this.authStateSubscription,c,h,_)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,_){return this.registerStateListener(this.idTokenSubscription,c,h,_)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var _=this;return(0,p.Z)(function*(){const V=yield _.getOrInitRedirectPersistenceManager(h);return null===c?V.removeCurrentUser():V.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,p.Z)(function*(){if(!h.redirectPersistenceManager){const _=c&&fe(c)||h._popupRedirectResolver;Z(_,h,"argument-error"),h.redirectPersistenceManager=yield Ar.create(h,[fe(_._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,p.Z)(function*(){var _,V;return h._isInitialized&&(yield h.queue((0,p.Z)(function*(){}))),(null===(_=h._currentUser)||void 0===_?void 0:_._redirectEventId)===c?h._currentUser:(null===(V=h.redirectUser)||void 0===V?void 0:V._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,p.Z)(function*(){if(c===h.currentUser)return h.queue((0,p.Z)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,_,V){if(this._deleted)return()=>{};const J="function"==typeof h?h:h.next.bind(h),Se=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(Se,this,"internal-error"),Se.then(()=>J(this.currentUser)),"function"==typeof h?c.addObserver(h,_,V):c.addObserver(h)}directlySetCurrentUser(c){var h=this;return(0,p.Z)(function*(){h.currentUser&&h.currentUser!==c&&(h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh()),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,p.Z)(function*(){var h;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const V=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();return V&&(_["X-Firebase-Client"]=V),_})()}}function Dt(g){return(0,Y.m9)(g)}class an{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,Y.ne)(h=>this.observer=h)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wr(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function $r(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class qr{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return He("not implemented")}_getIdTokenResponse(c){return He("not implemented")}_linkToIdToken(c,h){return He("not implemented")}_getReauthenticationResolver(c){return He("not implemented")}}function Gn(g,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:resetPassword",en(g,c))})).apply(this,arguments)}function ni(g,c){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Si(g,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:update",en(g,c))})).apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithPassword",en(g,c))})).apply(this,arguments)}function X(g,c){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:sendOobCode",en(g,c))})).apply(this,arguments)}function Ne(g,c){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(g,c){return X(g,c)})).apply(this,arguments)}function sn(g,c){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(g,c){return X(g,c)})).apply(this,arguments)}function Zn(g,c){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(g,c){return X(g,c)})).apply(this,arguments)}function Dr(g,c){return xi.apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(g,c){return X(g,c)})).apply(this,arguments)}function Mi(){return(Mi=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithEmailLink",en(g,c))})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithEmailLink",en(g,c))})).apply(this,arguments)}class Yn extends qr{constructor(c,h,_,V=null){super("password",_),this._email=c,this._password=h,this._tenantId=V}static _fromEmailAndPassword(c,h){return new Yn(c,h,"password")}static _fromEmailAndCode(c,h,_=null){return new Yn(c,h,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,p.Z)(function*(){switch(h.signInMethod){case"password":return function pe(g,c){return ae.apply(this,arguments)}(c,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function Bi(g,c){return Mi.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:de(c,"internal-error")}})()}_linkToIdToken(c,h){var _=this;return(0,p.Z)(function*(){switch(_.signInMethod){case"password":return ni(c,{idToken:h,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Bs(g,c){return us.apply(this,arguments)}(c,{idToken:h,email:_._email,oobCode:_._password});default:de(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function vi(g,c){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithIdp",en(g,c))})).apply(this,arguments)}class ye extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new ye(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):de("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:V}=h,J=(0,we._T)(h,["providerId","signInMethod"]);if(!_||!V)return null;const Se=new ye(_,V);return Se.idToken=J.idToken||void 0,Se.accessToken=J.accessToken||void 0,Se.secret=J.secret,Se.nonce=J.nonce,Se.pendingToken=J.pendingToken||null,Se}_getIdTokenResponse(c){return vi(c,this.buildRequest())}_linkToIdToken(c,h){const _=this.buildRequest();return _.idToken=h,vi(c,_)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,vi(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,Y.xO)(h)}return c}}function Be(g,c){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:sendVerificationCode",en(g,c))})).apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,c))})).apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(g,c){const h=yield Ln(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,c));if(h.temporaryProof)throw Tn(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Dn={USER_NOT_FOUND:"user-not-found"};function Ps(){return(Ps=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Dn)})).apply(this,arguments)}class kr extends qr{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new kr({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new kr({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function yt(g,c){return Ft.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function Bn(g,c){return wr.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Oi(g,c){return Ps.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:_,verificationCode:V}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:_,code:V}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:_,phoneNumber:V,temporaryProof:J}=c;return _||h||V||J?new kr({verificationId:h,verificationCode:_,phoneNumber:V,temporaryProof:J}):null}}class cs{constructor(c){var h,_,V,J,Se,qe;const Pt=(0,Y.zd)((0,Y.pd)(c)),Kt=null!==(h=Pt.apiKey)&&void 0!==h?h:null,un=null!==(_=Pt.oobCode)&&void 0!==_?_:null,gn=function Rs(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Pt.mode)&&void 0!==V?V:null);Z(Kt&&un&&gn,"argument-error"),this.apiKey=Kt,this.operation=gn,this.code=un,this.continueUrl=null!==(J=Pt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Se=Pt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(qe=Pt.tenantId)&&void 0!==qe?qe:null}static parseLink(c){const h=function Yi(g){const c=(0,Y.zd)((0,Y.pd)(g)).link,h=c?(0,Y.zd)((0,Y.pd)(c)).deep_link_id:null,_=(0,Y.zd)((0,Y.pd)(g)).deep_link_id;return(_?(0,Y.zd)((0,Y.pd)(_)).link:null)||_||h||c||g}(c);try{return new cs(h)}catch(_){return null}}}let ws=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,_){return Yn._fromEmailAndPassword(h,_)}static credentialWithLink(h,_){const V=cs.parseLink(_);return Z(V,"argument-error"),Yn._fromEmailAndCode(h,V.code,V.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Fr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ds extends Fr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Pi extends ds{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return Z("providerId"in h&&"signInMethod"in h,"argument-error"),ye._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Z(c.idToken||c.accessToken,"argument-error"),ye._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Pi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Pi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:_,oauthTokenSecret:V,pendingToken:J,nonce:Se,providerId:qe}=c;if(!_&&!V&&!h&&!J||!qe)return null;try{return new Pi(qe)._credential({idToken:h,accessToken:_,nonce:Se,pendingToken:J})}catch(Pt){return null}}}let ji=(()=>{class g extends ds{constructor(){super("facebook.com")}static credential(h){return ye._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(_){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ns=(()=>{class g extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(h,_){return ye._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:_})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:V}=h;if(!_&&!V)return null;try{return g.credential(_,V)}catch(J){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Qi=(()=>{class g extends ds{constructor(){super("github.com")}static credential(h){return ye._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(_){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class ri extends qr{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return vi(c,this.buildRequest())}_linkToIdToken(c,h){const _=this.buildRequest();return _.idToken=h,vi(c,_)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,vi(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:V,pendingToken:J}=h;return _&&V&&J&&_===V?new ri(_,J):null}static _create(c,h){return new ri(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gr extends Fr{constructor(c){Z(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Gr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Gr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=ri.fromJSON(c);return Z(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:_}=c;if(!h||!_)return null;try{return ri._create(_,h)}catch(V){return null}}}let eo=(()=>{class g extends ds{constructor(){super("twitter.com")}static credential(h,_){return ye._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:_})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:_,oauthTokenSecret:V}=h;if(!_||!V)return null;try{return g.credential(_,V)}catch(J){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Yr(g,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signUp",en(g,c))})).apply(this,arguments)}class pr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,_,V=!1){return(0,p.Z)(function*(){const J=yield $t._fromIdTokenResponse(c,_,V),Se=js(_);return new pr({user:J,providerId:Se,_tokenResponse:_,operationType:h})})()}static _forOperation(c,h,_){return(0,p.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const V=js(_);return new pr({user:c,providerId:V,_tokenResponse:_,operationType:h})})()}}function js(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Is(){return(Is=(0,p.Z)(function*(g){var c;const h=Dt(g);if(yield h._initializationPromise,null===(c=h.currentUser)||void 0===c?void 0:c.isAnonymous)return new pr({user:h.currentUser,providerId:null,operationType:"signIn"});const _=yield Yr(h,{returnSecureToken:!0}),V=yield pr._fromIdTokenResponse(h,"signIn",_,!0);return yield h._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ri extends Y.ZR{constructor(c,h,_,V){var J;super(h.code,h.message),this.operationType=_,this.user=V,Object.setPrototypeOf(this,Ri.prototype),this.customData={appName:c.name,tenantId:null!==(J=c.tenantId)&&void 0!==J?J:void 0,_serverResponse:h.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,h,_,V){return new Ri(c,h,_,V)}}function Ni(g,c,h,_){return("reauthenticate"===c?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Ri._fromErrorAndOperation(g,J,c,_):J})}function Jr(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function nr(){return(nr=(0,p.Z)(function*(g,c){const h=(0,Y.m9)(g);yield O(!0,h,c);const{providerUserInfo:_}=yield vn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),V=Jr(_||[]);return h.providerData=h.providerData.filter(J=>V.has(J.providerId)),V.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function P(g,c){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(g,c,h=!1){const _=yield ar(g,c._linkToIdToken(g.auth,yield g.getIdToken()),h);return pr._forOperation(g,"link",_)})).apply(this,arguments)}function O(g,c,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(g,c,h){yield Hn(c);const V=!1===g?"provider-already-linked":"no-such-provider";Z(Jr(c.providerData).has(h)===g,c.auth,V)})).apply(this,arguments)}function me(g,c){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(g,c,h=!1){const{auth:_}=g,V="reauthenticate";try{const J=yield ar(g,Ni(_,V,c,g),h);Z(J.idToken,_,"internal-error");const Se=wt(J.idToken);Z(Se,_,"internal-error");const{sub:qe}=Se;return Z(g.uid===qe,_,"user-mismatch"),pr._forOperation(g,V,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&de(_,"user-mismatch"),J}})).apply(this,arguments)}function Ze(g,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(g,c,h=!1){const _="signIn",V=yield Ni(g,_,c),J=yield pr._fromIdTokenResponse(g,_,V);return h||(yield g._updateCurrentUser(J.user)),J})).apply(this,arguments)}function mn(g,c){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(g,c){return Ze(Dt(g),c)})).apply(this,arguments)}function pn(g,c){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,p.Z)(function*(g,c){const h=(0,Y.m9)(g);return yield O(!1,h,c.providerId),P(h,c)})).apply(this,arguments)}function lr(g,c){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(g,c){return me((0,Y.m9)(g),c)})).apply(this,arguments)}function gr(g,c){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(g,c){return Ln(g,"POST","/v1/accounts:signInWithCustomToken",en(g,c))})).apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(g,c){const h=Dt(g),_=yield gr(h,{token:c,returnSecureToken:!0}),V=yield pr._fromIdTokenResponse(h,"signIn",_);return yield h._updateCurrentUser(V.user),V})).apply(this,arguments)}class ii{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?Ji._fromServerResponse(c,h):de(c,"internal-error")}}class Ji extends ii{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new Ji(h)}}function hs(g,c,h){var _;Z((null===(_=h.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),Z(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Z(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(Z(h.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function N(){return(N=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g),V={requestType:"PASSWORD_RESET",email:c};h&&hs(_,V,h),yield sn(_,V)})).apply(this,arguments)}function S(){return(S=(0,p.Z)(function*(g,c,h){yield Gn((0,Y.m9)(g),{oobCode:c,newPassword:h})})).apply(this,arguments)}function he(){return(he=(0,p.Z)(function*(g,c){yield Si((0,Y.m9)(g),{oobCode:c})})).apply(this,arguments)}function ct(g,c){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(g,c){const h=(0,Y.m9)(g),_=yield Gn(h,{oobCode:c}),V=_.requestType;switch(Z(V,h,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(_.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(_.mfaInfo,h,"internal-error");default:Z(_.email,h,"internal-error")}let J=null;return _.mfaInfo&&(J=ii._fromServerResponse(Dt(h),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:J},operation:V}})).apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(g,c){const{data:h}=yield ct((0,Y.m9)(g),c);return h.email})).apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(g,c,h){const _=Dt(g),V=yield Yr(_,{returnSecureToken:!0,email:c,password:h}),J=yield pr._fromIdTokenResponse(_,"signIn",V);return yield _._updateCurrentUser(J.user),J})).apply(this,arguments)}function Fa(){return(Fa=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g),V={requestType:"EMAIL_SIGNIN",email:c};Z(h.handleCodeInApp,_,"argument-error"),h&&hs(_,V,h),yield Zn(_,V)})).apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g),V=ws.credentialWithLink(c,h||lt());return Z(V._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),mn(_,V)})).apply(this,arguments)}function ci(g,c){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:createAuthUri",en(g,c))})).apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(g,c){const _={identifier:c,continueUri:_t()?lt():"http://localhost"},{signinMethods:V}=yield ci((0,Y.m9)(g),_);return V||[]})).apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(g,c){const h=(0,Y.m9)(g),V={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&hs(h.auth,V,c);const{email:J}=yield Ne(h.auth,V);J!==g.email&&(yield g.reload())})).apply(this,arguments)}function Pr(){return(Pr=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};h&&hs(_.auth,J,h);const{email:Se}=yield Dr(_.auth,J);Se!==g.email&&(yield g.reload())})).apply(this,arguments)}function Xo(g,c){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,p.Z)(function*(g,c){return dn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ea(){return(ea=(0,p.Z)(function*(g,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const _=(0,Y.m9)(g),J={idToken:yield _.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},Se=yield ar(_,Xo(_.auth,J));_.displayName=Se.displayName||null,_.photoURL=Se.photoUrl||null;const qe=_.providerData.find(({providerId:Pt})=>"password"===Pt);qe&&(qe.displayName=_.displayName,qe.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Se)})).apply(this,arguments)}function _o(g,c,h){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(g,c,h){const{auth:_}=g,J={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(J.email=c),h&&(J.password=h);const Se=yield ar(g,ni(_,J));yield g._updateTokensIfNecessary(Se,!0)})).apply(this,arguments)}class ro{constructor(c,h,_={}){this.isNewUser=c,this.providerId=h,this.profile=_}}class Ds extends ro{constructor(c,h,_,V){super(c,h,_),this.username=V}}class na extends ro{constructor(c,h){super(c,"facebook.com",h)}}class Fs extends Ds{constructor(c,h){super(c,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class ma extends ro{constructor(c,h){super(c,"google.com",h)}}class $s extends Ds{constructor(c,h,_){super(c,"twitter.com",h,_)}}function Li(g){const{user:c,_tokenResponse:h}=g;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function wo(g){var c,h;if(!g)return null;const{providerId:_}=g,V=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},J=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&(null==g?void 0:g.idToken)){const Se=null===(h=null===(c=wt(g.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(Se)return new ro(J,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!_)return null;switch(_){case"facebook.com":return new na(J,V);case"github.com":return new Fs(J,V);case"google.com":return new ma(J,V);case"twitter.com":return new $s(J,V,g.screenName||null);case"custom":case"anonymous":return new ro(J,null);default:return new ro(J,_,V)}}(h)}class Ts{constructor(c,h){this.type=c,this.credential=h}static _fromIdtoken(c){return new Ts("enroll",c)}static _fromMfaPendingCredential(c){return new Ts("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,_;if(null==c?void 0:c.multiFactorSession){if(null===(h=c.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return Ts._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(_=c.multiFactorSession)||void 0===_?void 0:_.idToken)return Ts._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Gs{constructor(c,h,_){this.session=c,this.hints=h,this.signInResolver=_}static _fromError(c,h){const _=Dt(c),V=h.customData._serverResponse,J=(V.mfaInfo||[]).map(qe=>ii._fromServerResponse(_,qe));Z(V.mfaPendingCredential,_,"internal-error");const Se=Ts._fromMfaPendingCredential(V.mfaPendingCredential);return new Gs(Se,J,function(){var qe=(0,p.Z)(function*(Pt){const Kt=yield Pt._process(_,Se);delete V.mfaInfo,delete V.mfaPendingCredential;const un=Object.assign(Object.assign({},V),{idToken:Kt.idToken,refreshToken:Kt.refreshToken});switch(h.operationType){case"signIn":const gn=yield pr._fromIdTokenResponse(_,h.operationType,un);return yield _._updateCurrentUser(gn.user),gn;case"reauthenticate":return Z(h.user,_,"internal-error"),pr._forOperation(h.user,h.operationType,un);default:de(_,"internal-error")}});return function(Pt){return qe.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,p.Z)(function*(){return h.signInResolver(c)})()}}function Oo(g,c){return dn(g,"POST","/v2/accounts/mfaEnrollment:start",en(g,c))}class Ss{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(_=>ii._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new Ss(c)}getSession(){var c=this;return(0,p.Z)(function*(){return Ts._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,h){var _=this;return(0,p.Z)(function*(){const V=c,J=yield _.getSession(),Se=yield ar(_.user,V._process(_.user.auth,J,h));return yield _.user._updateTokensIfNecessary(Se),_.user.reload()})()}unenroll(c){var h=this;return(0,p.Z)(function*(){const _="string"==typeof c?c:c.uid,V=yield h.user.getIdToken(),J=yield ar(h.user,function As(g,c){return dn(g,"POST","/v2/accounts/mfaEnrollment:withdraw",en(g,c))}(h.user.auth,{idToken:V,mfaEnrollmentId:_}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Se})=>Se!==_),yield h.user._updateTokensIfNecessary(J);try{yield h.user.reload()}catch(Se){if("auth/user-token-expired"!==Se.code)throw Se}})()}}const Tr=new WeakMap,xs="__sak";class Po{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const bo=(()=>{class g extends Po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,_)=>this.onStorageEvent(h,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ja(){const g=(0,Y.z$)();return Sr(g)||Mr(g)}()&&function ur(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Or(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const _ of Object.keys(this.listeners)){const V=this.storage.getItem(_),J=this.localCache[_];V!==J&&h(_,J,V)}}onStorageEvent(h,_=!1){if(!h.key)return void this.forAllChangedKeys((qe,Pt,Kt)=>{this.notifyListeners(qe,Kt)});const V=h.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(V);if(h.newValue!==qe)null!==h.newValue?this.storage.setItem(V,h.newValue):this.storage.removeItem(V);else if(this.localCache[V]===h.newValue&&!_)return}const J=()=>{const qe=this.storage.getItem(V);!_&&this.localCache[V]===qe||this.notifyListeners(V,qe)},Se=this.storage.getItem(V);!function Hr(){return(0,Y.w1)()&&10===document.documentMode}()||Se===h.newValue||h.newValue===h.oldValue?J():setTimeout(J,10)}notifyListeners(h,_){this.localCache[h]=_;const V=this.listeners[h];if(V)for(const J of Array.from(V))J(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,_,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:_,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,_){var V=()=>super._set,J=this;return(0,p.Z)(function*(){yield V().call(J,h,_),J.localCache[h]=JSON.stringify(_)})()}_get(h){var _=()=>super._get,V=this;return(0,p.Z)(function*(){const J=yield _().call(V,h);return V.localCache[h]=JSON.stringify(J),J})()}_remove(h){var _=()=>super._remove,V=this;return(0,p.Z)(function*(){yield _().call(V,h),delete V.localCache[h]})()}}return g.type="LOCAL",g})(),b=(()=>{class g extends Po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,_){}_removeListener(h,_){}}return g.type="SESSION",g})();let H=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const _=this.receivers.find(J=>J.isListeningto(h));if(_)return _;const V=new g(h);return this.receivers.push(V),V}isListeningto(h){return this.eventTarget===h}handleEvent(h){var _=this;return(0,p.Z)(function*(){const V=h,{eventId:J,eventType:Se,data:qe}=V.data,Pt=_.handlersMap[Se];if(!(null==Pt?void 0:Pt.size))return;V.ports[0].postMessage({status:"ack",eventId:J,eventType:Se});const Kt=Array.from(Pt).map(function(){var gn=(0,p.Z)(function*(bi){return bi(V.origin,qe)});return function(bi){return gn.apply(this,arguments)}}()),un=yield function C(g){return Promise.all(g.map(function(){var c=(0,p.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(_){return{fulfilled:!1,reason:_}}});return function(h){return c.apply(this,arguments)}}()))}(Kt);V.ports[0].postMessage({status:"done",eventId:J,eventType:Se,response:un})})()}_subscribe(h,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(_)}_unsubscribe(h,_){this.handlersMap[h]&&_&&this.handlersMap[h].delete(_),(!_||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function le(g="",c=10){let h="";for(let _=0;_<c;_++)h+=Math.floor(10*Math.random());return g+h}class st{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,_=50){var V=this;return(0,p.Z)(function*(){const J="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Se,qe;return new Promise((Pt,Kt)=>{const un=le("",20);J.port1.start();const gn=setTimeout(()=>{Kt(new Error("unsupported_event"))},_);qe={messageChannel:J,onMessage(bi){const lo=bi;if(lo.data.eventId===un)switch(lo.data.status){case"ack":clearTimeout(gn),Se=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Pt(lo.data.response);break;default:clearTimeout(gn),clearTimeout(Se),Kt(new Error("invalid_response"))}}},V.handlers.add(qe),J.port1.addEventListener("message",qe.onMessage),V.target.postMessage({eventType:c,eventId:un,data:h},[J.port2])}).finally(()=>{qe&&V.removeMessageHandler(qe)})})()}}function kt(){return window}function di(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function oo(){return(oo=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const Co="firebaseLocalStorageDb",Do="firebaseLocalStorage",mt="fbase_key";class Lr{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function I(g,c){return g.transaction([Do],c?"readwrite":"readonly").objectStore(Do)}function y(){const g=indexedDB.open(Co,1);return new Promise((c,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(Do,{keyPath:mt})}catch(V){h(V)}}),g.addEventListener("success",(0,p.Z)(function*(){const _=g.result;_.objectStoreNames.contains(Do)?c(_):(_.close(),yield function w(){const g=indexedDB.deleteDatabase(Co);return new Lr(g).toPromise()}(),c(yield y()))}))})}function A(g,c,h){return F.apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(g,c,h){const _=I(g,!0).put({[mt]:c,value:h});return new Lr(_).toPromise()})).apply(this,arguments)}function $(){return($=(0,p.Z)(function*(g,c){const h=I(g,!1).get(c),_=yield new Lr(h).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function ee(g,c){const h=I(g,!0).delete(c);return new Lr(h).toPromise()}const Xt=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,p.Z)(function*(){return h.db||(h.db=yield y()),h.db})()}_withRetries(h){var _=this;return(0,p.Z)(function*(){let V=0;for(;;)try{const J=yield _._openDb();return yield h(J)}catch(J){if(V++>3)throw J;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,p.Z)(function*(){return di()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,p.Z)(function*(){h.receiver=H._getInstance(function Io(){return di()?self:null}()),h.receiver._subscribe("keyChanged",function(){var _=(0,p.Z)(function*(V,J){return{keyProcessed:(yield h._poll()).includes(J.key)}});return function(V,J){return _.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var _=(0,p.Z)(function*(V,J){return["keyChanged"]});return function(V,J){return _.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,p.Z)(function*(){var _,V;if(h.activeServiceWorker=yield function si(){return oo.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new st(h.activeServiceWorker);const J=yield h.sender._send("ping",{},800);!J||(null===(_=J[0])||void 0===_?void 0:_.fulfilled)&&(null===(V=J[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var _=this;return(0,p.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function oi(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:h},_.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const h=yield y();return yield A(h,xs,"1"),yield ee(h,xs),!0}catch(h){}return!1})()}_withPendingWrite(h){var _=this;return(0,p.Z)(function*(){_.pendingWrites++;try{yield h()}finally{_.pendingWrites--}})()}_set(h,_){var V=this;return(0,p.Z)(function*(){return V._withPendingWrite((0,p.Z)(function*(){return yield V._withRetries(J=>A(J,h,_)),V.localCache[h]=_,V.notifyServiceWorker(h)}))})()}_get(h){var _=this;return(0,p.Z)(function*(){const V=yield _._withRetries(J=>function j(g,c){return $.apply(this,arguments)}(J,h));return _.localCache[h]=V,V})()}_remove(h){var _=this;return(0,p.Z)(function*(){return _._withPendingWrite((0,p.Z)(function*(){return yield _._withRetries(V=>ee(V,h)),delete _.localCache[h],_.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,p.Z)(function*(){const _=yield h._withRetries(Se=>{const qe=I(Se,!1).getAll();return new Lr(qe).toPromise()});if(!_)return[];if(0!==h.pendingWrites)return[];const V=[],J=new Set;for(const{fbase_key:Se,value:qe}of _)J.add(Se),JSON.stringify(h.localCache[Se])!==JSON.stringify(qe)&&(h.notifyListeners(Se,qe),V.push(Se));for(const Se of Object.keys(h.localCache))h.localCache[Se]&&!J.has(Se)&&(h.notifyListeners(Se,null),V.push(Se));return V})()}notifyListeners(h,_){this.localCache[h]=_;const V=this.listeners[h];if(V)for(const J of Array.from(V))J(_)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function rr(g,c){return dn(g,"POST","/v2/accounts/mfaSignIn:start",en(g,c))}function zs(){return(zs=(0,p.Z)(function*(g){return(yield dn(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ha(g){return new Promise((c,h)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=c,_.onerror=V=>{const J=Pe("internal-error");J.customData=V,h(J)},_.type="text/javascript",_.charset="UTF-8",function Go(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(_)})}function Vr(g){return`__${g}${Math.floor(1e6*Math.random())}`}const xn=1e12;class ia{constructor(c){this.auth=c,this.counter=xn,this._widgets=new Map}render(c,h){const _=this.counter;return this._widgets.set(_,new _a(c,this.auth.name,h||{})),this.counter++,_}reset(c){var h;const _=c||xn;null===(h=this._widgets.get(_))||void 0===h||h.delete(),this._widgets.delete(_)}getResponse(c){var h;return(null===(h=this._widgets.get(c||xn))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,p.Z)(function*(){var _;return null===(_=h._widgets.get(c||xn))||void 0===_||_.execute(),""})()}}class _a{constructor(c,h,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof c?document.getElementById(c):c;Z(V,"argument-error",{appName:h}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pi(g){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)c.push(h.charAt(Math.floor(Math.random()*h.length)));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _n=Vr("rcb"),gi=new Ht(3e4,6e4);class Ud{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(c,h=""){return Z(function Fu(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(h),c,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(kt().grecaptcha):new Promise((_,V)=>{const J=kt().setTimeout(()=>{V(Pe(c,"network-request-failed"))},gi.get());kt()[_n]=()=>{kt().clearTimeout(J),delete kt()[_n];const qe=kt().grecaptcha;if(!qe)return void V(Pe(c,"internal-error"));const Pt=qe.render;qe.render=(Kt,un)=>{const gn=Pt(Kt,un);return this.counter++,gn},this.hostLanguage=h,_(qe)},Ha(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:_n,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(J),V(Pe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!kt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ir{load(c){return(0,p.Z)(function*(){return new ia(c)})()}clearedOneInstance(){}}const $l="recaptcha",es={theme:"light",type:"image"};class du{constructor(c,h=Object.assign({},es),_){this.parameters=h,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(_),this.isInvisible="invisible"===this.parameters.size,Z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof c?document.getElementById(c):c;Z(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ir:new Ud,this.validateStartingState()}verify(){var c=this;return(0,p.Z)(function*(){c.assertNotDestroyed();const h=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(h)||new Promise(J=>{const Se=qe=>{!qe||(c.tokenChangeListeners.delete(Se),J(qe))};c.tokenChangeListeners.add(Se),c.isInvisible&&_.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(_=>_(h)),"function"==typeof c)c(h);else if("string"==typeof c){const _=kt()[c];"function"==typeof _&&_(h)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,p.Z)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const _=document.createElement("div");h.appendChild(_),h=_}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,p.Z)(function*(){Z(_t()&&!di(),c.auth,"internal-error"),yield function hu(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function Gi(g){return zs.apply(this,arguments)}(c.auth);Z(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vi{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=kr._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function ao(){return(ao=(0,p.Z)(function*(g,c,h){const _=Dt(g),V=yield rs(_,c,(0,Y.m9)(h));return new Vi(V,J=>mn(_,J))})).apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g);yield O(!1,_,"phone");const V=yield rs(_.auth,c,(0,Y.m9)(h));return new Vi(V,J=>pn(_,J))})).apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g),V=yield rs(_.auth,c,(0,Y.m9)(h));return new Vi(V,J=>lr(_,J))})).apply(this,arguments)}function rs(g,c,h){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,p.Z)(function*(g,c,h){var _;const V=yield h.verify();try{let J;if(Z("string"==typeof V,g,"argument-error"),Z(h.type===$l,g,"argument-error"),J="string"==typeof c?{phoneNumber:c}:c,"session"in J){const Se=J.session;if("phoneNumber"in J)return Z("enroll"===Se.type,g,"internal-error"),(yield Oo(g,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Z("signin"===Se.type,g,"internal-error");const qe=(null===(_=J.multiFactorHint)||void 0===_?void 0:_.uid)||J.multiFactorUid;return Z(qe,g,"missing-multi-factor-info"),(yield rr(g,{mfaPendingCredential:Se.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield Be(g,{phoneNumber:J.phoneNumber,recaptchaToken:V});return Se}}finally{h._reset()}})).apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(g,c){yield P((0,Y.m9)(g),c)})).apply(this,arguments)}let uo=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=Dt(h)}verifyPhoneNumber(h,_){return rs(this.auth,h,(0,Y.m9)(_))}static credential(h,_){return kr._fromVerification(h,_)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:_,temporaryProof:V}=h;return _&&V?kr._fromTokenResponse(_,V):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Ro(g,c){return c?fe(c):(Z(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Rt extends qr{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return vi(c,this._buildIdpRequest())}_linkToIdToken(c,h){return vi(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return vi(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function Wo(g){return Ze(g.auth,new Rt(g),g.bypassAuthState)}function fu(g){const{auth:c,user:h}=g;return Z(h,c,"internal-error"),me(h,new Rt(g),g.bypassAuthState)}function wa(g){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(g){const{auth:c,user:h}=g;return Z(h,c,"internal-error"),P(h,new Rt(g),g.bypassAuthState)})).apply(this,arguments)}class Ea{constructor(c,h,_,V,J=!1){this.auth=c,this.resolver=_,this.user=V,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,p.Z)(function*(_,V){c.pendingPromise={resolve:_,reject:V};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(J){c.reject(J)}});return function(_,V){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,p.Z)(function*(){const{urlResponse:_,sessionId:V,postBody:J,tenantId:Se,error:qe,type:Pt}=c;if(qe)return void h.reject(qe);const Kt={auth:h.auth,requestUri:_,sessionId:V,tenantId:Se||void 0,postBody:J||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Pt)(Kt))}catch(un){h.reject(un)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Wo;case"linkViaPopup":case"linkViaRedirect":return wa;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:de(this.auth,"internal-error")}}resolve(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qs=new Ht(2e3,1e4);function Vs(){return(Vs=(0,p.Z)(function*(g,c,h){const _=Dt(g);at(g,c,Fr);const V=Ro(_,h);return new Uu(_,"signInViaPopup",c,V).executeNotNull()})).apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g);at(_.auth,c,Fr);const V=Ro(_.auth,h);return new Uu(_.auth,"reauthViaPopup",c,V,_).executeNotNull()})).apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g);at(_.auth,c,Fr);const V=Ro(_.auth,h);return new Uu(_.auth,"linkViaPopup",c,V,_).executeNotNull()})).apply(this,arguments)}let Uu=(()=>{class g extends Ea{constructor(h,_,V,J,Se){super(h,_,J,Se),this.provider=V,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,p.Z)(function*(){const _=yield h.execute();return Z(_,h.auth,"internal-error"),_})()}onExecution(){var h=this;return(0,p.Z)(function*(){te(1===h.filter.length,"Popup operations only handle one event");const _=le();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],_),h.authWindow.associatedEvent=_,h.resolver._originValidation(h.auth).catch(V=>{h.reject(V)}),h.resolver._isIframeWebStorageSupported(h.auth,V=>{V||h.reject(Pe(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var _,V;this.pollId=(null===(V=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,qs.get())};h()}}return g.currentPopupAction=null,g})();const No=new Map;class ba extends Ea{constructor(c,h,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,p.Z)(function*(){let _=No.get(h.auth._key());if(!_){try{const J=(yield function Gl(g,c){return Ia.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;_=()=>Promise.resolve(J)}catch(V){_=()=>Promise.reject(V)}No.set(h.auth._key(),_)}return h.bypassAuthState||No.set(h.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,_=this;return(0,p.Z)(function*(){if("signInViaRedirect"===c.type)return h().call(_,c);if("unknown"!==c.type){if(c.eventId){const V=yield _.auth._redirectUserForId(c.eventId);if(V)return _.user=V,h().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ia(){return(Ia=(0,p.Z)(function*(g,c){const h=ie(c),_=K(g);if(!(yield _._isAvailable()))return!1;const V="true"===(yield _._get(h));return yield _._remove(h),V})).apply(this,arguments)}function pu(g,c){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,p.Z)(function*(g,c){return K(g)._set(ie(c),"true")})).apply(this,arguments)}function R(g,c){No.set(g._key(),c)}function K(g){return fe(g._redirectPersistence)}function ie(g){return hr("pendingRedirect",g.config.apiKey,g.name)}function gt(){return(gt=(0,p.Z)(function*(g,c,h){const _=Dt(g);at(g,c,Fr);const V=Ro(_,h);return yield pu(V,_),V._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g);at(_.auth,c,Fr);const V=Ro(_.auth,h);yield pu(V,_.auth);const J=yield Zs(_);return V._openRedirect(_.auth,c,"reauthViaRedirect",J)})).apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(g,c,h){const _=(0,Y.m9)(g);at(_.auth,c,Fr);const V=Ro(_.auth,h);yield O(!1,_,c.providerId),yield pu(V,_.auth);const J=yield Zs(_);return V._openRedirect(_.auth,c,"linkViaRedirect",J)})).apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(g,c){return yield Dt(g)._initializationPromise,mi(g,c,!1)})).apply(this,arguments)}function mi(g,c){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(g,c,h=!1){const _=Dt(g),V=Ro(_,c),Se=yield new ba(_,V,h).execute();return Se&&!h&&(delete Se.user._redirectEventId,yield _._persistUserIfCurrent(Se.user),yield _._setRedirectUser(null,c)),Se})).apply(this,arguments)}function Zs(g){return Us.apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(g){const c=le(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class Uc{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(h=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Wa(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zl(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var _;if(c.error&&!zl(c)){const V=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";h.onError(Pe(this.auth,V))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const _=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ca(c))}saveEventToCache(c){this.cachedEventUids.add(Ca(c)),this.lastProcessedEventTime=Date.now()}}function Ca(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function zl({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Bu(g){return ju.apply(this,arguments)}function ju(){return(ju=(0,p.Z)(function*(g,c={}){return dn(g,"GET","/v1/projects",c)})).apply(this,arguments)}const Bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gu=/^https?/;function Bc(){return(Bc=(0,p.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield Bu(g);for(const h of c)try{if(Ig(h))return}catch(_){}de(g,"unauthorized-domain")})).apply(this,arguments)}function Ig(g){const c=lt(),{protocol:h,hostname:_}=new URL(c);if(g.startsWith("chrome-extension://")){const Se=new URL(g);return""===Se.hostname&&""===_?"chrome-extension:"===h&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&Se.hostname===_}if(!gu.test(h))return!1;if(Bd.test(g))return _===g;const V=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(_)}const jd=new Ht(3e4,6e4);function jc(){const g=kt().___jsl;if(null==g?void 0:g.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let Wl=null;function If(g){return Wl=Wl||function Cg(g){return new Promise((c,h)=>{var _,V,J;function Se(){jc(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{jc(),h(Pe(g,"network-request-failed"))},timeout:jd.get()})}if(null===(V=null===(_=kt().gapi)||void 0===_?void 0:_.iframes)||void 0===V?void 0:V.Iframe)c(gapi.iframes.getContext());else{if(!(null===(J=kt().gapi)||void 0===J?void 0:J.load)){const qe=Vr("iframefcb");return kt()[qe]=()=>{gapi.load?Se():h(Pe(g,"network-request-failed"))},Ha(`https://apis.google.com/js/api.js?onload=${qe}`).catch(Pt=>h(Pt))}Se()}}).catch(c=>{throw Wl=null,c})}(g),Wl}const Cf=new Ht(5e3,15e3),Hu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $d(g){const c=g.config;Z(c.authDomain,g,"auth-domain-config-required");const h=c.emulator?Lt(c,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,_={apiKey:c.apiKey,appName:g.name,v:Ie.SDK_VERSION},V=Hd.get(g.config.apiHost);V&&(_.eid=V);const J=g._getFrameworks();return J.length&&(_.fw=J.join(",")),`${h}?${(0,Y.xO)(_).slice(1)}`}function mu(){return mu=(0,p.Z)(function*(g){const c=yield If(g),h=kt().gapi;return Z(h,g,"internal-error"),c.open({where:document.body,url:$d(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hu,dontclear:!0},_=>new Promise(function(){var V=(0,p.Z)(function*(J,Se){yield _.restyle({setHideOnLeave:!1});const qe=Pe(g,"network-request-failed"),Pt=kt().setTimeout(()=>{Se(qe)},Cf.get());function Kt(){kt().clearTimeout(Pt),J(_)}_.ping(Kt).then(Kt,()=>{Se(qe)})});return function(J,Se){return V.apply(this,arguments)}}()))}),mu.apply(this,arguments)}const Za={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yu{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function Fo(g,c,h,_,V,J){Z(g.config.authDomain,g,"auth-domain-config-required"),Z(g.config.apiKey,g,"invalid-api-key");const Se={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:_,v:Ie.SDK_VERSION,eventId:V};if(c instanceof Fr){c.setDefaultLanguage(g.languageCode),Se.providerId=c.providerId||"",(0,Y.xb)(c.getCustomParameters())||(Se.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Pt,Kt]of Object.entries(J||{}))Se[Pt]=Kt}if(c instanceof ds){const Pt=c.getScopes().filter(Kt=>""!==Kt);Pt.length>0&&(Se.scopes=Pt.join(","))}g.tenantId&&(Se.tid=g.tenantId);const qe=Se;for(const Pt of Object.keys(qe))void 0===qe[Pt]&&delete qe[Pt];return`${function vu({config:g}){return g.emulator?Lt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,Y.xO)(qe).slice(1)}`}const Yl="webStorageSupport";class Hc extends class Af{constructor(c){this.factorId=c}_process(c,h,_){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,_);case"signin":return this._finalizeSignIn(c,h.credential);default:return He("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Hc(c)}_finalizeEnroll(c,h,_){return function Ho(g,c){return dn(g,"POST","/v2/accounts/mfaEnrollment:finalize",en(g,c))}(c,{idToken:h,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function cr(g,c){return dn(g,"POST","/v2/accounts/mfaSignIn:finalize",en(g,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sf=(()=>{class g{constructor(){}static assertion(h){return Hc._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var $u="@firebase/auth";class xf{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,p.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(_=>{var V;c((null===(V=_)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);!h||(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ya(){return window}function Ms(){return(Ms=(0,p.Z)(function*(g,c,h){var _;const{BuildInfo:V}=Ya();te(c.sessionId,"AuthEvent did not contain a session ID");const J=yield Gc(c.sessionId),Se={};return Mr()?Se.ibi=V.packageName:_r()?Se.apn=V.packageName:de(g,"operation-not-supported-in-this-environment"),V.displayName&&(Se.appDisplayName=V.displayName),Se.sessionId=J,Fo(g,h,c.type,void 0,null!==(_=c.eventId)&&void 0!==_?_:void 0,Se)})).apply(this,arguments)}function yl(){return(yl=(0,p.Z)(function*(g){const{BuildInfo:c}=Ya(),h={};Mr()?h.iosBundleId=c.packageName:_r()?h.androidPackageName=c.packageName:de(g,"operation-not-supported-in-this-environment"),yield Bu(g,h)})).apply(this,arguments)}function Yd(){return(Yd=(0,p.Z)(function*(g,c,h){const{cordova:_}=Ya();let V=()=>{};try{yield new Promise((J,Se)=>{let qe=null;function Pt(){var gn;J();const bi=null===(gn=_.plugins.browsertab)||void 0===gn?void 0:gn.close;"function"==typeof bi&&bi(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Kt(){qe||(qe=window.setTimeout(()=>{Se(Pe(g,"redirect-cancelled-by-user"))},2e3))}function un(){"visible"===(null==document?void 0:document.visibilityState)&&Kt()}c.addPassiveListener(Pt),document.addEventListener("resume",Kt,!1),_r()&&document.addEventListener("visibilitychange",un,!1),V=()=>{c.removePassiveListener(Pt),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",un,!1),qe&&window.clearTimeout(qe)}})}finally{V()}})).apply(this,arguments)}function Gc(g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(g){const c=zc(g),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function zc(g){if(te(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),h=new Uint8Array(c);for(let _=0;_<g.length;_++)h[_]=g.charCodeAt(_);return h}!function Gu(g){(0,Ie._registerComponent)(new Me.wA("auth",(c,{options:h})=>{const _=c.getProvider("app").getImmediate(),V=c.getProvider("heartbeat"),{apiKey:J,authDomain:Se}=_.options;return((qe,Pt)=>{Z(J&&!J.includes(":"),"invalid-api-key",{appName:qe.name}),Z(!(null==Se?void 0:Se.includes(":")),"argument-error",{appName:qe.name});const Kt={apiKey:J,authDomain:Se,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ti(g)},un=new Et(qe,Pt,Kt);return function Ve(g,c){const h=(null==c?void 0:c.persistence)||[],_=(Array.isArray(h)?h:[h]).map(fe);(null==c?void 0:c.errorMap)&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(_,null==c?void 0:c.popupRedirectResolver)}(un,h),un})(_,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,_)=>{c.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new Me.wA("auth-internal",c=>{const h=Dt(c.getProvider("auth").getImmediate());return new xf(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)($u,"0.20.2",function Kd(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,Ie.registerVersion)($u,"0.20.2","esm2017")}("Browser");class Dg extends Uc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,p.Z)(function*(){yield c.initPromise})()}}function qu(g){return Da.apply(this,arguments)}function Da(){return(Da=(0,p.Z)(function*(g){const c=yield _l()._get(aa(g));return c&&(yield _l()._remove(aa(g))),c})).apply(this,arguments)}function Jd(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const _=Math.floor(Math.random()*c.length);g.push(c.charAt(_))}return g.join("")}function _l(){return fe(bo)}function aa(g){return hr("authEvent",g.config.apiKey,g.name)}function Ei(g){if(!(null==g?void 0:g.includes("?")))return{};const[c,...h]=g.split("?");return(0,Y.zd)(h.join("?"))}function Qo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Ta(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Rf(g=(0,Y.z$)()){return!("file:"!==Ta()&&"ionic:"!==Ta()&&"capacitor:"!==Ta()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function wu(){try{const g=self.localStorage,c=le();if(g)return g.setItem(c,"1"),g.removeItem(c),!function _u(g=(0,Y.z$)()){return function wl(){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gs(g=(0,Y.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,Y.hl)()}catch(g){return Eu()&&(0,Y.hl)()}return!1}function Eu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ss(){return(function Pf(){return"http:"===Ta()||"https:"===Ta()}()||(0,Y.ru)()||Rf())&&!function Ur(){return(0,Y.b$)()||(0,Y.UG)()}()&&wu()&&!Eu()}function bu(){return Rf()&&"undefined"!=typeof document}function Yc(){return(Yc=(0,p.Z)(function*(){return!!bu()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const Ys={LOCAL:"local",NONE:"none",SESSION:"session"},El=Z,Qc="persistence";function Ja(g){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,p.Z)(function*(g){yield g._initializationPromise;const c=Ki(),h=hr(Qc,g.config.apiKey,g.name);c&&c.setItem(h,g._getPersistence())})).apply(this,arguments)}function Ki(){var g;try{return(null===(g=function nh(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(c){return null}}const Jc=Z;class Aa{constructor(){this.browserResolver=fe(class Df{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b,this._completeRedirectFn=mi,this._overrideRedirectResult=R}_openPopup(c,h,_,V){var J=this;return(0,p.Z)(function*(){var Se;te(null===(Se=J.eventManagers[c._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const qe=Fo(c,h,_,lt(),V);return function ko(g,c,h,_=500,V=600){const J=Math.max((window.screen.availHeight-V)/2,0).toString(),Se=Math.max((window.screen.availWidth-_)/2,0).toString();let qe="";const Pt=Object.assign(Object.assign({},Za),{width:_.toString(),height:V.toString(),top:J,left:Se}),Kt=(0,Y.z$)().toLowerCase();h&&(qe=fn(Kt)?"_blank":h),Ir(Kt)&&(c=c||"http://localhost",Pt.scrollbars="yes");const un=Object.entries(Pt).reduce((bi,[lo,Yu])=>`${bi}${lo}=${Yu},`,"");if(function jr(g=(0,Y.z$)()){var c;return Mr(g)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(Kt)&&"_self"!==qe)return function zd(g,c){const h=document.createElement("a");h.href=g,h.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(_)}(c||"",qe),new yu(null);const gn=window.open(c||"",qe,un);Z(gn,g,"popup-blocked");try{gn.focus()}catch(bi){}return new yu(gn)}(c,qe,le())})()}_openRedirect(c,h,_,V){var J=this;return(0,p.Z)(function*(){return yield J._originValidation(c),function mr(g){kt().location.href=g}(Fo(c,h,_,lt(),V)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:V,promise:J}=this.eventManagers[h];return V?Promise.resolve(V):(te(J,"If manager is not set, promise should be"),J)}const _=this.initAndGetManager(c);return this.eventManagers[h]={promise:_},_.catch(()=>{delete this.eventManagers[h]}),_}initAndGetManager(c){var h=this;return(0,p.Z)(function*(){const _=yield function Ka(g){return mu.apply(this,arguments)}(c),V=new Uc(c);return _.register("authEvent",J=>(Z(null==J?void 0:J.authEvent,c,"invalid-auth-event"),{status:V.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:V},h.iframes[c._key()]=_,V})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(Yl,{type:Yl},V=>{var J;const Se=null===(J=null==V?void 0:V[0])||void 0===J?void 0:J[Yl];void 0!==Se&&h(!!Se),de(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function qi(g){return Bc.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return Or()||Sr()||Mr()}}),this.cordovaResolver=fe(class Xd{constructor(){this._redirectPersistence=b,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mi,this._overrideRedirectResult=R}_initialize(c){var h=this;return(0,p.Z)(function*(){const _=c._key();let V=h.eventManagers.get(_);return V||(V=new Dg(c),h.eventManagers.set(_,V),h.attachCallbackListeners(c,V)),V})()}_openPopup(c){de(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,_,V){var J=this;return(0,p.Z)(function*(){!function is(g){var c,h,_,V,J,Se,qe,Pt,Kt,un;const gn=Ya();Z("function"==typeof(null===(c=null==gn?void 0:gn.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(void 0!==(null===(h=null==gn?void 0:gn.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(J=null===(V=null===(_=null==gn?void 0:gn.cordova)||void 0===_?void 0:_.plugins)||void 0===V?void 0:V.browsertab)||void 0===J?void 0:J.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Pt=null===(qe=null===(Se=null==gn?void 0:gn.cordova)||void 0===Se?void 0:Se.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===Pt?void 0:Pt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(un=null===(Kt=null==gn?void 0:gn.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===un?void 0:un.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Se=yield J._initialize(c);yield Se.initialized(),Se.resetRedirect(),function x(){No.clear()}(),yield J._originValidation(c);const qe=function Mf(g,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:Jd(),postBody:null,tenantId:g.tenantId,error:Pe(g,"no-auth-event")}}(c,_,V);yield function Wc(g,c){return _l()._set(aa(g),c)}(c,qe);const Pt=yield function $c(g,c,h){return Ms.apply(this,arguments)}(c,qe,h),Kt=yield function Wu(g){const{cordova:c}=Ya();return new Promise(h=>{c.plugins.browsertab.isAvailable(_=>{let V=null;_?c.plugins.browsertab.openUrl(g):V=c.InAppBrowser.open(g,function Ui(g=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(V)})})}(Pt);return function Zd(g,c,h){return Yd.apply(this,arguments)}(c,Se,Kt)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function zu(g){return yl.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:_,handleOpenURL:V,BuildInfo:J}=Ya(),Se=setTimeout((0,p.Z)(function*(){yield qu(c),h.onEvent(Qo())}),500),qe=function(){var un=(0,p.Z)(function*(gn){clearTimeout(Se);const bi=yield qu(c);let lo=null;bi&&(null==gn?void 0:gn.url)&&(lo=function Qd(g,c){var h,_;const V=function Kc(g){const c=Ei(g),h=c.link?decodeURIComponent(c.link):void 0,_=Ei(h).link,V=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Ei(V).link||V||_||h||g}(c);if(V.includes("/__/auth/callback")){const J=Ei(V),Se=J.firebaseError?function qc(g){try{return JSON.parse(g)}catch(c){return null}}(decodeURIComponent(J.firebaseError)):null,qe=null===(_=null===(h=null==Se?void 0:Se.code)||void 0===h?void 0:h.split("auth/"))||void 0===_?void 0:_[1],Pt=qe?Pe(qe):null;return Pt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:V,postBody:null}}return null}(bi,gn.url)),h.onEvent(lo||Qo())});return function(bi){return un.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,qe);const Pt=V,Kt=`${J.packageName.toLowerCase()}://`;Ya().handleOpenURL=function(){var un=(0,p.Z)(function*(gn){if(gn.toLowerCase().startsWith(Kt)&&qe({url:gn}),"function"==typeof Pt)try{Pt(gn)}catch(bi){console.error(bi)}});return function(gn){return un.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=b,this._completeRedirectFn=mi,this._overrideRedirectResult=R}_initialize(c){var h=this;return(0,p.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,_,V){var J=this;return(0,p.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(c,h,_,V)})()}_openRedirect(c,h,_,V){var J=this;return(0,p.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(c,h,_,V)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return bu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,p.Z)(function*(){if(c.underlyingResolver)return;const h=yield function Ql(){return Yc.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function Xa(g){return g.unwrap()}function Xc(g){return Ku(g)}function Ku(g){const{_tokenResponse:c}=g instanceof Y.ZR?g.customData:g;if(!c)return null;if(!(g instanceof Y.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return uo.credentialFromResult(g);const h=c.providerId;if(!h||"password"===h)return null;let _;switch(h){case"google.com":_=Ns;break;case"facebook.com":_=ji;break;case"github.com":_=Qi;break;case"twitter.com":_=eo;break;default:const{oauthIdToken:V,oauthAccessToken:J,oauthTokenSecret:Se,pendingToken:qe,nonce:Pt}=c;return J||Se||V||qe?qe?h.startsWith("saml.")?ri._create(h,qe):ye._fromParams({providerId:h,signInMethod:h,pendingToken:qe,idToken:V,accessToken:J}):new Pi(h).credential({idToken:V,accessToken:J,rawNonce:Pt}):null}return g instanceof Y.ZR?_.credentialFromError(g):_.credentialFromResult(g)}function Qs(g,c){return c.catch(h=>{throw h instanceof Y.ZR&&function bl(g,c){var h;const _=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Ff(g,function Un(g,c){var h;const _=(0,Y.m9)(g),V=c;return Z(c.customData.operationType,_,"argument-error"),Z(null===(h=V.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,_,"argument-error"),Gs._fromError(_,V)}(g,c));else if(_){const V=Ku(c),J=c;V&&(J.credential=V,J.tenantId=_.tenantId||void 0,J.email=_.email||void 0,J.phoneNumber=_.phoneNumber||void 0)}}(g,h),h}).then(h=>{const V=h.user;return{operationType:h.operationType,credential:Xc(h),additionalUserInfo:Li(h),user:la.getOrCreate(V)}})}function Xl(g,c){return ec.apply(this,arguments)}function ec(){return(ec=(0,p.Z)(function*(g,c){const h=yield c;return{verificationId:h.verificationId,confirm:_=>Qs(g,h.confirm(_))}})).apply(this,arguments)}class Ff{constructor(c,h){this.resolver=h,this.auth=function ua(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Qs(Xa(this.auth),this.resolver.resolveSignIn(c))}}class la{constructor(c){this._delegate=c,this.multiFactor=function Eo(g){const c=(0,Y.m9)(g);return Tr.has(c)||Tr.set(c,Ss._fromUser(c)),Tr.get(c)}(c)}static getOrCreate(c){return la.USER_MAP.has(c)||la.USER_MAP.set(c,new la(c)),la.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,p.Z)(function*(){return Qs(h.auth,pn(h._delegate,c))})()}linkWithPhoneNumber(c,h){var _=this;return(0,p.Z)(function*(){return Xl(_.auth,function Xr(g,c,h){return sa.apply(this,arguments)}(_._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,p.Z)(function*(){return Qs(h.auth,function pl(g,c,h){return Ks.apply(this,arguments)}(h._delegate,c,Aa))})()}linkWithRedirect(c){var h=this;return(0,p.Z)(function*(){return yield Ja(Dt(h.auth)),function yr(g,c,h){return function yn(g,c,h){return Wi.apply(this,arguments)}(g,c,h)}(h._delegate,c,Aa)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,p.Z)(function*(){return Qs(h.auth,lr(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return Xl(this.auth,function fl(g,c,h){return ps.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return Qs(this.auth,function Vu(g,c,h){return qo.apply(this,arguments)}(this._delegate,c,Aa))}reauthenticateWithRedirect(c){var h=this;return(0,p.Z)(function*(){return yield Ja(Dt(h.auth)),function Qt(g,c,h){return function nn(g,c,h){return bn.apply(this,arguments)}(g,c,h)}(h._delegate,c,Aa)})()}sendEmailVerification(c){return function Fi(g,c){return no.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,p.Z)(function*(){return yield function mo(g,c){return nr.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function ta(g,c){return _o((0,Y.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function vo(g,c){return _o((0,Y.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Ls(g,c){return Ws.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Mo(g,c){return ea.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function xo(g,c,h){return Pr.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}la.USER_MAP=new WeakMap;const Sa=Z;let tc=(()=>{class g{constructor(h,_){if(this.app=h,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=h.options;Sa(V,"invalid-api-key",{appName:h.name}),Sa(V,"invalid-api-key",{appName:h.name});const J="undefined"!=typeof window?Aa:void 0;this._delegate=_.initialize({options:{persistence:ih(V,h.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?la.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,_){!function er(g,c,h){const _=Dt(g);Z(_._canInitEmulator,_,"emulator-config-failed"),Z(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const V=!!(null==h?void 0:h.disableWarnings),J=Wr(c),{host:Se,port:qe}=function tr(g){const c=Wr(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!h)return{host:"",port:null};const _=h[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(_);if(V){const J=V[1];return{host:J,port:$r(_.substr(J.length+1))}}{const[J,Se]=_.split(":");return{host:J,port:$r(Se)}}}(c);_.config.emulator={url:`${J}//${Se}${null===qe?"":`:${qe}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Se,port:qe,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Sn(){function g(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,_)}applyActionCode(h){return function q(g,c){return he.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return ct(this._delegate,h)}confirmPasswordReset(h,_){return function M(g,c,h){return S.apply(this,arguments)}(this._delegate,h,_)}createUserWithEmailAndPassword(h,_){var V=this;return(0,p.Z)(function*(){return Qs(V._delegate,function ki(g,c,h){return li.apply(this,arguments)}(V._delegate,h,_))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function So(g,c){return Hs.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function La(g,c){const h=cs.parseLink(c);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,p.Z)(function*(){Sa(ss(),h._delegate,"operation-not-supported-in-this-environment");const _=yield function zn(g,c){return Zo.apply(this,arguments)}(h._delegate,Aa);return _?Qs(h._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function th(g,c){Dt(g)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,_,V){const{next:J,error:Se,complete:qe}=rh(h,_,V);return this._delegate.onAuthStateChanged(J,Se,qe)}onIdTokenChanged(h,_,V){const{next:J,error:Se,complete:qe}=rh(h,_,V);return this._delegate.onIdTokenChanged(J,Se,qe)}sendSignInLinkToEmail(h,_){return function yo(g,c,h){return Fa.apply(this,arguments)}(this._delegate,h,_)}sendPasswordResetEmail(h,_){return function to(g,c,h){return N.apply(this,arguments)}(this._delegate,h,_||void 0)}setPersistence(h){var _=this;return(0,p.Z)(function*(){let V;switch(function Nf(g,c){El(Object.values(Ys).includes(c),g,"invalid-persistence-type"),(0,Y.b$)()?El(c!==Ys.SESSION,g,"unsupported-persistence-type"):(0,Y.UG)()?El(c===Ys.NONE,g,"unsupported-persistence-type"):Eu()?El(c===Ys.NONE||c===Ys.LOCAL&&(0,Y.hl)(),g,"unsupported-persistence-type"):El(c===Ys.NONE||wu(),g,"unsupported-persistence-type")}(_._delegate,h),h){case Ys.SESSION:V=b;break;case Ys.LOCAL:V=(yield fe(Xt)._isAvailable())?Xt:bo;break;case Ys.NONE:V=Jt;break;default:return de("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Qs(this._delegate,function bs(g){return Is.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Qs(this._delegate,mn(this._delegate,h))}signInWithCustomToken(h){return Qs(this._delegate,function wi(g,c){return cn.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,_){return Qs(this._delegate,function fs(g,c,h){return mn((0,Y.m9)(g),ws.credential(c,h))}(this._delegate,h,_))}signInWithEmailLink(h,_){return Qs(this._delegate,function ku(g,c,h){return Cs.apply(this,arguments)}(this._delegate,h,_))}signInWithPhoneNumber(h,_){return Xl(this._delegate,function zi(g,c,h){return ao.apply(this,arguments)}(this._delegate,h,_))}signInWithPopup(h){var _=this;return(0,p.Z)(function*(){return Sa(ss(),_._delegate,"operation-not-supported-in-this-environment"),Qs(_._delegate,function Vc(g,c,h){return Vs.apply(this,arguments)}(_._delegate,h,Aa))})()}signInWithRedirect(h){var _=this;return(0,p.Z)(function*(){return Sa(ss(),_._delegate,"operation-not-supported-in-this-environment"),yield Ja(_._delegate),function Fe(g,c,h){return function Ge(g,c,h){return gt.apply(this,arguments)}(g,c,h)}(_._delegate,h,Aa)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function Rn(g,c){return ui.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Ys,g})();function rh(g,c,h){let _=g;"function"!=typeof g&&({next:_,error:c,complete:h}=g);const V=_;return{next:Se=>V(Se&&la.getOrCreate(Se)),error:c,complete:h}}function ih(g,c){const h=function kf(g,c){const h=Ki();if(!h)return[];const _=hr(Qc,g,c);switch(h.getItem(_)){case Ys.NONE:return[Jt];case Ys.LOCAL:return[Xt,b];case Ys.SESSION:return[b];default:return[]}}(g,c);if("undefined"!=typeof self&&!h.includes(Xt)&&h.push(Xt),"undefined"!=typeof window)for(const _ of[bo,b])h.includes(_)||h.push(_);return h.includes(Jt)||h.push(Jt),h}class nc{constructor(){this.providerId="phone",this._delegate=new uo(Xa(k.Z.auth()))}static credential(c,h){return uo.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}nc.PHONE_SIGN_IN_METHOD=uo.PHONE_SIGN_IN_METHOD,nc.PROVIDER_ID=uo.PROVIDER_ID;const sh=Z;class Lf{constructor(c,h,_=k.Z.app()){var V;sh(null===(V=_.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new du(c,h,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zu(g){g.INTERNAL.registerComponent(new Me.wA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),_=c.getProvider("auth");return new tc(h,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ws,FacebookAuthProvider:ji,GithubAuthProvider:Qi,GoogleAuthProvider:Ns,OAuthProvider:Pi,SAMLAuthProvider:Gr,PhoneAuthProvider:nc,PhoneMultiFactorGenerator:Sf,RecaptchaVerifier:Lf,TwitterAuthProvider:eo,Auth:tc,AuthCredential:qr,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.15")}(k.Z)},8306:(bt,Le,L)=>{"use strict";L.d(Le,{y:()=>ue});var p=L(2961),k=L(727),Y=L(8822),Ie=L(4671);var Me=L(2416),Te=L(576),ke=L(2806);let ue=(()=>{class je{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const $e=new je;return $e.source=this,$e.operator=pt,$e}subscribe(pt,$e,Je){const vt=function rt(je){return je&&je instanceof p.Lv||function ge(je){return je&&(0,Te.m)(je.next)&&(0,Te.m)(je.error)&&(0,Te.m)(je.complete)}(je)&&(0,k.Nn)(je)}(pt)?pt:new p.Hp(pt,$e,Je);return(0,ke.x)(()=>{const{operator:Ct,source:de}=this;vt.add(Ct?Ct.call(vt,de):de?this._subscribe(vt):this._trySubscribe(vt))}),vt}_trySubscribe(pt){try{return this._subscribe(pt)}catch($e){pt.error($e)}}forEach(pt,$e){return new($e=ne($e))((Je,vt)=>{const Ct=new p.Hp({next:de=>{try{pt(de)}catch(Pe){vt(Pe),Ct.unsubscribe()}},error:vt,complete:Je});this.subscribe(Ct)})}_subscribe(pt){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(pt)}[Y.L](){return this}pipe(...pt){return function ve(je){return 0===je.length?Ie.y:1===je.length?je[0]:function(pt){return je.reduce(($e,Je)=>Je($e),pt)}}(pt)(this)}toPromise(pt){return new(pt=ne(pt))(($e,Je)=>{let vt;this.subscribe(Ct=>vt=Ct,Ct=>Je(Ct),()=>$e(vt))})}}return je.create=Qe=>new je(Qe),je})();function ne(je){var Qe;return null!==(Qe=null!=je?je:Me.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(bt,Le,L)=>{"use strict";L.d(Le,{x:()=>Me});var p=L(8306),k=L(727);const Ie=(0,L(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=L(8737),ve=L(2806);let Me=(()=>{class ke extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ge=new Te(this,this);return ge.operator=ne,ge}_throwIfClosed(){if(this.closed)throw new Ie}next(ne){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ne)}})}error(ne){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ne)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ge,isStopped:rt,observers:je}=this;return ge||rt?k.Lc:(this.currentObservers=null,je.push(ne),new k.w0(()=>{this.currentObservers=null,(0,we.P)(je,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ge,thrownError:rt,isStopped:je}=this;ge?ne.error(rt):je&&ne.complete()}asObservable(){const ne=new p.y;return ne.source=this,ne}}return ke.create=(ue,ne)=>new Te(ue,ne),ke})();class Te extends Me{constructor(ue,ne){super(),this.destination=ue,this.source=ne}next(ue){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ge||ge.call(ne,ue)}error(ue){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ge||ge.call(ne,ue)}complete(){var ue,ne;null===(ne=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===ne||ne.call(ue)}_subscribe(ue){var ne,ge;return null!==(ge=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ue))&&void 0!==ge?ge:k.Lc}}},2961:(bt,Le,L)=>{"use strict";L.d(Le,{Hp:()=>pt,Lv:()=>ge});var p=L(576),k=L(727),Y=L(2416),Ie=L(7849);function we(){}const ve=ke("C",void 0,void 0);function ke(de,Pe,Ye){return{kind:de,value:Pe,error:Ye}}var ue=L(3410),ne=L(2806);class ge extends k.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,k.Nn)(Pe)&&Pe.add(this)):this.destination=Ct}static create(Pe,Ye,at){return new pt(Pe,Ye,at)}next(Pe){this.isStopped?vt(function Te(de){return ke("N",de,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?vt(function Me(de){return ke("E",void 0,de)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?vt(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function je(de,Pe){return rt.call(de,Pe)}class Qe{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Pe)}catch(at){$e(at)}}error(Pe){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Pe)}catch(at){$e(at)}else $e(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ye){$e(Ye)}}}class pt extends ge{constructor(Pe,Ye,at){let Xe;if(super(),(0,p.m)(Pe)||!Pe)Xe={next:null!=Pe?Pe:void 0,error:null!=Ye?Ye:void 0,complete:null!=at?at:void 0};else{let Z;this&&Y.v.useDeprecatedNextContext?(Z=Object.create(Pe),Z.unsubscribe=()=>this.unsubscribe(),Xe={next:Pe.next&&je(Pe.next,Z),error:Pe.error&&je(Pe.error,Z),complete:Pe.complete&&je(Pe.complete,Z)}):Xe=Pe}this.destination=new Qe(Xe)}}function $e(de){Y.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(de):(0,Ie.h)(de)}function vt(de,Pe){const{onStoppedNotification:Ye}=Y.v;Ye&&ue.z.setTimeout(()=>Ye(de,Pe))}const Ct={closed:!0,next:we,error:function Je(de){throw de},complete:we}},727:(bt,Le,L)=>{"use strict";L.d(Le,{Lc:()=>ve,w0:()=>we,Nn:()=>Me});var p=L(576);const Y=(0,L(3888).d)(ke=>function(ne){ke(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ge,rt)=>`${rt+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var Ie=L(8737);class we{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const je of ne)je.remove(this);else ne.remove(this);const{initialTeardown:ge}=this;if((0,p.m)(ge))try{ge()}catch(je){ue=je instanceof Y?je.errors:[je]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const je of rt)try{Te(je)}catch(Qe){ue=null!=ue?ue:[],Qe instanceof Y?ue=[...ue,...Qe.errors]:ue.push(Qe)}}if(ue)throw new Y(ue)}}add(ue){var ne;if(ue&&ue!==this)if(this.closed)Te(ue);else{if(ue instanceof we){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ue)}}_hasParent(ue){const{_parentage:ne}=this;return ne===ue||Array.isArray(ne)&&ne.includes(ue)}_addParent(ue){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ue),ne):ne?[ne,ue]:ue}_removeParent(ue){const{_parentage:ne}=this;ne===ue?this._parentage=null:Array.isArray(ne)&&(0,Ie.P)(ne,ue)}remove(ue){const{_finalizers:ne}=this;ne&&(0,Ie.P)(ne,ue),ue instanceof we&&ue._removeParent(this)}}we.EMPTY=(()=>{const ke=new we;return ke.closed=!0,ke})();const ve=we.EMPTY;function Me(ke){return ke instanceof we||ke&&"closed"in ke&&(0,p.m)(ke.remove)&&(0,p.m)(ke.add)&&(0,p.m)(ke.unsubscribe)}function Te(ke){(0,p.m)(ke)?ke():ke.unsubscribe()}},2416:(bt,Le,L)=>{"use strict";L.d(Le,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(bt,Le,L)=>{"use strict";L.d(Le,{z:()=>we});var p=L(8189),Y=L(7669),Ie=L(8996);function we(...ve){return function k(){return(0,p.J)(1)}()((0,Ie.D)(ve,(0,Y.yG)(ve)))}},515:(bt,Le,L)=>{"use strict";L.d(Le,{E:()=>k});const k=new(L(8306).y)(we=>we.complete())},8996:(bt,Le,L)=>{"use strict";L.d(Le,{D:()=>Pe});var p=L(8421),k=L(5363),Y=L(9468),ve=L(8306),Te=L(2202),ke=L(576),ue=L(9672);function ge(Ye,at){if(!Ye)throw new Error("Iterable cannot be null");return new ve.y(Xe=>{(0,ue.f)(Xe,at,()=>{const Z=Ye[Symbol.asyncIterator]();(0,ue.f)(Xe,at,()=>{Z.next().then(He=>{He.done?Xe.complete():Xe.next(He.value)})},0,!0)})})}var rt=L(3670),je=L(8239),Qe=L(1144),pt=L(6495),$e=L(2206),Je=L(4532),vt=L(3260);function Pe(Ye,at){return at?function de(Ye,at){if(null!=Ye){if((0,rt.c)(Ye))return function Ie(Ye,at){return(0,p.Xf)(Ye).pipe((0,Y.R)(at),(0,k.Q)(at))}(Ye,at);if((0,Qe.z)(Ye))return function Me(Ye,at){return new ve.y(Xe=>{let Z=0;return at.schedule(function(){Z===Ye.length?Xe.complete():(Xe.next(Ye[Z++]),Xe.closed||this.schedule())})})}(Ye,at);if((0,je.t)(Ye))return function we(Ye,at){return(0,p.Xf)(Ye).pipe((0,Y.R)(at),(0,k.Q)(at))}(Ye,at);if((0,$e.D)(Ye))return ge(Ye,at);if((0,pt.T)(Ye))return function ne(Ye,at){return new ve.y(Xe=>{let Z;return(0,ue.f)(Xe,at,()=>{Z=Ye[Te.h](),(0,ue.f)(Xe,at,()=>{let He,te;try{({value:He,done:te}=Z.next())}catch(xe){return void Xe.error(xe)}te?Xe.complete():Xe.next(He)},0,!0)}),()=>(0,ke.m)(null==Z?void 0:Z.return)&&Z.return()})}(Ye,at);if((0,vt.L)(Ye))return function Ct(Ye,at){return ge((0,vt.Q)(Ye),at)}(Ye,at)}throw(0,Je.z)(Ye)}(Ye,at):(0,p.Xf)(Ye)}},8421:(bt,Le,L)=>{"use strict";L.d(Le,{Xf:()=>rt});var p=L(655),k=L(1144),Y=L(8239),Ie=L(8306),we=L(3670),ve=L(2206),Me=L(4532),Te=L(6495),ke=L(3260),ue=L(576),ne=L(7849),ge=L(8822);function rt(de){if(de instanceof Ie.y)return de;if(null!=de){if((0,we.c)(de))return function je(de){return new Ie.y(Pe=>{const Ye=de[ge.L]();if((0,ue.m)(Ye.subscribe))return Ye.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,k.z)(de))return function Qe(de){return new Ie.y(Pe=>{for(let Ye=0;Ye<de.length&&!Pe.closed;Ye++)Pe.next(de[Ye]);Pe.complete()})}(de);if((0,Y.t)(de))return function pt(de){return new Ie.y(Pe=>{de.then(Ye=>{Pe.closed||(Pe.next(Ye),Pe.complete())},Ye=>Pe.error(Ye)).then(null,ne.h)})}(de);if((0,ve.D)(de))return Je(de);if((0,Te.T)(de))return function $e(de){return new Ie.y(Pe=>{for(const Ye of de)if(Pe.next(Ye),Pe.closed)return;Pe.complete()})}(de);if((0,ke.L)(de))return function vt(de){return Je((0,ke.Q)(de))}(de)}throw(0,Me.z)(de)}function Je(de){return new Ie.y(Pe=>{(function Ct(de,Pe){var Ye,at,Xe,Z;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,p.KL)(de);!(at=yield Ye.next()).done;)if(Pe.next(at.value),Pe.closed)return}catch(He){Xe={error:He}}finally{try{at&&!at.done&&(Z=Ye.return)&&(yield Z.call(Ye))}finally{if(Xe)throw Xe.error}}Pe.complete()})})(de,Pe).catch(Ye=>Pe.error(Ye))})}},6451:(bt,Le,L)=>{"use strict";L.d(Le,{T:()=>ve});var p=L(8189),k=L(8421),Y=L(515),Ie=L(7669),we=L(8996);function ve(...Me){const Te=(0,Ie.yG)(Me),ke=(0,Ie._6)(Me,1/0),ue=Me;return ue.length?1===ue.length?(0,k.Xf)(ue[0]):(0,p.J)(ke)((0,we.D)(ue,Te)):Y.E}},9646:(bt,Le,L)=>{"use strict";L.d(Le,{of:()=>Y});var p=L(7669),k=L(8996);function Y(...Ie){const we=(0,p.yG)(Ie);return(0,k.D)(Ie,we)}},2843:(bt,Le,L)=>{"use strict";L.d(Le,{_:()=>Y});var p=L(8306),k=L(576);function Y(Ie,we){const ve=(0,k.m)(Ie)?Ie:()=>Ie,Me=Te=>Te.error(ve());return new p.y(we?Te=>we.schedule(Me,0,Te):Me)}},5403:(bt,Le,L)=>{"use strict";L.d(Le,{x:()=>k});var p=L(2961);function k(Ie,we,ve,Me,Te){return new Y(Ie,we,ve,Me,Te)}class Y extends p.Lv{constructor(we,ve,Me,Te,ke,ue){super(we),this.onFinalize=ke,this.shouldUnsubscribe=ue,this._next=ve?function(ne){try{ve(ne)}catch(ge){we.error(ge)}}:super._next,this._error=Te?function(ne){try{Te(ne)}catch(ge){we.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(ne){we.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},6590:(bt,Le,L)=>{"use strict";L.d(Le,{d:()=>Y});var p=L(4482),k=L(5403);function Y(Ie){return(0,p.e)((we,ve)=>{let Me=!1;we.subscribe((0,k.x)(ve,Te=>{Me=!0,ve.next(Te)},()=>{Me||ve.next(Ie),ve.complete()}))})}},9300:(bt,Le,L)=>{"use strict";L.d(Le,{h:()=>Y});var p=L(4482),k=L(5403);function Y(Ie,we){return(0,p.e)((ve,Me)=>{let Te=0;ve.subscribe((0,k.x)(Me,ke=>Ie.call(we,ke,Te++)&&Me.next(ke)))})}},590:(bt,Le,L)=>{"use strict";L.d(Le,{P:()=>Me});var p=L(6805),k=L(9300),Y=L(5698),Ie=L(6590),we=L(8068),ve=L(4671);function Me(Te,ke){const ue=arguments.length>=2;return ne=>ne.pipe(Te?(0,k.h)((ge,rt)=>Te(ge,rt,ne)):ve.y,(0,Y.q)(1),ue?(0,Ie.d)(ke):(0,we.T)(()=>new p.K))}},4004:(bt,Le,L)=>{"use strict";L.d(Le,{U:()=>Y});var p=L(4482),k=L(5403);function Y(Ie,we){return(0,p.e)((ve,Me)=>{let Te=0;ve.subscribe((0,k.x)(Me,ke=>{Me.next(Ie.call(we,ke,Te++))}))})}},8189:(bt,Le,L)=>{"use strict";L.d(Le,{J:()=>Y});var p=L(5577),k=L(4671);function Y(Ie=1/0){return(0,p.z)(k.y,Ie)}},5577:(bt,Le,L)=>{"use strict";L.d(Le,{z:()=>Te});var p=L(4004),k=L(8421),Y=L(4482),Ie=L(9672),we=L(5403),Me=L(576);function Te(ke,ue,ne=1/0){return(0,Me.m)(ue)?Te((ge,rt)=>(0,p.U)((je,Qe)=>ue(ge,je,rt,Qe))((0,k.Xf)(ke(ge,rt))),ne):("number"==typeof ue&&(ne=ue),(0,Y.e)((ge,rt)=>function ve(ke,ue,ne,ge,rt,je,Qe,pt){const $e=[];let Je=0,vt=0,Ct=!1;const de=()=>{Ct&&!$e.length&&!Je&&ue.complete()},Pe=at=>Je<ge?Ye(at):$e.push(at),Ye=at=>{je&&ue.next(at),Je++;let Xe=!1;(0,k.Xf)(ne(at,vt++)).subscribe((0,we.x)(ue,Z=>{null==rt||rt(Z),je?Pe(Z):ue.next(Z)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Je--;$e.length&&Je<ge;){const Z=$e.shift();Qe?(0,Ie.f)(ue,Qe,()=>Ye(Z)):Ye(Z)}de()}catch(Z){ue.error(Z)}}))};return ke.subscribe((0,we.x)(ue,Pe,()=>{Ct=!0,de()})),()=>{null==pt||pt()}}(ge,rt,ke,ne)))}},5363:(bt,Le,L)=>{"use strict";L.d(Le,{Q:()=>Ie});var p=L(9672),k=L(4482),Y=L(5403);function Ie(we,ve=0){return(0,k.e)((Me,Te)=>{Me.subscribe((0,Y.x)(Te,ke=>(0,p.f)(Te,we,()=>Te.next(ke),ve),()=>(0,p.f)(Te,we,()=>Te.complete(),ve),ke=>(0,p.f)(Te,we,()=>Te.error(ke),ve)))})}},5026:(bt,Le,L)=>{"use strict";L.d(Le,{R:()=>Ie});var p=L(4482),k=L(5403);function Y(we,ve,Me,Te,ke){return(ue,ne)=>{let ge=Me,rt=ve,je=0;ue.subscribe((0,k.x)(ne,Qe=>{const pt=je++;rt=ge?we(rt,Qe,pt):(ge=!0,Qe),Te&&ne.next(rt)},ke&&(()=>{ge&&ne.next(rt),ne.complete()})))}}function Ie(we,ve){return(0,p.e)(Y(we,ve,arguments.length>=2,!0))}},3099:(bt,Le,L)=>{"use strict";L.d(Le,{B:()=>ve});var p=L(8996),k=L(5698),Y=L(7579),Ie=L(2961),we=L(4482);function ve(Te={}){const{connector:ke=(()=>new Y.x),resetOnError:ue=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ge=!0}=Te;return rt=>{let je=null,Qe=null,pt=null,$e=0,Je=!1,vt=!1;const Ct=()=>{null==Qe||Qe.unsubscribe(),Qe=null},de=()=>{Ct(),je=pt=null,Je=vt=!1},Pe=()=>{const Ye=je;de(),null==Ye||Ye.unsubscribe()};return(0,we.e)((Ye,at)=>{$e++,!vt&&!Je&&Ct();const Xe=pt=null!=pt?pt:ke();at.add(()=>{$e--,0===$e&&!vt&&!Je&&(Qe=Me(Pe,ge))}),Xe.subscribe(at),je||(je=new Ie.Hp({next:Z=>Xe.next(Z),error:Z=>{vt=!0,Ct(),Qe=Me(de,ue,Z),Xe.error(Z)},complete:()=>{Je=!0,Ct(),Qe=Me(de,ne),Xe.complete()}}),(0,p.D)(Ye).subscribe(je))})(rt)}}function Me(Te,ke,...ue){return!0===ke?(Te(),null):!1===ke?null:ke(...ue).pipe((0,k.q)(1)).subscribe(()=>Te())}},8675:(bt,Le,L)=>{"use strict";L.d(Le,{O:()=>Ie});var p=L(7272),k=L(7669),Y=L(4482);function Ie(...we){const ve=(0,k.yG)(we);return(0,Y.e)((Me,Te)=>{(ve?(0,p.z)(we,Me,ve):(0,p.z)(we,Me)).subscribe(Te)})}},9468:(bt,Le,L)=>{"use strict";L.d(Le,{R:()=>k});var p=L(4482);function k(Y,Ie=0){return(0,p.e)((we,ve)=>{ve.add(Y.schedule(()=>we.subscribe(ve),Ie))})}},3900:(bt,Le,L)=>{"use strict";L.d(Le,{w:()=>Ie});var p=L(8421),k=L(4482),Y=L(5403);function Ie(we,ve){return(0,k.e)((Me,Te)=>{let ke=null,ue=0,ne=!1;const ge=()=>ne&&!ke&&Te.complete();Me.subscribe((0,Y.x)(Te,rt=>{null==ke||ke.unsubscribe();let je=0;const Qe=ue++;(0,p.Xf)(we(rt,Qe)).subscribe(ke=(0,Y.x)(Te,pt=>Te.next(ve?ve(rt,pt,Qe,je++):pt),()=>{ke=null,ge()}))},()=>{ne=!0,ge()}))})}},5698:(bt,Le,L)=>{"use strict";L.d(Le,{q:()=>Ie});var p=L(515),k=L(4482),Y=L(5403);function Ie(we){return we<=0?()=>p.E:(0,k.e)((ve,Me)=>{let Te=0;ve.subscribe((0,Y.x)(Me,ke=>{++Te<=we&&(Me.next(ke),we<=Te&&Me.complete())}))})}},8505:(bt,Le,L)=>{"use strict";L.d(Le,{b:()=>we});var p=L(576),k=L(4482),Y=L(5403),Ie=L(4671);function we(ve,Me,Te){const ke=(0,p.m)(ve)||Me||Te?{next:ve,error:Me,complete:Te}:ve;return ke?(0,k.e)((ue,ne)=>{var ge;null===(ge=ke.subscribe)||void 0===ge||ge.call(ke);let rt=!0;ue.subscribe((0,Y.x)(ne,je=>{var Qe;null===(Qe=ke.next)||void 0===Qe||Qe.call(ke,je),ne.next(je)},()=>{var je;rt=!1,null===(je=ke.complete)||void 0===je||je.call(ke),ne.complete()},je=>{var Qe;rt=!1,null===(Qe=ke.error)||void 0===Qe||Qe.call(ke,je),ne.error(je)},()=>{var je,Qe;rt&&(null===(je=ke.unsubscribe)||void 0===je||je.call(ke)),null===(Qe=ke.finalize)||void 0===Qe||Qe.call(ke)}))}):Ie.y}},8068:(bt,Le,L)=>{"use strict";L.d(Le,{T:()=>Ie});var p=L(6805),k=L(4482),Y=L(5403);function Ie(ve=we){return(0,k.e)((Me,Te)=>{let ke=!1;Me.subscribe((0,Y.x)(Te,ue=>{ke=!0,Te.next(ue)},()=>ke?Te.complete():Te.error(ve())))})}function we(){return new p.K}},4408:(bt,Le,L)=>{"use strict";L.d(Le,{o:()=>we});var p=L(727);class k extends p.w0{constructor(Me,Te){super()}schedule(Me,Te=0){return this}}const Y={setInterval(ve,Me,...Te){const{delegate:ke}=Y;return(null==ke?void 0:ke.setInterval)?ke.setInterval(ve,Me,...Te):setInterval(ve,Me,...Te)},clearInterval(ve){const{delegate:Me}=Y;return((null==Me?void 0:Me.clearInterval)||clearInterval)(ve)},delegate:void 0};var Ie=L(8737);class we extends k{constructor(Me,Te){super(Me,Te),this.scheduler=Me,this.work=Te,this.pending=!1}schedule(Me,Te=0){if(this.closed)return this;this.state=Me;const ke=this.id,ue=this.scheduler;return null!=ke&&(this.id=this.recycleAsyncId(ue,ke,Te)),this.pending=!0,this.delay=Te,this.id=this.id||this.requestAsyncId(ue,this.id,Te),this}requestAsyncId(Me,Te,ke=0){return Y.setInterval(Me.flush.bind(Me,this),ke)}recycleAsyncId(Me,Te,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Te;Y.clearInterval(Te)}execute(Me,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Me,Te);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,Te){let ue,ke=!1;try{this.work(Me)}catch(ne){ke=!0,ue=ne||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:Me,scheduler:Te}=this,{actions:ke}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(ke,this),null!=Me&&(this.id=this.recycleAsyncId(Te,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,Le,L)=>{"use strict";L.d(Le,{v:()=>Y});var p=L(6063);class k{constructor(we,ve=k.now){this.schedulerActionCtor=we,this.now=ve}schedule(we,ve=0,Me){return new this.schedulerActionCtor(this,we).schedule(Me,ve)}}k.now=p.l.now;class Y extends k{constructor(we,ve=k.now){super(we,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:ve}=this;if(this._active)return void ve.push(we);let Me;this._active=!0;do{if(Me=we.execute(we.state,we.delay))break}while(we=ve.shift());if(this._active=!1,Me){for(;we=ve.shift();)we.unsubscribe();throw Me}}}},4986:(bt,Le,L)=>{"use strict";L.d(Le,{z:()=>Y});var p=L(4408);const Y=new(L(7565).v)(p.o)},6063:(bt,Le,L)=>{"use strict";L.d(Le,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(bt,Le,L)=>{"use strict";L.d(Le,{z:()=>p});const p={setTimeout(k,Y,...Ie){const{delegate:we}=p;return(null==we?void 0:we.setTimeout)?we.setTimeout(k,Y,...Ie):setTimeout(k,Y,...Ie)},clearTimeout(k){const{delegate:Y}=p;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(k)},delegate:void 0}},2202:(bt,Le,L)=>{"use strict";L.d(Le,{h:()=>k});const k=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Le,L)=>{"use strict";L.d(Le,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(bt,Le,L)=>{"use strict";L.d(Le,{K:()=>k});const k=(0,L(3888).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(bt,Le,L)=>{"use strict";L.d(Le,{_6:()=>ve,jO:()=>Ie,yG:()=>we});var p=L(576);function Y(Me){return Me[Me.length-1]}function Ie(Me){return(0,p.m)(Y(Me))?Me.pop():void 0}function we(Me){return function k(Me){return Me&&(0,p.m)(Me.schedule)}(Y(Me))?Me.pop():void 0}function ve(Me,Te){return"number"==typeof Y(Me)?Me.pop():Te}},4742:(bt,Le,L)=>{"use strict";L.d(Le,{D:()=>we});const{isArray:p}=Array,{getPrototypeOf:k,prototype:Y,keys:Ie}=Object;function we(Me){if(1===Me.length){const Te=Me[0];if(p(Te))return{args:Te,keys:null};if(function ve(Me){return Me&&"object"==typeof Me&&k(Me)===Y}(Te)){const ke=Ie(Te);return{args:ke.map(ue=>Te[ue]),keys:ke}}}return{args:Me,keys:null}}},8737:(bt,Le,L)=>{"use strict";function p(k,Y){if(k){const Ie=k.indexOf(Y);0<=Ie&&k.splice(Ie,1)}}L.d(Le,{P:()=>p})},3888:(bt,Le,L)=>{"use strict";function p(k){const Ie=k(we=>{Error.call(we),we.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}L.d(Le,{d:()=>p})},1810:(bt,Le,L)=>{"use strict";function p(k,Y){return k.reduce((Ie,we,ve)=>(Ie[we]=Y[ve],Ie),{})}L.d(Le,{n:()=>p})},2806:(bt,Le,L)=>{"use strict";L.d(Le,{O:()=>Ie,x:()=>Y});var p=L(2416);let k=null;function Y(we){if(p.v.useDeprecatedSynchronousErrorHandling){const ve=!k;if(ve&&(k={errorThrown:!1,error:null}),we(),ve){const{errorThrown:Me,error:Te}=k;if(k=null,Me)throw Te}}else we()}function Ie(we){p.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=we)}},9672:(bt,Le,L)=>{"use strict";function p(k,Y,Ie,we=0,ve=!1){const Me=Y.schedule(function(){Ie(),ve?k.add(this.schedule(null,we)):this.unsubscribe()},we);if(k.add(Me),!ve)return Me}L.d(Le,{f:()=>p})},4671:(bt,Le,L)=>{"use strict";function p(k){return k}L.d(Le,{y:()=>p})},1144:(bt,Le,L)=>{"use strict";L.d(Le,{z:()=>p});const p=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(bt,Le,L)=>{"use strict";L.d(Le,{D:()=>k});var p=L(576);function k(Y){return Symbol.asyncIterator&&(0,p.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},576:(bt,Le,L)=>{"use strict";function p(k){return"function"==typeof k}L.d(Le,{m:()=>p})},3670:(bt,Le,L)=>{"use strict";L.d(Le,{c:()=>Y});var p=L(8822),k=L(576);function Y(Ie){return(0,k.m)(Ie[p.L])}},6495:(bt,Le,L)=>{"use strict";L.d(Le,{T:()=>Y});var p=L(2202),k=L(576);function Y(Ie){return(0,k.m)(null==Ie?void 0:Ie[p.h])}},8239:(bt,Le,L)=>{"use strict";L.d(Le,{t:()=>k});var p=L(576);function k(Y){return(0,p.m)(null==Y?void 0:Y.then)}},3260:(bt,Le,L)=>{"use strict";L.d(Le,{L:()=>Ie,Q:()=>Y});var p=L(655),k=L(576);function Y(we){return(0,p.FC)(this,arguments,function*(){const Me=we.getReader();try{for(;;){const{value:Te,done:ke}=yield(0,p.qq)(Me.read());if(ke)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Te)}}finally{Me.releaseLock()}})}function Ie(we){return(0,k.m)(null==we?void 0:we.getReader)}},4482:(bt,Le,L)=>{"use strict";L.d(Le,{A:()=>k,e:()=>Y});var p=L(576);function k(Ie){return(0,p.m)(null==Ie?void 0:Ie.lift)}function Y(Ie){return we=>{if(k(we))return we.lift(function(ve){try{return Ie(ve,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bt,Le,L)=>{"use strict";L.d(Le,{Z:()=>Ie});var p=L(4004);const{isArray:k}=Array;function Ie(we){return(0,p.U)(ve=>function Y(we,ve){return k(ve)?we(...ve):we(ve)}(we,ve))}},7849:(bt,Le,L)=>{"use strict";L.d(Le,{h:()=>Y});var p=L(2416),k=L(3410);function Y(Ie){k.z.setTimeout(()=>{const{onUnhandledError:we}=p.v;if(!we)throw Ie;we(Ie)})}},4532:(bt,Le,L)=>{"use strict";function p(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Le,{z:()=>p})},5226:function(bt){bt.exports=function(){"use strict";const Le="SweetAlert2:",p=b=>b.charAt(0).toUpperCase()+b.slice(1),k=b=>Array.prototype.slice.call(b),Y=b=>{console.warn("".concat(Le," ").concat("object"==typeof b?b.join(" "):b))},Ie=b=>{console.error("".concat(Le," ").concat(b))},we=[],Me=(b,C)=>{(b=>{we.includes(b)||(we.push(b),Y(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},Te=b=>"function"==typeof b?b():b,ke=b=>b&&"function"==typeof b.toPromise,ue=b=>ke(b)?b.toPromise():Promise.resolve(b),ne=b=>b&&Promise.resolve(b)===b,rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},je=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Qe={},pt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$e=b=>Object.prototype.hasOwnProperty.call(rt,b),Je=b=>-1!==je.indexOf(b),vt=b=>Qe[b],Ct=b=>{$e(b)||Y('Unknown parameter "'.concat(b,'"'))},de=b=>{pt.includes(b)&&Y('The parameter "'.concat(b,'" is incompatible with toasts'))},Pe=b=>{vt(b)&&Me(b,vt(b))},Xe=b=>{const C={};for(const H in b)C[b[H]]="swal2-"+b[H];return C},Z=Xe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),He=Xe(["success","warning","info","question","error"]),te=()=>document.body.querySelector(".".concat(Z.container)),xe=b=>{const C=te();return C?C.querySelector(b):null},fe=b=>xe(".".concat(b)),Re=()=>fe(Z.popup),Ve=()=>fe(Z.icon),lt=()=>fe(Z.title),_t=()=>fe(Z["html-container"]),Vt=()=>fe(Z.image),Ut=()=>fe(Z["progress-steps"]),nt=()=>fe(Z["validation-message"]),Ht=()=>xe(".".concat(Z.actions," .").concat(Z.confirm)),Lt=()=>xe(".".concat(Z.actions," .").concat(Z.deny)),Tt=()=>xe(".".concat(Z.loader)),rn=()=>xe(".".concat(Z.actions," .").concat(Z.cancel)),en=()=>fe(Z.actions),dn=()=>fe(Z.footer),Fn=()=>fe(Z["timer-progress-bar"]),Pn=()=>fe(Z.close),Ln=()=>{const b=k(Re().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((H,le)=>{const st=parseInt(H.getAttribute("tabindex")),kt=parseInt(le.getAttribute("tabindex"));return st>kt?1:st<kt?-1:0}),C=k(Re().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(H=>"-1"!==H.getAttribute("tabindex"));return(b=>{const C=[];for(let H=0;H<b.length;H++)-1===C.indexOf(b[H])&&C.push(b[H]);return C})(b.concat(C)).filter(H=>hn(H))},Jn=()=>qt(document.body,Z.shown)&&!qt(document.body,Z["toast-shown"])&&!qt(document.body,Z["no-backdrop"]),Xn=()=>Re()&&qt(Re(),Z.toast),Tn={previousBodyPadding:null},Nt=(b,C)=>{if(b.textContent="",C){const le=(new DOMParser).parseFromString(C,"text/html");k(le.querySelector("head").childNodes).forEach(st=>{b.appendChild(st)}),k(le.querySelector("body").childNodes).forEach(st=>{b.appendChild(st)})}},qt=(b,C)=>{if(!C)return!1;const H=C.split(/\s+/);for(let le=0;le<H.length;le++)if(!b.classList.contains(H[le]))return!1;return!0},zt=(b,C,H)=>{if(((b,C)=>{k(b.classList).forEach(H=>{!Object.values(Z).includes(H)&&!Object.values(He).includes(H)&&!Object.values(C.showClass).includes(H)&&b.classList.remove(H)})})(b,C),C.customClass&&C.customClass[H]){if("string"!=typeof C.customClass[H]&&!C.customClass[H].forEach)return Y("Invalid type of customClass.".concat(H,'! Expected string or iterable object, got "').concat(typeof C.customClass[H],'"'));tn(b,C.customClass[H])}},Br=(b,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return b.querySelector(".".concat(Z.popup," > .").concat(Z[C]));case"checkbox":return b.querySelector(".".concat(Z.popup," > .").concat(Z.checkbox," input"));case"radio":return b.querySelector(".".concat(Z.popup," > .").concat(Z.radio," input:checked"))||b.querySelector(".".concat(Z.popup," > .").concat(Z.radio," input:first-child"));case"range":return b.querySelector(".".concat(Z.popup," > .").concat(Z.range," input"));default:return b.querySelector(".".concat(Z.popup," > .").concat(Z.input))}},zr=b=>{if(b.focus(),"file"!==b.type){const C=b.value;b.value="",b.value=C}},Cr=(b,C,H)=>{!b||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(le=>{Array.isArray(b)?b.forEach(st=>{H?st.classList.add(le):st.classList.remove(le)}):H?b.classList.add(le):b.classList.remove(le)}))},tn=(b,C)=>{Cr(b,C,!0)},Wn=(b,C)=>{Cr(b,C,!1)},qn=(b,C)=>{const H=k(b.childNodes);for(let le=0;le<H.length;le++)if(qt(H[le],C))return H[le]},It=(b,C,H)=>{H==="".concat(parseInt(H))&&(H=parseInt(H)),H||0===parseInt(H)?b.style[C]="number"==typeof H?"".concat(H,"px"):H:b.style.removeProperty(C)},wt=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},At=b=>{b.style.display="none"},ar=(b,C,H,le)=>{const st=b.querySelector(C);st&&(st.style[H]=le)},dr=function(b,C){C?wt(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):At(b)},hn=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),vr=b=>b.scrollHeight>b.clientHeight,Hn=b=>{const C=window.getComputedStyle(b),H=parseFloat(C.getPropertyValue("animation-duration")||"0"),le=parseFloat(C.getPropertyValue("transition-duration")||"0");return H>0||le>0},ce=function(b){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const H=Fn();hn(H)&&(C&&(H.style.transition="none",H.style.width="100%"),setTimeout(()=>{H.style.transition="width ".concat(b/1e3,"s linear"),H.style.width="0%"},10))},Ee=()=>"undefined"==typeof window||"undefined"==typeof document,re={},ut=b=>new Promise(C=>{if(!b)return C();const H=window.scrollX,le=window.scrollY;re.restoreFocusTimeout=setTimeout(()=>{re.previousActiveElement instanceof HTMLElement?(re.previousActiveElement.focus(),re.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(H,le)}),St='\n <div aria-labelledby="'.concat(Z.title,'" aria-describedby="').concat(Z["html-container"],'" class="').concat(Z.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Z.close,'"></button>\n   <ul class="').concat(Z["progress-steps"],'"></ul>\n   <div class="').concat(Z.icon,'"></div>\n   <img class="').concat(Z.image,'" />\n   <h2 class="').concat(Z.title,'" id="').concat(Z.title,'"></h2>\n   <div class="').concat(Z["html-container"],'" id="').concat(Z["html-container"],'"></div>\n   <input class="').concat(Z.input,'" />\n   <input type="file" class="').concat(Z.file,'" />\n   <div class="').concat(Z.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Z.select,'"></select>\n   <div class="').concat(Z.radio,'"></div>\n   <label for="').concat(Z.checkbox,'" class="').concat(Z.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Z.label,'"></span>\n   </label>\n   <textarea class="').concat(Z.textarea,'"></textarea>\n   <div class="').concat(Z["validation-message"],'" id="').concat(Z["validation-message"],'"></div>\n   <div class="').concat(Z.actions,'">\n     <div class="').concat(Z.loader,'"></div>\n     <button type="button" class="').concat(Z.confirm,'"></button>\n     <button type="button" class="').concat(Z.deny,'"></button>\n     <button type="button" class="').concat(Z.cancel,'"></button>\n   </div>\n   <div class="').concat(Z.footer,'"></div>\n   <div class="').concat(Z["timer-progress-bar-container"],'">\n     <div class="').concat(Z["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),$t=()=>{re.currentInstance.resetValidationMessage()},fi=b=>{const C=(()=>{const b=te();return!!b&&(b.remove(),Wn([document.documentElement,document.body],[Z["no-backdrop"],Z["toast-shown"],Z["has-column"]]),!0)})();if(Ee())return void Ie("SweetAlert2 requires document to initialize");const H=document.createElement("div");H.className=Z.container,C&&tn(H,Z["no-transition"]),Nt(H,St);const le=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);le.appendChild(H),(b=>{const C=Re();C.setAttribute("role",b.toast?"alert":"dialog"),C.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||C.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&tn(te(),Z.rtl)})(le),(()=>{const b=Re(),C=qn(b,Z.input),H=qn(b,Z.file),le=b.querySelector(".".concat(Z.range," input")),st=b.querySelector(".".concat(Z.range," output")),kt=qn(b,Z.select),mr=b.querySelector(".".concat(Z.checkbox," input")),di=qn(b,Z.textarea);C.oninput=$t,H.onchange=$t,kt.onchange=$t,mr.onchange=$t,di.oninput=$t,le.oninput=()=>{$t(),st.value=le.value},le.onchange=()=>{$t(),st.value=le.value}})(),Ir(H,b)},Ir=(b,C)=>{if(C.toast)return;const H=(b=>b[Math.floor(Math.random()*b.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const le=document.createElement("div");le.className=Z["no-war"],Nt(le,'<a href="https://www.youtube.com/watch?v='.concat(H.youtubeId,'" target="_blank">').concat(H.text,"</a>")),b.appendChild(le),b.style.paddingTop="4em"}},Sr=(b,C)=>{b instanceof HTMLElement?C.appendChild(b):"object"==typeof b?fn(b,C):b&&Nt(C,b)},fn=(b,C)=>{b.jquery?Kn(C,b):Nt(C,b.toString())},Kn=(b,C)=>{if(b.textContent="",0 in C)for(let H=0;H in C;H++)b.appendChild(C[H].cloneNode(!0));else b.appendChild(C.cloneNode(!0))},_r=(()=>{if(Ee())return!1;const b=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const H in C)if(Object.prototype.hasOwnProperty.call(C,H)&&void 0!==b.style[H])return C[H];return!1})(),fr=(b,C)=>{const H=en(),le=Tt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?wt(H):At(H),zt(H,C,"actions"),function Mr(b,C,H){const le=Ht(),st=Lt(),kt=rn();jr(le,"confirm",H),jr(st,"deny",H),jr(kt,"cancel",H),function Ui(b,C,H,le){if(!le.buttonsStyling)return Wn([b,C,H],Z.styled);tn([b,C,H],Z.styled),le.confirmButtonColor&&(b.style.backgroundColor=le.confirmButtonColor,tn(b,Z["default-outline"])),le.denyButtonColor&&(C.style.backgroundColor=le.denyButtonColor,tn(C,Z["default-outline"])),le.cancelButtonColor&&(H.style.backgroundColor=le.cancelButtonColor,tn(H,Z["default-outline"]))}(le,st,kt,H),H.reverseButtons&&(H.toast?(b.insertBefore(kt,le),b.insertBefore(st,le)):(b.insertBefore(kt,C),b.insertBefore(st,C),b.insertBefore(le,C)))}(H,le,C),Nt(le,C.loaderHtml),zt(le,C,"loader")};function jr(b,C,H){dr(b,H["show".concat(p(C),"Button")],"inline-block"),Nt(b,H["".concat(C,"ButtonText")]),b.setAttribute("aria-label",H["".concat(C,"ButtonAriaLabel")]),b.className=Z[C],zt(b,H,"".concat(C,"Button")),tn(b,H["".concat(C,"ButtonClass")])}const Hr=(b,C)=>{const H=te();!H||(function Or(b,C){"string"==typeof C?b.style.background=C:C||tn([document.documentElement,document.body],Z["no-backdrop"])}(H,C.backdrop),function ur(b,C){C in Z?tn(b,Z[C]):(Y('The "position" parameter is not valid, defaulting to "center"'),tn(b,Z.center))}(H,C.position),function ti(b,C){if(C&&"string"==typeof C){const H="grow-".concat(C);H in Z&&tn(b,Z[H])}}(H,C.grow),zt(H,C,"container"))};var Yt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Et=["input","file","range","select","radio","checkbox","textarea"],an=b=>{if(!Wt[b.input])return Ie('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const C=qr(b.input),H=Wt[b.input](C,b);wt(C),setTimeout(()=>{zr(H)})},Wr=(b,C)=>{const H=Br(Re(),b);if(H){(b=>{for(let C=0;C<b.attributes.length;C++){const H=b.attributes[C].name;["type","value","style"].includes(H)||b.removeAttribute(H)}})(H);for(const le in C)H.setAttribute(le,C[le])}},tr=b=>{const C=qr(b.input);"object"==typeof b.customClass&&tn(C,b.customClass.input)},$r=(b,C)=>{(!b.placeholder||C.inputPlaceholder)&&(b.placeholder=C.inputPlaceholder)},Sn=(b,C,H)=>{if(H.inputLabel){b.id=Z.input;const le=document.createElement("label"),st=Z["input-label"];le.setAttribute("for",b.id),le.className=st,"object"==typeof H.customClass&&tn(le,H.customClass.inputLabel),le.innerText=H.inputLabel,C.insertAdjacentElement("beforebegin",le)}},qr=b=>qn(Re(),Z[b]||Z.input),Gn=(b,C)=>{["string","number"].includes(typeof C)?b.value="".concat(C):ne(C)||Y('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C,'"'))},Wt={};Wt.text=Wt.email=Wt.password=Wt.number=Wt.tel=Wt.url=(b,C)=>(Gn(b,C.inputValue),Sn(b,b,C),$r(b,C),b.type=C.input,b),Wt.file=(b,C)=>(Sn(b,b,C),$r(b,C),b),Wt.range=(b,C)=>{const H=b.querySelector("input"),le=b.querySelector("output");return Gn(H,C.inputValue),H.type=C.input,Gn(le,C.inputValue),Sn(H,b,C),b},Wt.select=(b,C)=>{if(b.textContent="",C.inputPlaceholder){const H=document.createElement("option");Nt(H,C.inputPlaceholder),H.value="",H.disabled=!0,H.selected=!0,b.appendChild(H)}return Sn(b,b,C),b},Wt.radio=b=>(b.textContent="",b),Wt.checkbox=(b,C)=>{const H=Br(Re(),"checkbox");H.value="1",H.id=Z.checkbox,H.checked=Boolean(C.inputValue);const le=b.querySelector("span");return Nt(le,C.inputPlaceholder),H},Wt.textarea=(b,C)=>{Gn(b,C.inputValue),$r(b,C),Sn(b,b,C);return setTimeout(()=>{if("MutationObserver"in window){const le=parseInt(window.getComputedStyle(Re()).width);new MutationObserver(()=>{const kt=b.offsetWidth+(le=>parseInt(window.getComputedStyle(le).marginLeft)+parseInt(window.getComputedStyle(le).marginRight))(b);Re().style.width=kt>le?"".concat(kt,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const ni=(b,C)=>{const H=_t();zt(H,C,"htmlContainer"),C.html?(Sr(C.html,H),wt(H,"block")):C.text?(H.textContent=C.text,wt(H,"block")):At(H),((b,C)=>{const H=Re(),le=Yt.innerParams.get(b),st=!le||C.input!==le.input;Et.forEach(kt=>{const mr=qn(H,Z[kt]);Wr(kt,C.inputAttributes),mr.className=Z[kt],st&&At(mr)}),C.input&&(st&&an(C),tr(C))})(b,C)},pe=(b,C)=>{for(const H in He)C.icon!==H&&Wn(b,He[H]);tn(b,He[C.icon]),xt(b,C),ae(),zt(b,C,"icon")},ae=()=>{const b=Re(),C=window.getComputedStyle(b).getPropertyValue("background-color"),H=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let le=0;le<H.length;le++)H[le].style.backgroundColor=C},Ne=(b,C)=>{let le,H=b.innerHTML;C.iconHtml?le=sn(C.iconHtml):"success"===C.icon?(le='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',H=H.replace(/ style=".*?"/g,"")):le="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':sn({question:"?",warning:"!",info:"i"}[C.icon]),H.trim()!==le.trim()&&Nt(b,le)},xt=(b,C)=>{if(C.iconColor){b.style.color=C.iconColor,b.style.borderColor=C.iconColor;for(const H of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ar(b,H,"backgroundColor",C.iconColor);ar(b,".swal2-success-ring","borderColor",C.iconColor)}},sn=b=>'<div class="'.concat(Z["icon-content"],'">').concat(b,"</div>"),Zr=b=>{const C=document.createElement("li");return tn(C,Z["progress-step"]),Nt(C,b),C},Dr=b=>{const C=document.createElement("li");return tn(C,Z["progress-step-line"]),b.progressStepsDistance&&It(C,"width",b.progressStepsDistance),C},Mi=(b,C)=>{b.className="".concat(Z.popup," ").concat(hn(b)?C.showClass.popup:""),C.toast?(tn([document.documentElement,document.body],Z["toast-shown"]),tn(b,Z.toast)):tn(b,Z.modal),zt(b,C,"popup"),"string"==typeof C.customClass&&tn(b,C.customClass),C.icon&&tn(b,Z["icon-".concat(C.icon)])},Bs=(b,C)=>{((b,C)=>{const H=te(),le=Re();C.toast?(It(H,"width",C.width),le.style.width="100%",le.insertBefore(Tt(),Ve())):It(le,"width",C.width),It(le,"padding",C.padding),C.color&&(le.style.color=C.color),C.background&&(le.style.background=C.background),At(nt()),Mi(le,C)})(0,C),Hr(0,C),((b,C)=>{const H=Ut();if(!C.progressSteps||0===C.progressSteps.length)return At(H);wt(H),H.textContent="",C.currentProgressStep>=C.progressSteps.length&&Y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((le,st)=>{const kt=Zr(le);if(H.appendChild(kt),st===C.currentProgressStep&&tn(kt,Z["active-progress-step"]),st!==C.progressSteps.length-1){const mr=Dr(C);H.appendChild(mr)}})})(0,C),((b,C)=>{const H=Yt.innerParams.get(b),le=Ve();H&&C.icon===H.icon?(Ne(le,C),pe(le,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(He).indexOf(C.icon)?(Ie('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),At(le)):(wt(le),Ne(le,C),pe(le,C),tn(le,C.showClass.icon)):At(le)})(b,C),((b,C)=>{const H=Vt();if(!C.imageUrl)return At(H);wt(H,""),H.setAttribute("src",C.imageUrl),H.setAttribute("alt",C.imageAlt),It(H,"width",C.imageWidth),It(H,"height",C.imageHeight),H.className=Z.image,zt(H,C,"image")})(0,C),((b,C)=>{const H=lt();dr(H,C.title||C.titleText,"block"),C.title&&Sr(C.title,H),C.titleText&&(H.innerText=C.titleText),zt(H,C,"title")})(0,C),((b,C)=>{const H=Pn();Nt(H,C.closeButtonHtml),zt(H,C,"closeButton"),dr(H,C.showCloseButton),H.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),ni(b,C),fr(0,C),((b,C)=>{const H=dn();dr(H,C.footer),C.footer&&Sr(C.footer,H),zt(H,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Re())},us=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),vi=()=>{k(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},ls=["swal-title","swal-html","swal-footer"],ye=b=>{const C={};return k(b.querySelectorAll("swal-param")).forEach(H=>{Dn(H,["name","value"]);const le=H.getAttribute("name"),st=H.getAttribute("value");"boolean"==typeof rt[le]&&"false"===st&&(C[le]=!1),"object"==typeof rt[le]&&(C[le]=JSON.parse(st))}),C},Be=b=>{const C={};return k(b.querySelectorAll("swal-button")).forEach(H=>{Dn(H,["type","color","aria-label"]);const le=H.getAttribute("type");C["".concat(le,"ButtonText")]=H.innerHTML,C["show".concat(p(le),"Button")]=!0,H.hasAttribute("color")&&(C["".concat(le,"ButtonColor")]=H.getAttribute("color")),H.hasAttribute("aria-label")&&(C["".concat(le,"ButtonAriaLabel")]=H.getAttribute("aria-label"))}),C},tt=b=>{const C={},H=b.querySelector("swal-image");return H&&(Dn(H,["src","width","height","alt"]),H.hasAttribute("src")&&(C.imageUrl=H.getAttribute("src")),H.hasAttribute("width")&&(C.imageWidth=H.getAttribute("width")),H.hasAttribute("height")&&(C.imageHeight=H.getAttribute("height")),H.hasAttribute("alt")&&(C.imageAlt=H.getAttribute("alt"))),C},yt=b=>{const C={},H=b.querySelector("swal-icon");return H&&(Dn(H,["type","color"]),H.hasAttribute("type")&&(C.icon=H.getAttribute("type")),H.hasAttribute("color")&&(C.iconColor=H.getAttribute("color")),C.iconHtml=H.innerHTML),C},Ft=b=>{const C={},H=b.querySelector("swal-input");H&&(Dn(H,["type","label","placeholder","value"]),C.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(C.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(C.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(C.inputValue=H.getAttribute("value")));const le=b.querySelectorAll("swal-input-option");return le.length&&(C.inputOptions={},k(le).forEach(st=>{Dn(st,["value"]);const kt=st.getAttribute("value");C.inputOptions[kt]=st.innerHTML})),C},Bn=(b,C)=>{const H={};for(const le in C){const st=C[le],kt=b.querySelector(st);kt&&(Dn(kt,[]),H[st.replace(/^swal-/,"")]=kt.innerHTML.trim())}return H},wr=b=>{const C=ls.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);k(b.children).forEach(H=>{const le=H.tagName.toLowerCase();-1===C.indexOf(le)&&Y("Unrecognized element <".concat(le,">"))})},Dn=(b,C)=>{k(b.attributes).forEach(H=>{-1===C.indexOf(H.name)&&Y(['Unrecognized attribute "'.concat(H.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var Oi={email:(b,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(b,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Rs(b){(function Ps(b){b.inputValidator||Object.keys(Oi).forEach(C=>{b.input===C&&(b.inputValidator=Oi[C])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&Y("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function kr(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(Y('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),fi(b)}class Yi{constructor(C,H){this.callback=C,this.remaining=H,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const H=this.running;return H&&this.stop(),this.remaining+=C,H&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cs=()=>{null===Tn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Tn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Tn.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=Z["scrollbar-measure"],document.body.appendChild(b);const C=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),C})(),"px"))},Fr=()=>{const b=navigator.userAgent,C=!!b.match(/iPad/i)||!!b.match(/iPhone/i),H=!!b.match(/WebKit/i);C&&H&&!b.match(/CriOS/i)&&Re().scrollHeight>window.innerHeight-44&&(te().style.paddingBottom="".concat(44,"px"))},ds=()=>{const b=te();let C;b.ontouchstart=H=>{C=Pi(H)},b.ontouchmove=H=>{C&&(H.preventDefault(),H.stopPropagation())}},Pi=b=>{const C=b.target,H=te();return!(ji(b)||Ns(b)||C!==H&&(vr(H)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||vr(_t())&&_t().contains(C)))},ji=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,Ns=b=>b.touches&&b.touches.length>1,ri=b=>{const C=te(),H=Re();"function"==typeof b.willOpen&&b.willOpen(H);const st=window.getComputedStyle(document.body).overflowY;Yr(C,H,b),setTimeout(()=>{Gr(C,H)},10),Jn()&&(eo(C,b.scrollbarPadding,st),k(document.body.children).forEach(C=>{C===te()||C.contains(te())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Xn()&&!re.previousActiveElement&&(re.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(H)),Wn(C,Z["no-transition"])},Es=b=>{const C=Re();if(b.target!==C)return;const H=te();C.removeEventListener(_r,Es),H.style.overflowY="auto"},Gr=(b,C)=>{_r&&Hn(C)?(b.style.overflowY="hidden",C.addEventListener(_r,Es)):b.style.overflowY="auto"},eo=(b,C,H)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!qt(document.body,Z.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),tn(document.body,Z.iosfix),ds(),Fr()}})(),C&&"hidden"!==H&&cs(),setTimeout(()=>{b.scrollTop=0})},Yr=(b,C,H)=>{tn(b,H.showClass.backdrop),C.style.setProperty("opacity","0","important"),wt(C,"grid"),setTimeout(()=>{tn(C,H.showClass.popup),C.style.removeProperty("opacity")},10),tn([document.documentElement,document.body],Z.shown),H.heightAuto&&H.backdrop&&!H.toast&&tn([document.documentElement,document.body],Z["height-auto"])},Qr=b=>{let C=Re();C||new $i,C=Re();const H=Tt();Xn()?At(Ve()):pr(C,b),wt(H),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},pr=(b,C)=>{const H=en(),le=Tt();!C&&hn(Ht())&&(C=Ht()),wt(H),C&&(At(C),le.setAttribute("data-button-to-replace",C.className)),le.parentNode.insertBefore(le,C),tn([b,H],Z.loading)},Is=b=>b.checked?1:0,Ri=b=>b.checked?b.value:null,Ni=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Jr=(b,C)=>{const H=Re(),le=st=>nr[C.input](H,P(st),C);ke(C.inputOptions)||ne(C.inputOptions)?(Qr(Ht()),ue(C.inputOptions).then(st=>{b.hideLoading(),le(st)})):"object"==typeof C.inputOptions?le(C.inputOptions):Ie("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},mo=(b,C)=>{const H=b.getInput();At(H),ue(C.inputValue).then(le=>{H.value="number"===C.input?parseFloat(le)||0:"".concat(le),wt(H),H.focus(),b.hideLoading()}).catch(le=>{Ie("Error in inputValue promise: ".concat(le)),H.value="",wt(H),H.focus(),b.hideLoading()})},nr={select:(b,C,H)=>{const le=qn(b,Z.select),st=(kt,mr,di)=>{const si=document.createElement("option");si.value=di,Nt(si,mr),si.selected=G(di,H.inputValue),kt.appendChild(si)};C.forEach(kt=>{const mr=kt[0],di=kt[1];if(Array.isArray(di)){const si=document.createElement("optgroup");si.label=mr,si.disabled=!1,le.appendChild(si),di.forEach(oo=>st(si,oo[1],oo[0]))}else st(le,di,mr)}),le.focus()},radio:(b,C,H)=>{const le=qn(b,Z.radio);C.forEach(kt=>{const mr=kt[0],di=kt[1],si=document.createElement("input"),oo=document.createElement("label");si.type="radio",si.name=Z.radio,si.value=mr,G(mr,H.inputValue)&&(si.checked=!0);const oi=document.createElement("span");Nt(oi,di),oi.className=Z.label,oo.appendChild(si),oo.appendChild(oi),le.appendChild(oo)});const st=le.querySelectorAll("input");st.length&&st[0].focus()}},P=b=>{const C=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((H,le)=>{let st=H;"object"==typeof st&&(st=P(st)),C.push([le,st])}):Object.keys(b).forEach(H=>{let le=b[H];"object"==typeof le&&(le=P(le)),C.push([H,le])}),C},G=(b,C)=>C&&C.toString()===b.toString();function O(){const b=Yt.innerParams.get(this);if(!b)return;const C=Yt.domCache.get(this);At(C.loader),Xn()?b.icon&&wt(Ve()):Q(C),Wn([C.popup,C.actions],Z.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Q=b=>{const C=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));C.length?wt(C[0],"inline-block"):!hn(Ht())&&!hn(Lt())&&!hn(rn())&&At(b.actions)};var ze={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Gt=()=>Ht()&&Ht().click(),pn=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},lr=(b,C,H)=>{const le=Ln();if(le.length)return(C+=H)===le.length?C=0:-1===C&&(C=le.length-1),le[C].focus();Re().focus()},jn=["ArrowRight","ArrowDown"],gr=["ArrowLeft","ArrowUp"],_i=(b,C,H)=>{const le=Yt.innerParams.get(b);!le||C.isComposing||229===C.keyCode||(le.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?wi(b,C,le):"Tab"===C.key?cn(C,le):[...jn,...gr].includes(C.key)?ii(C.key):"Escape"===C.key&&Ji(C,le,H))},wi=(b,C,H)=>{if(Te(H.allowEnterKey)&&C.target&&b.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(H.input))return;Gt(),C.preventDefault()}},cn=(b,C)=>{const H=b.target,le=Ln();let st=-1;for(let kt=0;kt<le.length;kt++)if(H===le[kt]){st=kt;break}lr(0,st,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ii=b=>{const C=Ht(),H=Lt(),le=rn();if(document.activeElement instanceof HTMLElement&&![C,H,le].includes(document.activeElement))return;const st=jn.includes(b)?"nextElementSibling":"previousElementSibling";let kt=document.activeElement;for(let mr=0;mr<en().children.length;mr++){if(kt=kt[st],!kt)return;if(kt instanceof HTMLButtonElement&&hn(kt))break}kt instanceof HTMLButtonElement&&kt.focus()},Ji=(b,C,H)=>{Te(C.allowEscapeKey)&&(b.preventDefault(),H(us.esc))};function hs(b,C,H,le){Xn()?ui(b,le):(ut(H).then(()=>ui(b,le)),pn(re)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Jn()&&(null!==Tn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Tn.previousBodyPadding,"px"),Tn.previousBodyPadding=null),(()=>{if(qt(document.body,Z.iosfix)){const b=parseInt(document.body.style.top,10);Wn(document.body,Z.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),vi()),function to(){Wn([document.documentElement,document.body],[Z.shown,Z["height-auto"],Z["no-backdrop"],Z["toast-shown"]])}()}function N(b){b=ct(b);const C=ze.swalPromiseResolve.get(this),H=S(this);this.isAwaitingPromise()?b.isDismissed||(he(this),C(b)):H&&C(b)}const S=b=>{const C=Re();if(!C)return!1;const H=Yt.innerParams.get(b);if(!H||qt(C,H.hideClass.popup))return!1;Wn(C,H.showClass.popup),tn(C,H.hideClass.popup);const le=te();return Wn(le,H.showClass.backdrop),tn(le,H.hideClass.backdrop),Nn(b,C,H),!0};const he=b=>{b.isAwaitingPromise()&&(Yt.awaitingPromise.delete(b),Yt.innerParams.get(b)||b._destroy())},ct=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),Nn=(b,C,H)=>{const le=te(),st=_r&&Hn(C);"function"==typeof H.willClose&&H.willClose(C),st?Rn(b,C,le,H.returnFocus,H.didClose):hs(b,le,H.returnFocus,H.didClose)},Rn=(b,C,H,le,st)=>{re.swalCloseEventFinishedCallback=hs.bind(null,b,H,le,st),C.addEventListener(_r,function(kt){kt.target===C&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback)})},ui=(b,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(b.params)(),b._destroy()})};function ki(b,C,H){const le=Yt.domCache.get(b);C.forEach(st=>{le[st].disabled=H})}function li(b,C){if(!b)return!1;if("radio"===b.type){const le=b.parentNode.parentNode.querySelectorAll("input");for(let st=0;st<le.length;st++)le[st].disabled=C}else b.disabled=C}const So=b=>{const C={};return Object.keys(b).forEach(H=>{Je(H)?C[H]=b[H]:Y("Invalid parameter to update: ".concat(H))}),C};const Fi=b=>{no(b),delete b.params,delete re.keydownHandler,delete re.keydownTarget,delete re.currentInstance},no=b=>{b.isAwaitingPromise()?(xo(Yt,b),Yt.awaitingPromise.set(b,!0)):(xo(ze,b),xo(Yt,b))},xo=(b,C)=>{for(const H in b)b[H].delete(C)};var Pr=Object.freeze({hideLoading:O,disableLoading:O,getInput:function me(b){const C=Yt.innerParams.get(b||this),H=Yt.domCache.get(b||this);return H?Br(H.popup,C.input):null},close:N,isAwaitingPromise:function M(){return!!Yt.awaitingPromise.get(this)},rejectPromise:function q(b){const C=ze.swalPromiseReject.get(this);he(this),C&&C(b)},handleAwaitingPromise:he,closePopup:N,closeModal:N,closeToast:N,enableButtons:function fs(){ki(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function yo(){ki(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Fa(){return li(this.getInput(),!1)},disableInput:function La(){return li(this.getInput(),!0)},showValidationMessage:function ku(b){const C=Yt.domCache.get(this),H=Yt.innerParams.get(this);Nt(C.validationMessage,b),C.validationMessage.className=Z["validation-message"],H.customClass&&H.customClass.validationMessage&&tn(C.validationMessage,H.customClass.validationMessage),wt(C.validationMessage);const le=this.getInput();le&&(le.setAttribute("aria-invalid",!0),le.setAttribute("aria-describedby",Z["validation-message"]),zr(le),tn(le,Z.inputerror))},resetValidationMessage:function Cs(){const b=Yt.domCache.get(this);b.validationMessage&&At(b.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Wn(C,Z.inputerror))},getProgressSteps:function ci(){return Yt.domCache.get(this).progressSteps},update:function Hi(b){const C=Re(),H=Yt.innerParams.get(this);if(!C||qt(C,H.hideClass.popup))return Y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const le=So(b),st=Object.assign({},H,le);Bs(this,st),Yt.innerParams.set(this,st),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function Hs(){const b=Yt.domCache.get(this),C=Yt.innerParams.get(this);C?(b.popup&&re.swalCloseEventFinishedCallback&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),Fi(this)):no(this)}});const ea=(b,C)=>{const H=Yt.innerParams.get(b);if(!H.input)return Ie('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(C)));const le=((b,C)=>{const H=b.getInput();if(!H)return null;switch(C.input){case"checkbox":return Is(H);case"radio":return Ri(H);case"file":return Ni(H);default:return C.inputAutoTrim?H.value.trim():H.value}})(b,H);H.inputValidator?ta(b,le,C):b.getInput().checkValidity()?"deny"===C?vo(b,le):wo(b,le):(b.enableButtons(),b.showValidationMessage(H.validationMessage))},ta=(b,C,H)=>{const le=Yt.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>ue(le.inputValidator(C,le.validationMessage))).then(kt=>{b.enableButtons(),b.enableInput(),kt?b.showValidationMessage(kt):"deny"===H?vo(b,C):wo(b,C)})},vo=(b,C)=>{const H=Yt.innerParams.get(b||void 0);H.showLoaderOnDeny&&Qr(Lt()),H.preDeny?(Yt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>ue(H.preDeny(C,H.validationMessage))).then(st=>{!1===st?(b.hideLoading(),he(b)):b.closePopup({isDenied:!0,value:void 0===st?C:st})}).catch(st=>ks(b||void 0,st))):b.closePopup({isDenied:!0,value:C})},_o=(b,C)=>{b.closePopup({isConfirmed:!0,value:C})},ks=(b,C)=>{b.rejectPromise(C)},wo=(b,C)=>{const H=Yt.innerParams.get(b||void 0);H.showLoaderOnConfirm&&Qr(),H.preConfirm?(b.resetValidationMessage(),Yt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>ue(H.preConfirm(C,H.validationMessage))).then(st=>{hn(nt())||!1===st?(b.hideLoading(),he(b)):_o(b,void 0===st?C:st)}).catch(st=>ks(b||void 0,st))):_o(b,C)},Ds=(b,C,H)=>{C.popup.onclick=()=>{const le=Yt.innerParams.get(b);le&&(na(le)||le.timer||le.input)||H(us.close)}},na=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let Fs=!1;const ma=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(C){b.container.onmouseup=void 0,C.target===b.container&&(Fs=!0)}}},$s=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(C){b.popup.onmouseup=void 0,(C.target===b.popup||b.popup.contains(C.target))&&(Fs=!0)}}},Li=(b,C,H)=>{C.container.onclick=le=>{const st=Yt.innerParams.get(b);Fs?Fs=!1:le.target===C.container&&Te(st.allowOutsideClick)&&H(us.backdrop)}},Rr=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Ba=()=>{if(re.timeout)return(()=>{const b=Fn(),C=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const le=C/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(le,"%")})(),re.timeout.stop()},jo=()=>{if(re.timeout){const b=re.timeout.start();return ce(b),b}};let Un=!1;const Oo={};const As=b=>{for(let C=b.target;C&&C!==document;C=C.parentNode)for(const H in Oo){const le=C.getAttribute(H);if(le)return void Oo[H].fire({template:le})}};var Ss=Object.freeze({isValidParameter:$e,isUpdatableParameter:Je,isDeprecatedParameter:vt,argsToParams:b=>{const C={};return"object"!=typeof b[0]||Rr(b[0])?["title","html","icon"].forEach((H,le)=>{const st=b[le];"string"==typeof st||Rr(st)?C[H]=st:void 0!==st&&Ie("Unexpected type of ".concat(H,'! Expected "string" or "Element", got ').concat(typeof st))}):Object.assign(C,b[0]),C},isVisible:()=>hn(Re()),clickConfirm:Gt,clickDeny:()=>Lt()&&Lt().click(),clickCancel:()=>rn()&&rn().click(),getContainer:te,getPopup:Re,getTitle:lt,getHtmlContainer:_t,getImage:Vt,getIcon:Ve,getInputLabel:()=>fe(Z["input-label"]),getCloseButton:Pn,getActions:en,getConfirmButton:Ht,getDenyButton:Lt,getCancelButton:rn,getLoader:Tt,getFooter:dn,getTimerProgressBar:Fn,getFocusableElements:Ln,getValidationMessage:nt,isLoading:()=>Re().hasAttribute("data-loading"),fire:function Va(){const b=this;for(var C=arguments.length,H=new Array(C),le=0;le<C;le++)H[le]=arguments[le];return new b(...H)},mixin:function Ua(b){return class C extends(this){_main(le,st){return super._main(le,Object.assign({},b,st))}}},showLoading:Qr,enableLoading:Qr,getTimerLeft:()=>re.timeout&&re.timeout.getTimerLeft(),stopTimer:Ba,resumeTimer:jo,toggleTimer:()=>{const b=re.timeout;return b&&(b.running?Ba():jo())},increaseTimer:b=>{if(re.timeout){const C=re.timeout.increase(b);return ce(C,!0),C}},isTimerRunning:()=>re.timeout&&re.timeout.isRunning(),bindClickHandler:function Ho(){Oo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Un||(document.body.addEventListener("click",As),Un=!0)}});let Tr;class Eo{constructor(){if("undefined"==typeof window)return;Tr=this;for(var C=arguments.length,H=new Array(C),le=0;le<C;le++)H[le]=arguments[le];const st=Object.freeze(this.constructor.argsToParams(H));Object.defineProperties(this,{params:{value:st,writable:!1,enumerable:!0,configurable:!0}});const kt=Tr._main(Tr.params);Yt.promise.set(this,kt)}_main(C){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&Y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in b)Ct(C),b.toast&&de(C),Pe(C)})(Object.assign({},H,C)),re.currentInstance&&(re.currentInstance._destroy(),Jn()&&vi()),re.currentInstance=Tr;const le=Po(C,H);Rs(le),Object.freeze(le),re.timeout&&(re.timeout.stop(),delete re.timeout),clearTimeout(re.restoreFocusTimeout);const st=ja(Tr);return Bs(Tr,le),Yt.innerParams.set(Tr,le),xs(Tr,st,le)}then(C){return Yt.promise.get(this).then(C)}finally(C){return Yt.promise.get(this).finally(C)}}const xs=(b,C,H)=>new Promise((le,st)=>{const kt=mr=>{b.closePopup({isDismissed:!0,dismiss:mr})};ze.swalPromiseResolve.set(b,le),ze.swalPromiseReject.set(b,st),C.confirmButton.onclick=()=>(b=>{const C=Yt.innerParams.get(b);b.disableButtons(),C.input?ea(b,"confirm"):wo(b,!0)})(b),C.denyButton.onclick=()=>(b=>{const C=Yt.innerParams.get(b);b.disableButtons(),C.returnInputValueOnDeny?ea(b,"deny"):vo(b,!1)})(b),C.cancelButton.onclick=()=>((b,C)=>{b.disableButtons(),C(us.cancel)})(b,kt),C.closeButton.onclick=()=>kt(us.close),((b,C,H)=>{Yt.innerParams.get(b).toast?Ds(b,C,H):(ma(C),$s(C),Li(b,C,H))})(b,C,kt),((b,C,H,le)=>{pn(C),H.toast||(C.keydownHandler=st=>_i(b,st,le),C.keydownTarget=H.keydownListenerCapture?window:Re(),C.keydownListenerCapture=H.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(b,re,H,kt),((b,C)=>{"select"===C.input||"radio"===C.input?Jr(b,C):["text","email","number","tel","textarea"].includes(C.input)&&(ke(C.inputValue)||ne(C.inputValue))&&(Qr(Ht()),mo(b,C))})(b,H),ri(H),$o(re,H,kt),ns(C,H),setTimeout(()=>{C.container.scrollTop=0})}),Po=(b,C)=>{const H=(b=>{const C="string"==typeof b.template?document.querySelector(b.template):b.template;if(!C)return{};const H=C.content;return wr(H),Object.assign(ye(H),Be(H),tt(H),yt(H),Ft(H),Bn(H,ls))})(b),le=Object.assign({},rt,C,H,b);return le.showClass=Object.assign({},rt.showClass,le.showClass),le.hideClass=Object.assign({},rt.hideClass,le.hideClass),le},ja=b=>{const C={popup:Re(),container:te(),actions:en(),confirmButton:Ht(),denyButton:Lt(),cancelButton:rn(),loader:Tt(),closeButton:Pn(),validationMessage:nt(),progressSteps:Ut()};return Yt.domCache.set(b,C),C},$o=(b,C,H)=>{const le=Fn();At(le),C.timer&&(b.timeout=new Yi(()=>{H("timer"),delete b.timeout},C.timer),C.timerProgressBar&&(wt(le),zt(le,C,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&ce(C.timer)})))},ns=(b,C)=>{if(!C.toast){if(!Te(C.allowEnterKey))return bo();Xi(b,C)||lr(0,-1,1)}},Xi=(b,C)=>C.focusDeny&&hn(b.denyButton)?(b.denyButton.focus(),!0):C.focusCancel&&hn(b.cancelButton)?(b.cancelButton.focus(),!0):!(!C.focusConfirm||!hn(b.confirmButton)||(b.confirmButton.focus(),0)),bo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Eo.prototype,Pr),Object.assign(Eo,Ss),Object.keys(Pr).forEach(b=>{Eo[b]=function(){if(Tr)return Tr[b](...arguments)}}),Eo.DismissReason=us,Eo.version="11.4.17";const $i=Eo;return $i.default=$i,$i}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Le,L){var p=Le.createElement("style");if(Le.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=L);else try{p.innerHTML=L}catch(k){p.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(bt,Le,L)=>{"use strict";function Ie(te,xe){var fe={};for(var Re in te)Object.prototype.hasOwnProperty.call(te,Re)&&xe.indexOf(Re)<0&&(fe[Re]=te[Re]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Re=Object.getOwnPropertySymbols(te);Ve<Re.length;Ve++)xe.indexOf(Re[Ve])<0&&Object.prototype.propertyIsEnumerable.call(te,Re[Ve])&&(fe[Re[Ve]]=te[Re[Ve]])}return fe}function Te(te,xe,fe,Re){return new(fe||(fe=Promise))(function(lt,_t){function Vt(Ht){try{nt(Re.next(Ht))}catch(Lt){_t(Lt)}}function Ut(Ht){try{nt(Re.throw(Ht))}catch(Lt){_t(Lt)}}function nt(Ht){Ht.done?lt(Ht.value):function Ve(lt){return lt instanceof fe?lt:new fe(function(_t){_t(lt)})}(Ht.value).then(Vt,Ut)}nt((Re=Re.apply(te,xe||[])).next())})}function $e(te){return this instanceof $e?(this.v=te,this):new $e(te)}function Je(te,xe,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Re=fe.apply(te,xe||[]),lt=[];return Ve={},_t("next"),_t("throw"),_t("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function _t(on){Re[on]&&(Ve[on]=function(Tt){return new Promise(function(rn,en){lt.push([on,Tt,rn,en])>1||Vt(on,Tt)})})}function Vt(on,Tt){try{!function Ut(on){on.value instanceof $e?Promise.resolve(on.value.v).then(nt,Ht):Lt(lt[0][2],on)}(Re[on](Tt))}catch(rn){Lt(lt[0][3],rn)}}function nt(on){Vt("next",on)}function Ht(on){Vt("throw",on)}function Lt(on,Tt){on(Tt),lt.shift(),lt.length&&Vt(lt[0][0],lt[0][1])}}function Ct(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,xe=te[Symbol.asyncIterator];return xe?xe.call(te):(te=function ge(te){var xe="function"==typeof Symbol&&Symbol.iterator,fe=xe&&te[xe],Re=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Re>=te.length&&(te=void 0),{value:te&&te[Re++],done:!te}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},Re("next"),Re("throw"),Re("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Re(lt){fe[lt]=te[lt]&&function(_t){return new Promise(function(Vt,Ut){!function Ve(lt,_t,Vt,Ut){Promise.resolve(Ut).then(function(nt){lt({value:nt,done:Vt})},_t)}(Vt,Ut,(_t=te[lt](_t)).done,_t.value)})}}}L.d(Le,{FC:()=>Je,KL:()=>Ct,_T:()=>Ie,mG:()=>Te,qq:()=>$e})},9808:(bt,Le,L)=>{"use strict";L.d(Le,{Do:()=>de,EM:()=>Is,HT:()=>we,JF:()=>nr,K0:()=>Me,Mx:()=>ni,O5:()=>De,PM:()=>Qr,S$:()=>$e,V_:()=>ue,Ye:()=>Pe,b0:()=>Ct,bD:()=>ri,ez:()=>Xs,lw:()=>Te,mr:()=>vt,q:()=>Y,sg:()=>pe,w_:()=>ve});var p=L(5e3);let k=null;function Y(){return k}function we(P){k||(k=P)}class ve{}const Me=new p.OlP("DocumentToken");let Te=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=p.Yz7({token:P,factory:function(){return function ke(){return(0,p.LFG)(ne)}()},providedIn:"platform"}),P})();const ue=new p.OlP("Location Initialized");let ne=(()=>{class P extends Te{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(O){const Q=Y().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",O,!1),()=>Q.removeEventListener("popstate",O)}onHashChange(O){const Q=Y().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",O,!1),()=>Q.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,Q,me){ge()?this._history.pushState(O,Q,me):this.location.hash=me}replaceState(O,Q,me){ge()?this._history.replaceState(O,Q,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return P.\u0275fac=function(O){return new(O||P)(p.LFG(Me))},P.\u0275prov=p.Yz7({token:P,factory:function(){return function rt(){return new ne((0,p.LFG)(Me))}()},providedIn:"platform"}),P})();function ge(){return!!window.history.pushState}function je(P,G){if(0==P.length)return G;if(0==G.length)return P;let O=0;return P.endsWith("/")&&O++,G.startsWith("/")&&O++,2==O?P+G.substring(1):1==O?P+G:P+"/"+G}function Qe(P){const G=P.match(/#|\?|$/),O=G&&G.index||P.length;return P.slice(0,O-("/"===P[O-1]?1:0))+P.slice(O)}function pt(P){return P&&"?"!==P[0]?"?"+P:P}let $e=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=p.Yz7({token:P,factory:function(){return function Je(P){const G=(0,p.LFG)(Me).location;return new Ct((0,p.LFG)(Te),G&&G.origin||"")}()},providedIn:"root"}),P})();const vt=new p.OlP("appBaseHref");let Ct=(()=>{class P extends $e{constructor(O,Q){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return je(this._baseHref,O)}path(O=!1){const Q=this._platformLocation.pathname+pt(this._platformLocation.search),me=this._platformLocation.hash;return me&&O?`${Q}${me}`:Q}pushState(O,Q,me,ze){const Ze=this.prepareExternalUrl(me+pt(ze));this._platformLocation.pushState(O,Q,Ze)}replaceState(O,Q,me,ze){const Ze=this.prepareExternalUrl(me+pt(ze));this._platformLocation.replaceState(O,Q,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,O)}}return P.\u0275fac=function(O){return new(O||P)(p.LFG(Te),p.LFG(vt,8))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})(),de=(()=>{class P extends $e{constructor(O,Q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(O){const Q=je(this._baseHref,O);return Q.length>0?"#"+Q:Q}pushState(O,Q,me,ze){let Ze=this.prepareExternalUrl(me+pt(ze));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(O,Q,Ze)}replaceState(O,Q,me,ze){let Ze=this.prepareExternalUrl(me+pt(ze));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(O,Q,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,O)}}return P.\u0275fac=function(O){return new(O||P)(p.LFG(Te),p.LFG(vt,8))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})(),Pe=(()=>{class P{constructor(O,Q){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const me=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=Qe(Xe(me)),this._platformStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,Q=""){return this.path()==this.normalize(O+pt(Q))}normalize(O){return P.stripTrailingSlash(function at(P,G){return P&&G.startsWith(P)?G.substring(P.length):G}(this._baseHref,Xe(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,Q="",me=null){this._platformStrategy.pushState(me,"",O,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+pt(Q)),me)}replaceState(O,Q="",me=null){this._platformStrategy.replaceState(me,"",O,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+pt(Q)),me)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var Q,me;null===(me=(Q=this._platformStrategy).historyGo)||void 0===me||me.call(Q,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(O="",Q){this._urlChangeListeners.forEach(me=>me(O,Q))}subscribe(O,Q,me){return this._subject.subscribe({next:O,error:Q,complete:me})}}return P.normalizeQueryParams=pt,P.joinWithSlash=je,P.stripTrailingSlash=Qe,P.\u0275fac=function(O){return new(O||P)(p.LFG($e),p.LFG(Te))},P.\u0275prov=p.Yz7({token:P,factory:function(){return function Ye(){return new Pe((0,p.LFG)($e),(0,p.LFG)(Te))}()},providedIn:"root"}),P})();function Xe(P){return P.replace(/\/index.html$/,"")}function ni(P,G){G=encodeURIComponent(G);for(const O of P.split(";")){const Q=O.indexOf("="),[me,ze]=-1==Q?[O,""]:[O.slice(0,Q),O.slice(Q+1)];if(me.trim()===G)return decodeURIComponent(ze)}return null}class Kr{constructor(G,O,Q,me){this.$implicit=G,this.ngForOf=O,this.index=Q,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pe=(()=>{class P{constructor(O,Q,me){this._viewContainer=O,this._template=Q,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const Q=this._viewContainer;O.forEachOperation((me,ze,Ze)=>{if(null==me.previousIndex)Q.createEmbeddedView(this._template,new Kr(me.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)Q.remove(null===ze?void 0:ze);else if(null!==ze){const Gt=Q.get(ze);Q.move(Gt,Ze),ae(Gt,me)}});for(let me=0,ze=Q.length;me<ze;me++){const Gt=Q.get(me).context;Gt.index=me,Gt.count=ze,Gt.ngForOf=this._ngForOf}O.forEachIdentityChange(me=>{ae(Q.get(me.currentIndex),me)})}static ngTemplateContextGuard(O,Q){return!0}}return P.\u0275fac=function(O){return new(O||P)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();function ae(P,G){P.context.$implicit=G.item}let De=(()=>{class P{constructor(O,Q){this._viewContainer=O,this._context=new Ne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){xt("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){xt("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,Q){return!0}}return P.\u0275fac=function(O){return new(O||P)(p.Y36(p.s_b),p.Y36(p.Rgc))},P.\u0275dir=p.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Ne{constructor(){this.$implicit=null,this.ngIf=null}}function xt(P,G){if(G&&!G.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,p.AaK)(G)}'.`)}let Xs=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({}),P})();const ri="browser";function Qr(P){return"server"===P}let Is=(()=>{class P{}return P.\u0275prov=(0,p.Yz7)({token:P,providedIn:"root",factory:()=>new Ri((0,p.LFG)(Me),window)}),P})();class Ri{constructor(G,O){this.document=G,this.window=O,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const O=function Jr(P,G){const O=P.getElementById(G)||P.getElementsByName(G)[0];if(O)return O;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const Q=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let me=Q.currentNode;for(;me;){const ze=me.shadowRoot;if(ze){const Ze=ze.getElementById(G)||ze.querySelector(`[name="${G}"]`);if(Ze)return Ze}me=Q.nextNode()}}return null}(this.document,G);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=G)}}scrollToElement(G){const O=G.getBoundingClientRect(),Q=O.left+this.window.pageXOffset,me=O.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(Q-ze[0],me-ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function Ni(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class nr{}},5e3:(bt,Le,L)=>{"use strict";L.d(Le,{$8M:()=>Ha,$Z:()=>Ci,AFp:()=>uw,AaK:()=>Te,AsE:()=>Ru,CHM:()=>Nn,CRH:()=>B0,CZH:()=>y_,CqO:()=>Yp,EJc:()=>Ib,EpF:()=>Iv,F4k:()=>$m,FYo:()=>_0,FiY:()=>Zs,G48:()=>Wb,GfV:()=>w0,Gpc:()=>ne,JOm:()=>J,LFG:()=>nn,LSH:()=>Qo,Lbi:()=>wb,MAs:()=>Yh,NdJ:()=>Ra,OlP:()=>gi,PXZ:()=>Vb,Q6J:()=>Bm,QGY:()=>Zp,Qsj:()=>pE,R0b:()=>Nu,RDi:()=>Ni,Rgc:()=>Eg,SBq:()=>yg,Sil:()=>Db,Suo:()=>U0,TTD:()=>Pi,TgZ:()=>Td,VLi:()=>kb,W1O:()=>G0,X6Q:()=>zb,XFs:()=>Nt,Xpm:()=>Ot,Y36:()=>Dd,YKP:()=>C0,YNc:()=>Zh,Yjl:()=>fn,Yz7:()=>Tt,ZZ4:()=>O_,_Bn:()=>m0,_UZ:()=>Wp,_Vd:()=>Sy,_c5:()=>uI,_uU:()=>sg,aQg:()=>P_,c2e:()=>Eb,cJS:()=>en,cg1:()=>ff,dDg:()=>pw,deG:()=>$a,dqk:()=>hn,eFA:()=>yw,ekj:()=>Bl,g9A:()=>cw,h0i:()=>wf,hGG:()=>lI,hij:()=>cf,iGM:()=>V0,ifc:()=>It,ip1:()=>aw,kL8:()=>Nc,lG2:()=>Sr,n5z:()=>zs,oAB:()=>Ar,oxw:()=>Gm,q4F:()=>E0,qLn:()=>bl,qOj:()=>yd,qZA:()=>nf,s9C:()=>Jp,sBO:()=>qb,sIi:()=>vd,s_b:()=>Oy,soG:()=>__,tBr:()=>Qn,tb:()=>dw,tp0:()=>za,uIk:()=>qh,vHH:()=>Qe,vpe:()=>hl,wAp:()=>En,xp6:()=>kg,z2F:()=>D_,zSh:()=>yp,zs3:()=>ha});var p=L(7579),k=L(727),Y=L(8306),Ie=L(6451),we=L(3099);function ve(n){for(let r in n)if(n[r]===ve)return r;throw Error("Could not find renamed property on target object.")}function Me(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ue=ve({__forward_ref__:ve});function ne(n){return n.__forward_ref__=ne,n.toString=function(){return Te(this())},n}function ge(n){return rt(n)?n():n}function rt(n){return"function"==typeof n&&n.hasOwnProperty(ue)&&n.__forward_ref__===ne}class Qe extends Error{constructor(r,s){super(function pt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function Je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}function Pe(n,r){const s=r?` in ${r}`:"";throw new Qe(-201,`No provider for ${Je(n)} found${s}`)}function Ut(n,r){null==n&&function nt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function en(n){return{providers:n.providers||[],imports:n.imports||[]}}function dn(n){return Fn(n,Jn)||Fn(n,or)}function Fn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Ln(n){return n&&(n.hasOwnProperty(Xn)||n.hasOwnProperty(Tn))?n[Xn]:null}const Jn=ve({\u0275prov:ve}),Xn=ve({\u0275inj:ve}),or=ve({ngInjectableDef:ve}),Tn=ve({ngInjectorDef:ve});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let qt;function zt(n){const r=qt;return qt=n,r}function Br(n,r,s){const a=dn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Nt.Optional?null:void 0!==r?r:void Pe(Te(n),"Injector")}function Cr(n){return{toString:n}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),It=(()=>{return(n=It||(It={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",It;var n})();const wt="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hn=wt||"undefined"!=typeof global&&global||At||ar,Hn={},ce=[],_e=ve({\u0275cmp:ve}),Ee=ve({\u0275dir:ve}),it=ve({\u0275pipe:ve}),re=ve({\u0275mod:ve}),Oe=ve({\u0275fac:ve}),ut=ve({__NG_ELEMENT_ID__:ve});let St=0;function Ot(n){return Cr(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ce,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||It.Emulated,id:"c",styles:n.styles||ce,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,f=n.features,v=n.pipes;return a.id+=St++,a.inputs=Ir(n.inputs,s),a.outputs=Ir(n.outputs),f&&f.forEach(E=>E(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map($n):null,a.pipeDefs=v?()=>("function"==typeof v?v():v).map(Jt):null,a})}function $n(n){return Kn(n)||function _r(n){return n[Ee]||null}(n)}function Jt(n){return function xr(n){return n[it]||null}(n)}const hr={};function Ar(n){return Cr(()=>{const r={type:n.type,bootstrap:n.bootstrap||ce,declarations:n.declarations||ce,imports:n.imports||ce,exports:n.exports||ce,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(hr[n.id]=n.type),r})}function Ir(n,r){if(null==n)return Hn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),s[l]=a,r&&(r[l]=f)}return s}const Sr=Ot;function fn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kn(n){return n[_e]||null}function fr(n,r){const s=n[re]||null;if(!s&&!0===r)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return s}const X=18;function An(n){return Array.isArray(n)&&"object"==typeof n[1]}function Zn(n){return Array.isArray(n)&&!0===n[1]}function Zr(n){return 0!=(8&n.flags)}function Dr(n){return 2==(2&n.flags)}function xi(n){return 1==(1&n.flags)}function Bi(n){return null!==n.template}function Mi(n){return 0!=(512&n[2])}function Fr(n,r){return n.hasOwnProperty(Oe)?n[Oe]:null}class ds{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Pi(){return ji}function ji(n){return n.type.prototype.ngOnChanges&&(n.setInput=Qi),Ns}function Ns(){const n=ri(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Hn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Qi(n,r,s,a){const l=ri(n)||function Es(n,r){return n[Xs]=r}(n,{previous:Hn,current:null}),f=l.current||(l.current={}),v=l.previous,E=this.declaredInputs[s],T=v[E];f[E]=new ds(T&&T.currentValue,r,v===Hn),n[a]=r}Pi.ngInherit=!0;const Xs="__ngSimpleChanges__";function ri(n){return n[Xs]||null}let Ri;function Ni(n){Ri=n}function nr(n){return!!n.listen}const P={createRenderer:(n,r)=>function Jr(){return void 0!==Ri?Ri:"undefined"!=typeof document?document:void 0}()};function O(n){for(;Array.isArray(n);)n=n[0];return n}function ze(n,r){return O(r[n])}function Ze(n,r){return O(r[n.index])}function mn(n,r){return n.data[r]}function pn(n,r){const s=r[n];return An(s)?s:s[0]}function Cn(n){return 4==(4&n[2])}function lr(n){return 128==(128&n[2])}function gr(n,r){return null==r?null:n[r]}function _i(n){n[X]=0}function wi(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const cn={lFrame:ro(null),bindingsEnabled:!0};function M(){return cn.bindingsEnabled}function he(){return cn.lFrame.lView}function ct(){return cn.lFrame.tView}function Nn(n){return cn.lFrame.contextLView=n,n[8]}function Rn(){let n=ui();for(;null!==n&&64===n.type;)n=n.parent;return n}function ui(){return cn.lFrame.currentTNode}function li(n,r){const s=cn.lFrame;s.currentTNode=n,s.isParent=r}function fs(){return cn.lFrame.isParent}function Hs(){return cn.lFrame.bindingIndex++}function Fi(n){const r=cn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Pr(n,r){const s=cn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Uo(r)}function Uo(n){cn.lFrame.currentDirectiveIndex=n}function ea(){return cn.lFrame.currentQueryIndex}function ta(n){cn.lFrame.currentQueryIndex=n}function vo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function _o(n,r,s){if(s&Nt.SkipSelf){let l=r,f=n;for(;!(l=l.parent,null!==l||s&Nt.Host||(l=vo(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;r=l,n=f}const a=cn.lFrame=wo();return a.currentTNode=r,a.lView=n,!0}function ks(n){const r=wo(),s=n[1];cn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function wo(){const n=cn.lFrame,r=null===n?null:n.child;return null===r?ro(n):r}function ro(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ds(){const n=cn.lFrame;return cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const na=Ds;function Fs(){const n=Ds();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return cn.lFrame.selectedIndex}function io(n){cn.lFrame.selectedIndex=n}function Rr(){const n=cn.lFrame;return mn(n.tView,n.selectedIndex)}function so(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:U,ngOnDestroy:W}=f;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),E&&((n.contentHooks||(n.contentHooks=[])).push(s,E),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,E)),T&&(n.viewHooks||(n.viewHooks=[])).push(-s,T),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=W&&(n.destroyHooks||(n.destroyHooks=[])).push(s,W)}}function Ts(n,r,s){Oo(n,r,3,s)}function Gs(n,r,s,a){(3&n[2])===s&&Oo(n,r,s,a)}function Un(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Oo(n,r,s,a){const f=null!=a?a:-1,v=r.length-1;let E=0;for(let T=void 0!==a?65535&n[X]:0;T<v;T++)if("number"==typeof r[T+1]){if(E=r[T],null!=a&&E>=a)break}else r[T]<0&&(n[X]+=65536),(E<f||-1==f)&&(Ho(n,s,r,T),n[X]=(4294901760&n[X])+T+2),T++}function Ho(n,r,s,a){const l=s[a]<0,f=s[a+1],E=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[X]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Ss{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function bo(n,r,s){const a=nr(n);let l=0;for(;l<s.length;){const f=s[l];if("number"==typeof f){if(0!==f)break;l++;const v=s[l++],E=s[l++],T=s[l++];a?n.setAttribute(r,E,T,v):r.setAttributeNS(v,E,T)}else{const v=f,E=s[++l];b(v)?a&&n.setProperty(r,v,E):a?n.setAttribute(r,v,E):r.setAttribute(v,E),l++}}return l}function $i(n){return 3===n||4===n||6===n}function b(n){return 64===n.charCodeAt(0)}function C(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||H(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function H(n,r,s,a,l){let f=0,v=n.length;if(-1===r)v=-1;else for(;f<n.length;){const E=n[f++];if("number"==typeof E){if(E===r){v=-1;break}if(E>r){v=f-1;break}}}for(;f<n.length;){const E=n[f];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==l&&(n[f+1]=l));if(a===n[f+1])return void(n[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==v&&(n.splice(v,0,r),f=v+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==l&&n.splice(f++,0,l)}function le(n){return-1!==n}function st(n){return 32767&n}function mr(n,r){let s=function kt(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let di=!0;function si(n){const r=di;return di=n,r}let Co=0;function Do(n,r){const s=Lr(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,mt(a.data,n),mt(r,null),mt(a.blueprint,null));const l=I(n,r),f=n.injectorIndex;if(le(l)){const v=st(l),E=mr(l,r),T=E[1].data;for(let U=0;U<8;U++)r[f+U]=E[v+U]|T[v+U]}return r[f+8]=l,f}function mt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Lr(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function I(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const f=l[1],v=f.type;if(a=2===v?f.declTNode:1===v?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function w(n,r,s){!function va(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ut)&&(a=s[ut]),null==a&&(a=s[ut]=Co++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function A(n,r,s){if(s&Nt.Optional)return n;Pe(r,"NodeInjector")}function F(n,r,s,a){if(s&Nt.Optional&&void 0===a&&(a=null),0==(s&(Nt.Self|Nt.Host))){const l=n[9],f=zt(void 0);try{return l?l.get(r,a,s&Nt.Optional):Br(r,a,s&Nt.Optional)}finally{zt(f)}}return A(a,r,s)}function j(n,r,s,a=Nt.Default,l){if(null!==n){const f=function Xt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ut)?n[ut]:void 0;return"number"==typeof r?r>=0?255&r:ee:r}(s);if("function"==typeof f){if(!_o(r,n,a))return a&Nt.Host?A(l,s,a):F(r,s,a,l);try{const v=f(a);if(null!=v||a&Nt.Optional)return v;Pe(s)}finally{na()}}else if("number"==typeof f){let v=null,E=Lr(n,r),T=-1,U=a&Nt.Host?r[16][6]:null;for((-1===E||a&Nt.SkipSelf)&&(T=-1===E?I(n,r):r[E+8],-1!==T&&cr(a,!1)?(v=r[1],E=st(T),r=mr(T,r)):E=-1);-1!==E;){const W=r[1];if(rr(f,E,W.data)){const se=We(E,r,s,v,a,U);if(se!==$)return se}T=r[E+8],-1!==T&&cr(a,r[1].data[E+8]===U)&&rr(f,E,r)?(v=W,E=st(T),r=mr(T,r)):E=-1}}}return F(r,s,a,l)}const $={};function ee(){return new Gi(Rn(),he())}function We(n,r,s,a,l,f){const v=r[1],E=v.data[n+8],W=Bt(E,v,s,null==a?Dr(E)&&di:a!=v&&0!=(3&E.type),l&Nt.Host&&f===E);return null!==W?Mn(r,v,W,E):$}function Bt(n,r,s,a,l){const f=n.providerIndexes,v=r.data,E=1048575&f,T=n.directiveStart,W=f>>20,be=l?E+W:n.directiveEnd;for(let Ue=a?E:E+W;Ue<be;Ue++){const ot=v[Ue];if(Ue<T&&s===ot||Ue>=T&&ot.type===s)return Ue}if(l){const Ue=v[T];if(Ue&&Bi(Ue)&&Ue.type===s)return T}return null}function Mn(n,r,s,a){let l=n[s];const f=r.data;if(function Tr(n){return n instanceof Ss}(l)){const v=l;v.resolving&&function vt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${n}${s}`)}(Je(f[s]));const E=si(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?zt(v.injectImpl):null;_o(n,a,Nt.Default);try{l=n[s]=v.factory(void 0,f,n,a),r.firstCreatePass&&s>=a.directiveStart&&function jo(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=r.type.prototype;if(a){const v=ji(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],r)}finally{null!==T&&zt(T),si(E),v.resolving=!1,na()}}return l}function rr(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function cr(n,r){return!(n&Nt.Self||n&Nt.Host&&r)}class Gi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return j(this._tNode,this._lView,r,a,s)}}function zs(n){return Cr(()=>{const r=n.prototype.constructor,s=r[Oe]||Go(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const f=l[Oe]||Go(l);if(f&&f!==s)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Go(n){return rt(n)?()=>{const r=Go(ge(n));return r&&r()}:Fr(n)}function Ha(n){return function y(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const f=s[l];if($i(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(f===r)return s[l+1];l+=2}}}return null}(Rn(),n)}const ra="__parameters__";function _a(n,r,s){return Cr(()=>{const a=function ia(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...f){if(this instanceof l)return a.apply(this,f),this;const v=new l(...f);return E.annotation=v,E;function E(T,U,W){const se=T.hasOwnProperty(ra)?T[ra]:Object.defineProperty(T,ra,{value:[]})[ra];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(v),T}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class gi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Tt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $a=new gi("AnalyzeForEntryComponents");function ps(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),ps(a,r)):r!==n&&r.push(a)}return r}function rs(n,r){n.forEach(s=>Array.isArray(s)?rs(s,r):r(s))}function Lu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Ls(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function hi(n,r,s){let a=qs(n,r);return a>=0?n[1|a]=s:(a=~a,function Rt(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Ea(n,r){const s=qs(n,r);if(s>=0)return n[1|s]}function qs(n,r){return function Vs(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const f=a+(l-a>>1),v=n[f<<s];if(r===v)return f<<s;v>r?l=f:a=f+1}return~(l<<s)}(n,r,1)}const Ia={},pu="__NG_DI_FLAG__",Ga="ngTempTokenPath",R=/\n/gm,ie="__source",Fe=ve({provide:String,useValue:ve});let Ge;function gt(n){const r=Ge;return Ge=n,r}function Qt(n,r=Nt.Default){if(void 0===Ge)throw new Qe(203,"");return null===Ge?Br(n,void 0,r):Ge.get(n,r&Nt.Optional?null:void 0,r)}function nn(n,r=Nt.Default){return(function vn(){return qt}()||Qt)(ge(n),r)}const yr=nn;function yn(n){const r=[];for(let s=0;s<n.length;s++){const a=ge(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Qe(900,"");let l,f=Nt.Default;for(let v=0;v<a.length;v++){const E=a[v],T=zn(E);"number"==typeof T?-1===T?l=E.token:f|=T:l=E}r.push(nn(l,f))}else r.push(nn(a))}return r}function Wi(n,r){return n[pu]=r,n.prototype[pu]=r,n}function zn(n){return n[pu]}const Qn=Wi(_a("Inject",n=>({token:n})),-1),Zs=Wi(_a("Optional"),8),za=Wi(_a("SkipSelf"),4);class Zl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fo(n){return n instanceof Zl?n.changingThisBreaksApplicationSecurity:n}const Gu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ya=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function Qo(n){const r=function wl(){const n=he();return n&&n[12]}();return r?r.sanitize(wn.URL,n)||"":function vu(n,r){const s=function Yl(n){return n instanceof Zl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Fo(n):function oa(n){return(n=String(n)).match(Gu)||n.match(Ya)?n:"unsafe:"+n}($e(n))}const Eu="__ngContext__";function ss(n,r){n[Eu]=r}function Ql(n){const r=function bu(n){return n[Eu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Xa(n){return n.ngOriginalError}function Xc(n,...r){n.error(...r)}class bl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function ua(n){return n&&n.ngErrorLogger||Xc}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Xa(r);for(;s&&Xa(s);)s=Xa(s);return s||null}}const nc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hn))();function g(n){return n instanceof Function?n():n}var J=(()=>((J=J||{})[J.Important=1]="Important",J[J.DashCase=2]="DashCase",J))();function qe(n,r){return undefined(n,r)}function un(n){const r=n[3];return Zn(r)?r[3]:r}function lo(n){return ed(n[13])}function Yu(n){return ed(n[4])}function ed(n){for(;null!==n&&!Zn(n);)n=n[4];return n}function Iu(n,r,s,a,l){if(null!=a){let f,v=!1;Zn(a)?f=a:An(a)&&(v=!0,a=a[0]);const E=O(a);0===n&&null!==s?null==l?ca(r,s,E):eu(r,s,E,l||null,!0):1===n&&null!==s?eu(r,s,E,l||null,!0):2===n?function Hf(n,r,s){const a=tu(n,r);a&&function rd(n,r,s,a){nr(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,E,v):3===n&&r.destroyNode(E),null!=f&&function Il(n,r,s,a,l){const f=s[7];f!==O(s)&&Iu(r,n,a,f,l);for(let E=10;E<s.length;E++){const T=s[E];uc(T[1],T,n,r,a,f)}}(r,n,f,s,l)}}function sc(n,r,s){if(nr(n))return n.createElement(r,s);{const a=null!==s?function Is(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Tg(n,r){const s=n[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,wi(l,-1)),s.splice(a,1)}function ch(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Tg(l,a),r>0&&(n[s-1][4]=a[4]);const f=Ls(n,10+r);!function td(n,r){uc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=f[19];null!==v&&v.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Ag(n,r){if(!(256&r[2])){const s=r[11];nr(s)&&s.destroyNode&&uc(n,r,s,3,null,null),function nd(n){let r=n[13];if(!r)return dh(n[1],n);for(;r;){let s=null;if(An(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)An(r)&&dh(r[1],r),r=r[3];null===r&&(r=n),An(r)&&dh(r[1],r),s=r&&r[4]}r=s}}(r)}}function dh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Sg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Ss)){const f=s[a+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=l[f[v]],T=f[v+1];try{T.call(E)}finally{}}else try{f.call(l)}finally{}}}}(n,r),function Vy(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const v=s[f+1],E="function"==typeof v?v(r):O(r[v]),T=a[l=s[f+2]],U=s[f+3];"boolean"==typeof U?E.removeEventListener(s[f],T,U):U>=0?a[l=U]():a[l=-U].unsubscribe(),f+=2}else{const v=a[l=s[f+1]];s[f].call(v)}if(null!==a){for(let f=l+1;f<a.length;f++)a[f]();r[7]=null}}(n,r),1===r[1].type&&nr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Zn(r[3])){s!==r[3]&&Tg(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Bf(n,r,s){return function et(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===It.None||l===It.Emulated)return null}return Ze(a,s)}(n,r.parent,s)}function eu(n,r,s,a,l){nr(n)?n.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function ca(n,r,s){nr(n)?n.appendChild(r,s):r.appendChild(s)}function xg(n,r,s,a,l){null!==a?eu(n,r,s,a,l):ca(n,r,s)}function tu(n,r){return nr(n)?n.parentNode(r):r.parentNode}let hh=function jf(n,r,s){return 40&n.type?Ze(n,s):null};function oc(n,r,s,a){const l=Bf(n,a,r),f=r[11],E=function Qu(n,r,s){return hh(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let T=0;T<s.length;T++)xg(f,l,s[T],E,!1);else xg(f,l,s,E,!1)}function ac(n,r){if(null!==r){const s=r.type;if(3&s)return Ze(r,n);if(4&s)return nu(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ac(n,a);{const l=n[r.index];return Zn(l)?nu(-1,l):O(l)}}if(32&s)return qe(r,n)()||O(n[r.index]);{const a=ph(n,r);return null!==a?Array.isArray(a)?a[0]:ac(un(n[16]),a):ac(n,r.next)}}return null}function ph(n,r){return null!==r?n[16][6].projection[r.projection]:null}function nu(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return ac(a,l)}return r[7]}function $f(n,r,s,a,l,f,v){for(;null!=s;){const E=a[s.index],T=s.type;if(v&&0===r&&(E&&ss(O(E),a),s.flags|=4),64!=(64&s.flags))if(8&T)$f(n,r,s.child,a,l,f,!1),Iu(r,n,l,E,f);else if(32&T){const U=qe(s,a);let W;for(;W=U();)Iu(r,n,l,W,f);Iu(r,n,l,E,f)}else 16&T?Ju(n,r,a,s,l,f):Iu(r,n,l,E,f);s=v?s.projectionNext:s.next}}function uc(n,r,s,a,l,f){$f(s,a,n.firstChild,r,l,f,!1)}function Ju(n,r,s,a,l,f){const v=s[16],T=v[6].projection[a.projection];if(Array.isArray(T))for(let U=0;U<T.length;U++)Iu(r,n,l,T[U],f);else $f(n,r,T,v[3],l,f,!0)}function cc(n,r,s){nr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function mh(n,r,s){nr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function yh(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=r.length;if(l+f===a||n.charCodeAt(l+f)<=32)return l}s=l+1}}const Gf="ng-template";function By(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==yh(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function zf(n){return 4===n.type&&n.value!==Gf}function Og(n,r,s){return r===(4!==n.type||s?n.value:Gf)}function Wf(n,r,s){let a=4;const l=n.attrs||[],f=function jy(n){for(let r=0;r<n.length;r++)if($i(n[r]))return r;return n.length}(l);let v=!1;for(let E=0;E<r.length;E++){const T=r[E];if("number"!=typeof T){if(!v)if(4&a){if(a=2|1&a,""!==T&&!Og(n,T,s)||""===T&&1===r.length){if(To(a))return!1;v=!0}}else{const U=8&a?T:r[++E];if(8&a&&null!==n.attrs){if(!By(n.attrs,U,s)){if(To(a))return!1;v=!0}continue}const se=Cl(8&a?"class":T,l,zf(n),s);if(-1===se){if(To(a))return!1;v=!0;continue}if(""!==U){let be;be=se>f?"":l[se+1].toLowerCase();const Ue=8&a?be:null;if(Ue&&-1!==yh(Ue,U,0)||2&a&&U!==be){if(To(a))return!1;v=!0}}}}else{if(!v&&!To(a)&&!To(T))return!1;if(v&&To(T))continue;v=!1,a=T|1&a}}return To(a)||v}function To(n){return 0==(1&n)}function Cl(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let f=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=r[++l];for(;"string"==typeof E;)E=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function Hy(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Pg(n,r,s=!1){for(let a=0;a<r.length;a++)if(Wf(n,r[a],s))return!0;return!1}function dc(n,r){return n?":not("+r.trim()+")":r}function Dl(n){let r=n[0],s=1,a=2,l="",f=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const E=n[++s];l+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!To(v)&&(r+=dc(f,l),l=""),a=v,f=f||!To(a);s++}return""!==l&&(r+=dc(f,l)),r}const kn={};function kg(n){vh(ct(),he(),Li()+n,!1)}function vh(n,r,s,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Ts(r,f,s)}else{const f=n.preOrderHooks;null!==f&&Gs(r,f,0,s)}io(s)}function _h(n,r){return n<<17|r<<2}function da(n){return n>>17&32767}function fc(n){return 2|n}function ru(n){return(131068&n)>>2}function co(n,r){return-131069&n|r<<2}function pc(n){return 1|n}function Wg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],f=s[a+1];if(-1!==f){const v=n.data[f];ta(l),v.contentQueries(2,r[f],f)}}}function xl(n,r,s,a,l,f,v,E,T,U){const W=r.blueprint.slice();return W[0]=l,W[2]=140|a,_i(W),W[3]=W[15]=n,W[8]=s,W[10]=v||n&&n[10],W[11]=E||n&&n[11],W[12]=T||n&&n[12]||null,W[9]=U||n&&n[9]||null,W[6]=f,W[16]=2==r.type?n[16]:W,W}function Tu(n,r,s,a,l){let f=n.data[r];if(null===f)f=function Th(n,r,s,a,l){const f=ui(),v=fs(),T=n.data[r]=function Xy(n,r,s,a,l,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=T),null!==f&&(v?null==f.child&&null!==T.parent&&(f.child=T):null===f.next&&(f.next=T)),T}(n,r,s,a,l),function no(){return cn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=a,f.attrs=l;const v=function ki(){const n=cn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return li(f,!0),f}function Ml(n,r,s,a){if(0===s)return-1;const l=r.length;for(let f=0;f<s;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function vc(n,r,s){ks(r);try{const a=n.viewQuery;null!==a&&Ec(1,a,s);const l=n.template;null!==l&&qg(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Wg(n,r),n.staticViewQueries&&Ec(2,n.viewQuery,s);const f=n.components;null!==f&&function yc(n,r){for(let s=0;s<r.length;s++)dp(n,r[s])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Fs()}}function _c(n,r,s,a){const l=r[2];if(256!=(256&l)){ks(r);try{_i(r),function So(n){return cn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&qg(n,r,s,2,a);const v=3==(3&l);if(v){const U=n.preOrderCheckHooks;null!==U&&Ts(r,U,null)}else{const U=n.preOrderHooks;null!==U&&Gs(r,U,0,null),Un(r,0)}if(function dd(n){for(let r=lo(n);null!==r;r=Yu(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],f=l[3];0==(1024&l[2])&&wi(f,1),l[2]|=1024}}}(r),function Nh(n){for(let r=lo(n);null!==r;r=Yu(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];lr(a)&&_c(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Wg(n,r),v){const U=n.contentCheckHooks;null!==U&&Ts(r,U)}else{const U=n.contentHooks;null!==U&&Gs(r,U,1),Un(r,1)}!function zg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)io(~l);else{const f=l,v=s[++a],E=s[++a];Pr(v,f),E(2,r[f])}}}finally{io(-1)}}(n,r);const E=n.components;null!==E&&function mc(n,r){for(let s=0;s<r.length;s++)cp(n,r[s])}(r,E);const T=n.viewQuery;if(null!==T&&Ec(2,T,a),v){const U=n.viewCheckHooks;null!==U&&Ts(r,U)}else{const U=n.viewHooks;null!==U&&Gs(r,U,2),Un(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,wi(r[3],-1))}finally{Fs()}}}function ep(n,r,s,a){const l=r[10],v=Cn(r);try{!v&&l.begin&&l.begin(),v&&vc(n,r,a),_c(n,r,s,a)}finally{!v&&l.end&&l.end()}}function qg(n,r,s,a,l){const f=Li(),v=2&a;try{io(-1),v&&r.length>20&&vh(n,r,20,!1),s(a,l)}finally{io(f)}}function tp(n,r,s){!M()||(function tv(n,r,s,a){const l=s.directiveStart,f=s.directiveEnd;n.firstCreatePass||Do(s,r),ss(a,r);const v=s.initialInputs;for(let E=l;E<f;E++){const T=n.data[E],U=Bi(T);U&&rv(r,s,T);const W=Mn(r,n,E,s);ss(W,r),null!==v&&ld(0,E-l,W,T,0,v),U&&(pn(s.index,r)[8]=W)}}(n,r,s,Ze(s,r)),128==(128&s.flags)&&function nv(n,r,s){const a=s.directiveStart,l=s.directiveEnd,v=s.index,E=function Xo(){return cn.lFrame.currentDirectiveIndex}();try{io(v);for(let T=a;T<l;T++){const U=n.data[T],W=r[T];Uo(T),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&op(U,W)}}finally{io(-1),Uo(E)}}(n,r,s))}function np(n,r,s=Ze){const a=r.localNames;if(null!==a){let l=r.index+1;for(let f=0;f<a.length;f+=2){const v=a[f+1],E=-1===v?s(r,n):n[v];n[l++]=E}}}function Sh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=os(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function os(n,r,s,a,l,f,v,E,T,U){const W=20+a,se=W+l,be=function Jy(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:kn);return s}(W,se),Ue="function"==typeof U?U():U;return be[1]={type:n,blueprint:be,template:s,queries:null,viewQuery:E,declTNode:r,data:be.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:Ue,incompleteFirstPass:!1}}function Yg(n,r,s,a){const l=Ol(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&Vh(n).push(a,l.length-1))}function xh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Ao(n,r,s,a,l,f,v,E){const T=Ze(r,s);let W,U=r.inputs;!E&&null!=U&&(W=U[a])?(pp(n,s,W,a,l),Dr(r)&&function Mh(n,r){const s=pn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Jg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,nr(f)?f.setProperty(T,a,l):b(a)||(T.setProperty?T.setProperty(a,l):T[a]=l))}function ip(n,r,s,a){let l=!1;if(M()){const f=function Ph(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let f=0;f<a.length;f++){const v=a[f];Pg(s,v.selectors,!1)&&(l||(l=[]),w(Do(s,r),n,v.type),Bi(v)?(wc(n,s),l.unshift(v)):l.push(v))}return l}(n,r,s),v=null===a?null:{"":-1};if(null!==f){l=!0,rm(s,n.data.length,f.length);for(let W=0;W<f.length;W++){const se=f[W];se.providersResolver&&se.providersResolver(se)}let E=!1,T=!1,U=Ml(n,r,f.length,null);for(let W=0;W<f.length;W++){const se=f[W];s.mergedAttrs=C(s.mergedAttrs,se.hostAttrs),im(n,s,r,U,se),nm(U,se,v),null!==se.contentQueries&&(s.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=128);const be=se.type.prototype;!E&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),E=!0),!T&&(be.ngOnChanges||be.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),U++}!function Qg(n,r){const a=r.directiveEnd,l=n.data,f=r.attrs,v=[];let E=null,T=null;for(let U=r.directiveStart;U<a;U++){const W=l[U],se=W.inputs,be=null===f||zf(r)?null:lp(se,f);v.push(be),E=xh(se,U,E),T=xh(W.outputs,U,T)}null!==E&&(E.hasOwnProperty("class")&&(r.flags|=16),E.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=E,r.outputs=T}(n,s)}v&&function ap(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const f=s[r[l+1]];if(null==f)throw new Qe(-301,!1);a.push(r[l],f)}}}(s,a,v)}return s.mergedAttrs=C(s.mergedAttrs,s.attrs),l}function sp(n,r,s,a,l,f){const v=f.hostBindings;if(v){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const T=~r.index;(function ev(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(E)!=T&&E.push(T),E.push(a,l,v)}}function op(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function wc(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function nm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Bi(r)&&(s[""]=n)}}function rm(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function im(n,r,s,a,l){n.data[a]=l;const f=l.factory||(l.factory=Fr(l.type)),v=new Ss(f,Bi(l),null);n.blueprint[a]=v,s[a]=v,sp(n,r,0,a,Ml(n,s,l.hostVars,kn),l)}function rv(n,r,s){const a=Ze(r,n),l=Sh(s),f=n[10],v=Ma(n,xl(n,l,null,s.onPush?64:16,a,r,f,f.createRenderer(a,s),null,null));n[r.index]=v}function su(n,r,s,a,l,f){const v=Ze(n,r);!function up(n,r,s,a,l,f,v){if(null==f)nr(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const E=null==v?$e(f):v(f,a||"",l);nr(n)?n.setAttribute(r,l,E,s):s?r.setAttributeNS(s,l,E):r.setAttribute(l,E)}}(r[11],v,f,n.value,s,a,l)}function ld(n,r,s,a,l,f){const v=f[r];if(null!==v){const E=a.setInput;for(let T=0;T<v.length;){const U=v[T++],W=v[T++],se=v[T++];null!==E?a.setInput(s,se,U,W):s[W]=se}}}function lp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Rh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function cp(n,r){const s=pn(r,n);if(lr(s)){const a=s[1];80&s[2]?_c(a,s,a.template,s[8]):s[5]>0&&kh(s)}}function kh(n){for(let a=lo(n);null!==a;a=Yu(a))for(let l=10;l<a.length;l++){const f=a[l];if(1024&f[2]){const v=f[1];_c(v,f,v.template,f[8])}else f[5]>0&&kh(f)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=pn(s[a],n);lr(l)&&l[5]>0&&kh(l)}}function dp(n,r){const s=pn(r,n),a=s[1];(function hp(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),vc(a,s,s[8])}function Ma(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Fh(n){for(;n;){n[2]|=64;const r=un(n);if(Mi(n)&&!r)return n;n=r}return null}function Lh(n){!function hd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=Ql(s),l=a[1];ep(l,a,l.template,s)}}(n[8])}function Ec(n,r,s){ta(0),r(n,s)}const am=(()=>Promise.resolve(null))();function Ol(n){return n[7]||(n[7]=[])}function Vh(n){return n.cleanup||(n.cleanup=[])}function lm(n,r){const s=n[9],a=s?s.get(bl,null):null;a&&a.handleError(r)}function pp(n,r,s,a,l){for(let f=0;f<s.length;){const v=s[f++],E=s[f++],T=r[v],U=n.data[v];null!==U.setInput?U.setInput(T,l,a,E):T[E]=l}}function ou(n,r,s){const a=ze(r,n);!function ic(n,r,s){nr(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Uh(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,f=0;if(null!==r)for(let v=0;v<r.length;v++){const E=r[v];"number"==typeof E?f=E:1==f?l=ke(l,E):2==f&&(a=ke(a,E+": "+r[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}const mp=new gi("INJECTOR",-1);class Bh{get(r,s=Ia){if(s===Ia){const a=new Error(`NullInjectorError: No provider for ${Te(r)}!`);throw a.name="NullInjectorError",a}return s}}const yp=new gi("Set Injector scope."),Pl={},dm={};let fd;function jh(){return void 0===fd&&(fd=new Bh),fd}function Hh(n,r=null,s=null,a){const l=Rl(n,r,s,a);return l._resolveInjectorDefTypes(),l}function Rl(n,r=null,s=null,a){return new tl(n,s,r||jh(),a)}class tl{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];s&&rs(s,E=>this.processProvider(E,r,s)),rs([r],E=>this.processInjectorType(E,[],f)),this.records.set(mp,Oa(void 0,this));const v=this.records.get(yp);this.scope=null!=v?v.value:null,this.source=l||("object"==typeof r?null:Te(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Ia,a=Nt.Default){this.assertNotDestroyed();const l=gt(this),f=zt(void 0);try{if(!(a&Nt.SkipSelf)){let E=this.records.get(r);if(void 0===E){const T=function uv(n){return"function"==typeof n||"object"==typeof n&&n instanceof gi}(r)&&dn(r);E=T&&this.injectableDefInScope(T)?Oa(pd(r),Pl):null,this.records.set(r,E)}if(null!=E)return this.hydrate(r,E)}return(a&Nt.Self?jh():this.parent).get(r,s=a&Nt.Optional&&s===Ia?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Ga]=v[Ga]||[]).unshift(Te(r)),l)throw v;return function Zo(n,r,s,a){const l=n[Ga];throw r[ie]&&l.unshift(r[ie]),n.message=function mi(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Te(r);if(Array.isArray(r))l=r.map(Te).join(" -> ");else if("object"==typeof r){let f=[];for(let v in r)if(r.hasOwnProperty(v)){let E=r[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):Te(E)))}l=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[Ga]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{zt(f),gt(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Te(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(r,s,a){if(!(r=ge(r)))return!1;let l=Ln(r);const f=null==l&&r.ngModule||void 0,v=void 0===f?r:f,E=-1!==a.indexOf(v);if(void 0!==f&&(l=Ln(f)),null==l)return!1;if(null!=l.imports&&!E){let W;a.push(v);try{rs(l.imports,se=>{this.processInjectorType(se,s,a)&&(void 0===W&&(W=[]),W.push(se))})}finally{}if(void 0!==W)for(let se=0;se<W.length;se++){const{ngModule:be,providers:Ue}=W[se];rs(Ue,ot=>this.processProvider(ot,be,Ue||ce))}}this.injectorDefTypes.add(v);const T=Fr(v)||(()=>new v);this.records.set(v,Oa(T,Pl));const U=l.providers;if(null!=U&&!E){const W=r;rs(U,se=>this.processProvider(se,W,U))}return void 0!==f&&void 0!==r.providers}processProvider(r,s,a){let l=nl(r=ge(r))?r:ge(r&&r.provide);const f=function Ic(n,r,s){return hm(n)?Oa(void 0,n.useValue):Oa(vp(n),Pl)}(r);if(nl(r)||!0!==r.multi)this.records.get(l);else{let v=this.records.get(l);v||(v=Oa(void 0,Pl,!0),v.factory=()=>yn(v.multi),this.records.set(l,v)),l=r,v.multi.push(r)}this.records.set(l,f)}hydrate(r,s){return s.value===Pl&&(s.value=dm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function av(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ge(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function pd(n){const r=dn(n),s=null!==r?r.factory:Fr(n);if(null!==s)return s;if(n instanceof gi)throw new Qe(204,!1);if(n instanceof Function)return function bc(n){const r=n.length;if(r>0)throw function Ws(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Qe(204,!1);const s=function Pn(n){const r=n&&(n[Jn]||n[or]);if(r){const s=function sr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Qe(204,!1)}function vp(n,r,s){let a;if(nl(n)){const l=ge(n);return Fr(l)||pd(l)}if(hm(n))a=()=>ge(n.useValue);else if(function _p(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...yn(n.deps||[]));else if(function ov(n){return!(!n||!n.useExisting)}(n))a=()=>nn(ge(n.useExisting));else{const l=ge(n&&(n.useClass||n.provide));if(!function Ep(n){return!!n.deps}(n))return Fr(l)||pd(l);a=()=>new l(...yn(n.deps))}return a}function Oa(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function hm(n){return null!==n&&"object"==typeof n&&Fe in n}function nl(n){return"function"==typeof n}let ha=(()=>{class n{static create(s,a){var l;if(Array.isArray(s))return Hh({name:""},a,s,"");{const f=null!==(l=s.name)&&void 0!==l?l:"";return Hh({name:f},s.parent,s.providers,f)}}}return n.THROW_IF_NOT_FOUND=Ia,n.NULL=new Bh,n.\u0275prov=Tt({token:n,providedIn:"any",factory:()=>nn(mp)}),n.__NG_ELEMENT_ID__=-1,n})();function Ap(n,r){so(Ql(n)[1],Rn())}function yd(n){let r=function zh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Bi(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Qe(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const v=n;v.inputs=rl(n.inputs),v.declaredInputs=rl(n.declaredInputs),v.outputs=rl(n.outputs);const E=l.hostBindings;E&&dv(n,E);const T=l.viewQuery,U=l.contentQueries;if(T&&Dm(n,T),U&&xp(n,U),Me(n.inputs,l.inputs),Me(n.declaredInputs,l.declaredInputs),Me(n.outputs,l.outputs),Bi(l)&&l.data.animation){const W=n.data;W.animation=(W.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(n),E===yd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=C(l.hostAttrs,s=C(s,l.hostAttrs))}}(a)}function rl(n){return n===Hn?{}:n===ce?[]:n}function Dm(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function xp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,f)=>{r(a,l,f),s(a,l,f)}:r}function dv(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Wh=null;function il(){if(!Wh){const n=hn.Symbol;if(n&&n.iterator)Wh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Wh=a)}}}return Wh}function vd(n){return!!_d(n)&&(Array.isArray(n)||!(n instanceof Map)&&il()in n)}function _d(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ho(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function qh(n,r,s,a){const l=he();return ho(l,Hs(),r)&&(ct(),su(Rr(),l,n,r,s,a)),qh}function Dc(n,r,s,a){return ho(n,Hs(),s)?r+$e(s)+a:kn}function sl(n,r,s,a,l,f){const E=function Su(n,r,s,a){const l=ho(n,r,s);return ho(n,r+1,a)||l}(n,function Hi(){return cn.lFrame.bindingIndex}(),s,l);return Fi(2),E?r+$e(s)+a+$e(l)+f:kn}function Zh(n,r,s,a,l,f,v,E){const T=he(),U=ct(),W=n+20,se=U.firstCreatePass?function Om(n,r,s,a,l,f,v,E,T){const U=r.consts,W=Tu(r,n,4,v||null,gr(U,E));ip(r,s,W,gr(U,T)),so(r,W);const se=W.tViews=os(2,W,a,l,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,W),se.queries=r.queries.embeddedTView(W)),W}(W,U,T,r,s,a,l,f,v):U.data[W];li(se,!1);const be=T[11].createComment("");oc(U,T,be,se),ss(be,T),Ma(T,T[W]=Rh(be,T,be,se)),xi(se)&&tp(U,T,se),null!=v&&np(T,se,E)}function Yh(n){return function Vn(n,r){return n[r]}(function La(){return cn.lFrame.contextLView}(),20+n)}function Dd(n,r=Nt.Default){const s=he();return null===s?nn(n,r):j(Rn(),s,ge(n),r)}function Ci(){throw new Error("invalid")}function Bm(n,r,s){const a=he();return ho(a,Hs(),r)&&Ao(ct(),Rr(),a,n,r,a[11],s,!1),Bm}function jm(n,r,s,a,l){const v=l?"class":"style";pp(n,s,r.inputs[v],v,a)}function Td(n,r,s,a){const l=he(),f=ct(),v=20+n,E=l[11],T=l[v]=sc(E,r,function Ba(){return cn.lFrame.currentNamespace}()),U=f.firstCreatePass?function ms(n,r,s,a,l,f,v){const E=r.consts,U=Tu(r,n,2,l,gr(E,f));return ip(r,s,U,gr(E,v)),null!==U.attrs&&Uh(U,U.attrs,!1),null!==U.mergedAttrs&&Uh(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(v,f,l,0,r,s,a):f.data[v];li(U,!0);const W=U.mergedAttrs;null!==W&&bo(E,T,W);const se=U.classes;null!==se&&mh(E,T,se);const be=U.styles;return null!==be&&cc(E,T,be),64!=(64&U.flags)&&oc(f,l,T,U),0===function hs(){return cn.lFrame.elementDepthCount}()&&ss(T,l),function to(){cn.lFrame.elementDepthCount++}(),xi(U)&&(tp(f,l,U),function Ah(n,r,s){if(Zr(r)){const l=r.directiveEnd;for(let f=r.directiveStart;f<l;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,s[f],f)}}}(f,U,l)),null!==a&&np(l,U),Td}function nf(){let n=Rn();fs()?function yo(){cn.lFrame.isParent=!1}():(n=n.parent,li(n,!1));const r=n;!function N(){cn.lFrame.elementDepthCount--}();const s=ct();return s.firstCreatePass&&(so(s,n),Zr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ja(n){return 0!=(16&n.flags)}(r)&&jm(s,r,he(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function $o(n){return 0!=(32&n.flags)}(r)&&jm(s,r,he(),r.stylesWithoutHost,!1),nf}function Wp(n,r,s,a){return Td(n,r,s,a),nf(),Wp}function Iv(){return he()}function Zp(n){return!!n&&"function"==typeof n.then}function $m(n){return!!n&&"function"==typeof n.subscribe}const Yp=$m;function Ra(n,r,s,a){const l=he(),f=ct(),v=Rn();return function ll(n,r,s,a,l,f,v,E){const T=xi(a),W=n.firstCreatePass&&Vh(n),se=r[8],be=Ol(r);let Ue=!0;if(3&a.type||E){const jt=Ze(a,r),ln=E?E(jt):jt,ht=be.length,In=E?br=>E(O(br[a.index])):a.index;if(nr(s)){let br=null;if(!E&&T&&(br=function uu(n,r,s,a){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===s&&l[f+1]===a){const E=r[7],T=l[f+2];return E.length>T?E[T]:null}"string"==typeof v&&(f+=2)}return null}(n,r,l,a.index)),null!==br)(br.__ngLastListenerFn__||br).__ngNextListenerFn__=f,br.__ngLastListenerFn__=f,Ue=!1;else{f=Qp(a,r,se,f,!1);const ai=s.listen(ln,l,f);be.push(f,ai),W&&W.push(l,In,ht,ht+1)}}else f=Qp(a,r,se,f,!0),ln.addEventListener(l,f,v),be.push(f),W&&W.push(l,In,ht,v)}else f=Qp(a,r,se,f,!1);const ot=a.outputs;let Mt;if(Ue&&null!==ot&&(Mt=ot[l])){const jt=Mt.length;if(jt)for(let ln=0;ln<jt;ln+=2){const ka=r[Mt[ln]][Mt[ln+1]].subscribe(f),Vd=be.length;be.push(f,ka),W&&W.push(l,a.index,Vd,-(Vd+1))}}}(f,l,l[11],v,n,r,!!s,a),Ra}function Ad(n,r,s,a){try{return!1!==s(a)}catch(l){return lm(n,l),!1}}function Qp(n,r,s,a,l){return function f(v){if(v===Function)return a;const E=2&n.flags?pn(n.index,r):r;0==(32&r[2])&&Fh(E);let T=Ad(r,0,a,v),U=f.__ngNextListenerFn__;for(;U;)T=Ad(r,0,U,v)&&T,U=U.__ngNextListenerFn__;return l&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Gm(n=1){return function ma(n){return(cn.lFrame.contextLView=function $s(n,r){for(;n>0;)r=r[15],n--;return r}(n,cn.lFrame.contextLView))[8]}(n)}function Jp(n,r,s){return xu(n,"",r,"",s),Jp}function xu(n,r,s,a,l){const f=he(),v=Dc(f,r,s,a);return v!==kn&&Ao(ct(),Rr(),f,n,v,f[11],l,!1),xu}function eg(n,r,s,a,l){const f=n[s+1],v=null===r;let E=a?da(f):ru(f),T=!1;for(;0!==E&&(!1===T||v);){const W=n[E+1];Jm(n[E],r)&&(T=!0,n[E+1]=a?pc(W):fc(W)),E=a?da(W):ru(W)}T&&(n[s+1]=a?fc(f):pc(f))}function Jm(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&qs(n,r)>=0}function Bl(n,r){return function Na(n,r,s,a){const l=he(),f=ct(),v=Fi(2);f.firstUpdatePass&&function ry(n,r,s,a){const l=n.data;if(null===l[s+1]){const f=l[Li()],v=function ny(n,r){return r>=n.expandoStartIndex}(n,s);(function ly(n,r){return 0!=(n.flags&(r?16:32))})(f,a)&&null===r&&!v&&(r=!1),r=function iy(n,r,s,a){const l=function Mo(n){const r=cn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Md(s=ng(null,n,r,s,a),r.attrs,a),f=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(s=ng(l,n,r,s,a),null===f){let T=function xv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ru(a))return n[da(a)]}(n,r,a);void 0!==T&&Array.isArray(T)&&(T=ng(null,n,r,T[1],a),T=Md(T,r.attrs,a),function Mv(n,r,s,a){n[da(s?r.classBindings:r.styleBindings)]=a}(n,r,a,T))}else f=function sy(n,r,s){let a;const l=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<l;f++)a=Md(a,n[f].hostAttrs,s);return Md(a,r.attrs,s)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),s}(l,f,r,a),function Qm(n,r,s,a,l,f){let v=f?r.classBindings:r.styleBindings,E=da(v),T=ru(v);n[a]=s;let W,U=!1;if(Array.isArray(s)){const se=s;W=se[1],(null===W||qs(se,W)>0)&&(U=!0)}else W=s;if(l)if(0!==T){const be=da(n[E+1]);n[a+1]=_h(be,E),0!==be&&(n[be+1]=co(n[be+1],a)),n[E+1]=function wh(n,r){return 131071&n|r<<17}(n[E+1],a)}else n[a+1]=_h(E,0),0!==E&&(n[E+1]=co(n[E+1],a)),E=a;else n[a+1]=_h(T,0),0===E?E=a:n[T+1]=co(n[T+1],a),T=a;U&&(n[a+1]=fc(n[a+1])),eg(n,W,a,!0),eg(n,W,a,!1),function Vl(n,r,s,a,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&qs(f,r)>=0&&(s[a+1]=pc(s[a+1]))}(r,W,n,a,f),v=_h(E,T),f?r.classBindings=v:r.styleBindings=v}(l,f,r,s,v,a)}}(f,n,v,a),r!==kn&&ho(l,v,r)&&function ig(n,r,s,a,l,f,v,E){if(!(3&r.type))return;const T=n.data,U=T[E+1];Oc(function qf(n){return 1==(1&n)}(U)?uy(T,r,s,l,ru(U),v):void 0)||(Oc(f)||function hc(n){return 2==(2&n)}(U)&&(f=uy(T,null,s,l,E,v)),function lc(n,r,s,a,l){const f=nr(n);if(r)l?f?n.addClass(s,a):s.classList.add(a):f?n.removeClass(s,a):s.classList.remove(a);else{let v=-1===a.indexOf("-")?void 0:J.DashCase;if(null==l)f?n.removeStyle(s,a,v):s.style.removeProperty(a);else{const E="string"==typeof l&&l.endsWith("!important");E&&(l=l.slice(0,-10),v|=J.Important),f?n.setStyle(s,a,l,v):s.style.setProperty(a,l,E?"important":"")}}}(a,v,ze(Li(),s),l,f))}(f,f.data[Li()],l,l[11],n,l[v+1]=function lf(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Te(Fo(n)))),n}(r,s),a,v)}(n,r,null,!0),Bl}function ng(n,r,s,a,l){let f=null;const v=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<v&&(f=r[E],a=Md(a,f.hostAttrs,l),f!==n);)E++;return null!==n&&(s.directiveStylingLast=E),a}function Md(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let f=0;f<r.length;f++){const v=r[f];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),hi(n,v,!!s||r[++f]))}return void 0===n?null:n}function uy(n,r,s,a,l,f){const v=null===r;let E;for(;l>0;){const T=n[l],U=Array.isArray(T),W=U?T[1]:T,se=null===W;let be=s[l+1];be===kn&&(be=se?ce:void 0);let Ue=se?Ea(be,a):W===a?be:void 0;if(U&&!Oc(Ue)&&(Ue=Ea(T,a)),Oc(Ue)&&(E=Ue,v))return E;const ot=n[l+1];l=v?da(ot):ru(ot)}if(null!==r){let T=f?r.residualClasses:r.residualStyles;null!=T&&(E=Ea(T,a))}return E}function Oc(n){return void 0!==n}function sg(n,r=""){const s=he(),a=ct(),l=n+20,f=a.firstCreatePass?Tu(a,l,1,r,null):a.data[l],v=s[l]=function rc(n,r){return nr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);oc(a,s,v,f),li(f,!1)}function cf(n,r,s){const a=he(),l=Dc(a,n,r,s);return l!==kn&&ou(a,Li(),l),cf}function Ru(n,r,s,a,l){const f=he(),v=sl(f,n,r,s,a,l);return v!==kn&&ou(f,Li(),v),Ru}const dl=void 0;var ga=["en",[["a","p"],["AM","PM"],dl],[["AM","PM"],dl,dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dl,"{1} 'at' {0}",dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jl(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ys={};function ff(n){const r=function kc(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=po(r);if(s)return s;const a=r.split("-")[0];if(s=po(a),s)return s;if("en"===a)return ga;throw new Error(`Missing locale data for the locale "${n}".`)}function Nc(n){return ff(n)[En.PluralCase]}function po(n){return n in ys||(ys[n]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[n]),ys[n]}var En=(()=>((En=En||{})[En.LocaleId=0]="LocaleId",En[En.DayPeriodsFormat=1]="DayPeriodsFormat",En[En.DayPeriodsStandalone=2]="DayPeriodsStandalone",En[En.DaysFormat=3]="DaysFormat",En[En.DaysStandalone=4]="DaysStandalone",En[En.MonthsFormat=5]="MonthsFormat",En[En.MonthsStandalone=6]="MonthsStandalone",En[En.Eras=7]="Eras",En[En.FirstDayOfWeek=8]="FirstDayOfWeek",En[En.WeekendRange=9]="WeekendRange",En[En.DateFormat=10]="DateFormat",En[En.TimeFormat=11]="TimeFormat",En[En.DateTimeFormat=12]="DateTimeFormat",En[En.NumberSymbols=13]="NumberSymbols",En[En.NumberFormats=14]="NumberFormats",En[En.CurrencyCode=15]="CurrencyCode",En[En.CurrencySymbol=16]="CurrencySymbol",En[En.CurrencyName=17]="CurrencyName",En[En.Currencies=18]="Currencies",En[En.Directionality=19]="Directionality",En[En.PluralCase=20]="PluralCase",En[En.ExtraData=21]="ExtraData",En))();const cu="en-US";let wy=cu;function Qv(n,r,s,a,l){if(n=ge(n),Array.isArray(n))for(let f=0;f<n.length;f++)Qv(n[f],r,s,a,l);else{const f=ct(),v=he();let E=nl(n)?n:ge(n.provide),T=vp(n);const U=Rn(),W=1048575&U.providerIndexes,se=U.directiveStart,be=U.providerIndexes>>20;if(nl(n)||!n.multi){const Ue=new Ss(T,l,Dd),ot=Xv(E,r,l?W:W+be,se);-1===ot?(w(Do(U,v),f,E),Jv(f,n,r.length),r.push(E),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),s.push(Ue),v.push(Ue)):(s[ot]=Ue,v[ot]=Ue)}else{const Ue=Xv(E,r,W+be,se),ot=Xv(E,r,W,W+be),Mt=Ue>=0&&s[Ue],jt=ot>=0&&s[ot];if(l&&!jt||!l&&!Mt){w(Do(U,v),f,E);const ln=function uE(n,r,s,a,l){const f=new Ss(n,s,Dd);return f.multi=[],f.index=r,f.componentProviders=0,g0(f,l,a&&!s),f}(l?aE:oE,s.length,l,a,T);!l&&jt&&(s[ot].providerFactory=ln),Jv(f,n,r.length,0),r.push(E),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),s.push(ln),v.push(ln)}else Jv(f,n,Ue>-1?Ue:ot,g0(s[l?ot:Ue],T,!l&&a));!l&&a&&jt&&s[ot].componentProviders++}}}function Jv(n,r,s,a){const l=nl(r),f=function wp(n){return!!n.useClass}(r);if(l||f){const T=(f?ge(r.useClass):r).prototype.ngOnDestroy;if(T){const U=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const W=U.indexOf(s);-1===W?U.push(s,[a,T]):U[W+1].push(a,T)}else U.push(s,T)}}}function g0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Xv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function oE(n,r,s,a){return e_(this.multi,[])}function aE(n,r,s,a){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Mn(s,s[1],this.providerFactory.index,a);f=E.slice(0,v),e_(l,f);for(let T=v;T<E.length;T++)f.push(E[T])}else f=[],e_(l,f);return f}function e_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function m0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function sE(n,r,s){const a=ct();if(a.firstCreatePass){const l=Bi(n);Qv(s,a.data,a.blueprint,l,!0),Qv(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class y0{}class dE{resolveComponentFactory(r){throw function cE(n){const r=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Sy=(()=>{class n{}return n.NULL=new dE,n})();function hE(){return _f(Rn(),he())}function _f(n,r){return new yg(Ze(n,r))}let yg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=hE,n})();function fE(n){return n instanceof yg?n.nativeElement:n}class _0{}let pE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mE(){const n=he(),s=pn(Rn().index,n);return function gE(n){return n[11]}(An(s)?s:n)}(),n})(),yE=(()=>{class n{}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:()=>null}),n})();class w0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const E0=new w0("13.3.10"),t_={};function xy(n,r,s,a,l=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&a.push(O(f)),Zn(f))for(let E=10;E<f.length;E++){const T=f[E],U=T[1].firstChild;null!==U&&xy(T[1],T,U,a)}const v=s.type;if(8&v)xy(n,r,s.child,a);else if(32&v){const E=qe(s,r);let T;for(;T=E();)a.push(T)}else if(16&v){const E=ph(r,s);if(Array.isArray(E))a.push(...E);else{const T=un(r[16]);xy(T[1],T,E,a,!0)}}s=l?s.projectionNext:s.next}return a}class vg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return xy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Zn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(ch(r,a),Ls(s,a))}this._attachedToViewContainer=!1}Ag(this._lView[1],this._lView)}onDestroy(r){Yg(this._lView[1],this._lView,null,r)}markForCheck(){Fh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function fp(n,r,s){const a=r[10];a.begin&&a.begin();try{_c(n,r,n.template,s)}catch(l){throw lm(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vf(n,r){uc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=r}}class vE extends vg{constructor(r){super(r),this._view=r}detectChanges(){Lh(this._view)}checkNoChanges(){}get context(){return null}}class b0 extends Sy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Kn(r);return new n_(s,this.ngModule)}}function I0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class n_ extends y0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Tl(n){return n.map(Dl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return I0(this.componentDef.inputs)}get outputs(){return I0(this.componentDef.outputs)}create(r,s,a,l){const f=(l=l||this.ngModule)?function wE(n,r){return{get:(s,a,l)=>{const f=n.get(s,t_,l);return f!==t_||a===t_?f:r.get(s,a,l)}}}(r,l.injector):r,v=f.get(_0,P),E=f.get(yE,null),T=v.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",W=a?function Zg(n,r,s){if(nr(n))return n.selectRootElement(r,s===It.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(T,a,this.componentDef.encapsulation):sc(v.createRenderer(null,this.componentDef),U,function _E(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(U)),se=this.componentDef.onPush?576:528,be=function Cm(n,r){return{components:[],scheduler:n||nc,clean:am,playerHandler:r||null,flags:0}}(),Ue=os(0,null,null,1,0,null,null,null,null,null),ot=xl(null,Ue,be,se,null,null,v,T,E,f);let Mt,jt;ks(ot);try{const ln=function Im(n,r,s,a,l,f){const v=s[1];s[20]=n;const T=Tu(v,20,2,"#host",null),U=T.mergedAttrs=r.hostAttrs;null!==U&&(Uh(T,U,!0),null!==n&&(bo(l,n,U),null!==T.classes&&mh(l,n,T.classes),null!==T.styles&&cc(l,n,T.styles)));const W=a.createRenderer(n,r),se=xl(s,Sh(r),null,r.onPush?64:16,s[20],T,a,W,f||null,null);return v.firstCreatePass&&(w(Do(T,s),v,r.type),wc(v,T),rm(T,s.length,1)),Ma(s,se),s[20]=se}(W,this.componentDef,ot,v,T);if(W)if(a)bo(T,W,["ng-version",E0.full]);else{const{attrs:ht,classes:In}=function Ng(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===l?""!==f&&r.push(f,n[++a]):8===l&&s.push(f);else{if(!To(l))break;l=f}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);ht&&bo(T,W,ht),In&&In.length>0&&mh(T,W,In.join(" "))}if(jt=mn(Ue,20),void 0!==s){const ht=jt.projection=[];for(let In=0;In<this.ngContentSelectors.length;In++){const br=s[In];ht.push(null!=br?Array.from(br):null)}}Mt=function Gh(n,r,s,a,l){const f=s[1],v=function tm(n,r,s){const a=Rn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),im(n,a,r,Ml(n,r,1,null),s));const l=Mn(r,n,a.directiveStart,a);ss(l,r);const f=Ze(a,r);return f&&ss(f,r),l}(f,s,r);if(a.components.push(v),n[8]=v,l&&l.forEach(T=>T(v,r)),r.contentQueries){const T=Rn();r.contentQueries(1,v,T.directiveStart)}const E=Rn();return!f.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(io(E.index),sp(s[1],E,0,E.directiveStart,E.directiveEnd,r),op(r,v)),v}(ln,this.componentDef,ot,be,[Ap]),vc(Ue,ot,null)}finally{Fs()}return new bE(this.componentType,Mt,_f(jt,ot),ot,jt)}}class bE extends class lE{}{constructor(r,s,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new vE(l),this.componentType=r}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class wf{}class C0{}const Ef=new Map;class A0 extends wf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const a=fr(r);this._bootstrapComponents=g(a.bootstrap),this._r3Injector=Rl(r,s,[{provide:wf,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver}],Te(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=ha.THROW_IF_NOT_FOUND,a=Nt.Default){return r===ha||r===wf||r===mp?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class r_ extends C0{constructor(r){super(),this.moduleType=r,null!==fr(r)&&function CE(n){const r=new Set;!function s(a){const l=fr(a,!0),f=l.id;null!==f&&(function D0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Te(r)} vs ${Te(r.name)}`)}(f,Ef.get(f),a),Ef.set(f,a));const v=g(l.imports);for(const E of v)r.has(E)||(r.add(E),s(E))}(n)}(r)}create(r){return new A0(this.moduleType,r)}}function i_(n){return r=>{setTimeout(n,void 0,r)}}const hl=class HE extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,f,v;let E=r,T=s||(()=>null),U=a;if(r&&"object"==typeof r){const se=r;E=null===(l=se.next)||void 0===l?void 0:l.bind(se),T=null===(f=se.error)||void 0===f?void 0:f.bind(se),U=null===(v=se.complete)||void 0===v?void 0:v.bind(se)}this.__isAsync&&(T=i_(T),E&&(E=i_(E)),U&&(U=i_(U)));const W=super.subscribe({next:E,error:T,complete:U});return r instanceof k.w0&&r.add(W),W}};function $E(){return this._results[il()]()}class s_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=il(),a=s_.prototype;a[s]||(a[s]=$E)}get changes(){return this._changes||(this._changes=new hl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=ps(r);(this._changesDetected=!function fl(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],f=r[a];if(s&&(l=s(l),f=s(f)),f!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Eg=(()=>{class n{}return n.__NG_ELEMENT_ID__=WE,n})();const GE=Eg,zE=class extends GE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=xl(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(s)),vc(s,a,r),new vg(a)}};function WE(){return My(Rn(),he())}function My(n,r){return 4&n.type?new zE(r,n,_f(n,r)):null}let Oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=qE,n})();function qE(){return k0(Rn(),he())}const KE=Oy,R0=class extends KE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return _f(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){const r=I(this._hostTNode,this._hostLView);if(le(r)){const s=mr(r,this._hostLView),a=st(r);return new Gi(s[1].data[a+8],s)}return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=N0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,f){const v=r&&!function Xr(n){return"function"==typeof n}(r);let E;if(v)E=s;else{const se=s||{};E=se.index,a=se.injector,l=se.projectableNodes,f=se.ngModuleRef}const T=v?r:new n_(Kn(r)),U=a||this.parentInjector;if(!f&&null==T.ngModule){const be=(v?U:this.parentInjector).get(wf,null);be&&(f=be)}const W=T.create(U,l,void 0,f);return this.insert(W.hostView,E),W}insert(r,s){const a=r._lView,l=a[1];if(function jn(n){return Zn(n[3])}(a)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const se=a[3],be=new R0(se,se[6],se[3]);be.detach(be.indexOf(r))}}const f=this._adjustIndex(s),v=this._lContainer;!function Uf(n,r,s,a){const l=10+a,f=s.length;a>0&&(s[l-1][4]=r),a<f-10?(r[4]=s[l],Lu(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Ly(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const E=r[19];null!==E&&E.insertView(n),r[2]|=128}(l,a,v,f);const E=nu(f,v),T=a[11],U=tu(T,v[7]);return null!==U&&function lh(n,r,s,a,l,f){a[0]=l,a[6]=r,uc(n,a,s,1,l,f)}(l,v[6],T,a,U,E),r.attachToViewContainerRef(),Lu(o_(v),f,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=N0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=ch(this._lContainer,s);a&&(Ls(o_(this._lContainer),s),Ag(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=ch(this._lContainer,s);return a&&null!=Ls(o_(this._lContainer),s)?new vg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function N0(n){return n[8]}function o_(n){return n[8]||(n[8]=[])}function k0(n,r){let s;const a=r[n.index];if(Zn(a))s=a;else{let l;if(8&n.type)l=O(a);else{const f=r[11];l=f.createComment("");const v=Ze(n,r);eu(f,tu(f,v),l,function Uy(n,r){return nr(n)?n.nextSibling(r):r.nextSibling}(f,v),!1)}r[n.index]=s=Rh(a,r,l,n),Ma(r,s)}return new R0(s,n,r)}class a_{constructor(r){this.queryList=r,this.matches=null}clone(){return new a_(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let f=0;f<a;f++){const v=s.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new u_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==$0(r,s).matches&&this.queries[s].setDirty()}}class F0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class l_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(r,l);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new l_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class c_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new c_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const f=a[l];this.matchTNodeWithReadOption(r,s,QE(s,f)),this.matchTNodeWithReadOption(r,s,Bt(s,r,f,!1,!1))}else a===Eg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Bt(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===yg||l===Oy||l===Eg&&4&s.type)this.addMatch(s.index,-2);else{const f=Bt(s,r,l,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function QE(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function XE(n,r,s,a){return-1===s?function JE(n,r){return 11&n.type?_f(n,r):4&n.type?My(n,r):null}(r,n):-2===s?function eb(n,r,s){return s===yg?_f(r,n):s===Eg?My(r,n):s===Oy?k0(r,n):void 0}(n,r,a):Mn(n,n[1],s,r)}function L0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const f=n.data,v=s.matches,E=[];for(let T=0;T<v.length;T+=2){const U=v[T];E.push(U<0?null:XE(r,f[U],v[T+1],s.metadata.read))}l.matches=E}return l.matches}function d_(n,r,s,a){const l=n.queries.getByIndex(s),f=l.matches;if(null!==f){const v=L0(n,r,l,s);for(let E=0;E<f.length;E+=2){const T=f[E];if(T>0)a.push(v[E/2]);else{const U=f[E+1],W=r[-T];for(let se=10;se<W.length;se++){const be=W[se];be[17]===be[3]&&d_(be[1],be,U,a)}if(null!==W[9]){const se=W[9];for(let be=0;be<se.length;be++){const Ue=se[be];d_(Ue[1],Ue,U,a)}}}}}return a}function V0(n){const r=he(),s=ct(),a=ea();ta(a+1);const l=$0(s,a);if(n.dirty&&Cn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?d_(s,r,a,[]):L0(s,r,l,a);n.reset(f,fE),n.notifyOnChanges()}return!0}return!1}function U0(n,r,s,a){const l=ct();if(l.firstCreatePass){const f=Rn();(function H0(n,r,s){null===n.queries&&(n.queries=new l_),n.queries.track(new c_(r,s))})(l,new F0(r,s,a),f.index),function rb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function j0(n,r,s){const a=new s_(4==(4&s));Yg(n,r,a,a.destroy),null===r[19]&&(r[19]=new u_),r[19].queries.push(new a_(a))}(l,he(),s)}function B0(){return function nb(n,r){return n[19].queries[r].queryList}(he(),ea())}function $0(n,r){return n.queries.getByIndex(r)}function G0(n,r){return My(n,r)}function Ny(...n){}const aw=new gi("Application Initializer");let y_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Ny,this.reject=Ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(Zp(f))s.push(f);else if(Yp(f)){const v=new Promise((E,T)=>{f.subscribe({complete:E,error:T})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(nn(aw,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uw=new gi("AppId",{providedIn:"root",factory:function lw(){return`${v_()}${v_()}${v_()}`}});function v_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cw=new gi("Platform Initializer"),wb=new gi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dw=new gi("appBootstrapListener");let Eb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const __=new gi("LocaleId",{providedIn:"root",factory:()=>yr(__,Nt.Optional|Nt.SkipSelf)||function bb(){return"undefined"!=typeof $localize&&$localize.locale||cu}()}),Ib=new gi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Db=(()=>{class n{compileModuleSync(s){return new r_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),f=g(fr(s).declarations).reduce((v,E)=>{const T=Kn(E);return T&&v.push(new n_(T)),v},[]);return new Cb(a,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ab=(()=>Promise.resolve(0))();function w_(n){"undefined"==typeof Zone?Ab.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Nu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hl(!1),this.onMicrotaskEmpty=new hl(!1),this.onStable=new hl(!1),this.onError=new hl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Sb(){let n=hn.requestAnimationFrame,r=hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Ob(n){const r=()=>{!function Mb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,b_(n),n.isCheckStableRunning=!0,E_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),b_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,f,v,E)=>{try{return hw(n),s.invokeTask(l,f,v,E)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),fw(n)}},onInvoke:(s,a,l,f,v,E,T)=>{try{return hw(n),s.invoke(l,f,v,E,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),fw(n)}},onHasTask:(s,a,l,f)=>{s.hasTask(l,f),a===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,b_(n),E_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,l,f)=>(s.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,r,xb,Ny,Ny);try{return f.runTask(v,s,a)}finally{f.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const xb={};function E_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function hw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fw(n){n._nesting--,E_(n)}class Pb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hl,this.onMicrotaskEmpty=new hl,this.onStable=new hl,this.onError=new hl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let pw=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(nn(Nu))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})(),Rb=(()=>{class n{constructor(){this._applications=new Map,I_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return I_.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Nb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function kb(n){I_=n}let I_=new Nb,Fd=null;const gw=new gi("AllowMultipleToken"),mw=new gi("PlatformOnDestroy");class Vb{constructor(r,s){this.name=r,this.token=s}}function yw(n,r,s=[]){const a=`Platform: ${r}`,l=new gi(a);return(f=[])=>{let v=C_();if(!v||v.injector.get(gw,!1)){const E=[...s,...f,{provide:l,useValue:!0}];n?n(E):function Ub(n){if(Fd&&!Fd.get(gw,!1))throw new Qe(400,"");Fd=n;const r=n.get(vw),s=n.get(cw,null);s&&s.forEach(a=>a())}(function jb(n=[],r){return ha.create({name:r,providers:[{provide:yp,useValue:"platform"},{provide:mw,useValue:()=>Fd=null},...n]})}(E,a))}return function Bb(n){const r=C_();if(!r)throw new Qe(401,"");return r}()}}function C_(){var n;return null!==(n=null==Fd?void 0:Fd.get(vw))&&void 0!==n?n:null}let vw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const E=function Hb(n,r){let s;return s="noop"===n?new Pb:("zone.js"===n?void 0:n)||new Nu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),T=[{provide:Nu,useValue:E}];return E.run(()=>{const U=ha.create({providers:T,parent:this.injector,name:s.moduleType.name}),W=s.create(U),se=W.injector.get(bl,null);if(!se)throw new Qe(402,"");return E.runOutsideAngular(()=>{const be=E.onError.subscribe({next:Ue=>{se.handleError(Ue)}});W.onDestroy(()=>{T_(this._modules,W),be.unsubscribe()})}),function $b(n,r,s){try{const a=s();return Zp(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(se,E,()=>{const be=W.injector.get(y_);return be.runInitializers(),be.donePromise.then(()=>(function zv(n){Ut(n,"Expected localeId to be defined"),"string"==typeof n&&(wy=n.toLowerCase().replace(/_/g,"-"))}(W.injector.get(__,cu)||cu),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,a=[]){const l=_w({},a);return function Fb(n,r,s){const a=new r_(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(s){const a=s.injector.get(D_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Qe(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(mw,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(nn(ha))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function _w(n,r){return Array.isArray(r)?r.reduce(_w,n):Object.assign(Object.assign({},n),r)}let D_=(()=>{class n{constructor(s,a,l,f){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new Y.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),E=new Y.y(T=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{U.unsubscribe(),W.unsubscribe()}});this.isStable=(0,Ie.T)(v,E.pipe((0,we.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Qe(405,"");let l;l=s instanceof y0?s:this._injector.get(Sy).resolveComponentFactory(s),this.componentTypes.push(l.componentType);const f=function Lb(n){return n.isBoundToModule}(l)?void 0:this._injector.get(wf),E=l.create(ha.NULL,[],a||l.selector,f),T=E.location.nativeElement,U=E.injector.get(pw,null),W=U&&E.injector.get(Rb);return U&&W&&W.registerApplication(T,U),E.onDestroy(()=>{this.detachView(E.hostView),T_(this.components,E),W&&W.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;T_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(dw,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(nn(Nu),nn(ha),nn(bl),nn(y_))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Ew=!0,bw=!1;function zb(){return bw=!0,Ew}function Wb(){if(bw)throw new Error("Cannot enable prod mode after platform setup.");Ew=!1}let qb=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kb,n})();function Kb(n){return function Zb(n,r,s){if(Dr(n)&&!s){const a=pn(n.index,r);return new vg(a,a)}return 47&n.type?new vg(r[16],r):null}(Rn(),he(),16==(16&n))}class Tw{constructor(){}supports(r){return vd(r)}create(r){return new tI(r)}}const eI=(n,r)=>r;class tI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,f=null;for(;s||a;){const v=!a||s&&s.currentIndex<Sw(a,l,f)?s:a,E=Sw(v,l,f),T=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{f||(f=[]);const U=E-l,W=T-l;if(U!=W){for(let be=0;be<U;be++){const Ue=be<f.length?f[be]:f[be]=0,ot=Ue+be;W<=ot&&ot<U&&(f[be]=Ue+1)}f[v.previousIndex]=W-U}}E!==T&&r(v,E,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!vd(r))throw new Qe(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,f,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)f=r[E],v=this._trackByFn(E,f),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,f,v,E)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,v,E),a=!0),s=s._next}else l=0,function fv(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[il()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,E=>{v=this._trackByFn(l,E),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,E,v,l)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,l)):r=this._addAfter(new nI(s,a),f,l),r}_verifyReinsertion(r,s,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,f=r._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class nI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Aw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new rI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class xw{constructor(){}supports(r){return r instanceof Map||_d(r)}create(){return new iI}}class iI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||_d(r)))throw new Qe(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const a=new sI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class sI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mw(){return new O_([new Tw])}let O_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Mw()),deps:[[n,new za,new Zs]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Qe(901,"")}}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:Mw}),n})();function Ow(){return new P_([new xw])}let P_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ow()),deps:[[n,new za,new Zs]]}}find(s){const a=this.factories.find(f=>f.supports(s));if(a)return a;throw new Qe(901,"")}}return n.\u0275prov=Tt({token:n,providedIn:"root",factory:Ow}),n})();const uI=yw(null,"core",[]);let lI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(nn(D_))},n.\u0275mod=Ar({type:n}),n.\u0275inj=en({}),n})()},2382:(bt,Le,L)=>{"use strict";L.d(Le,{Fj:()=>de,qu:()=>hs,u:()=>ji,sg:()=>Yi,u5:()=>cn,JJ:()=>tn,JL:()=>Wn,F:()=>An,On:()=>vi,wV:()=>ye,UX:()=>ii,kI:()=>He,_Y:()=>ls});var p=L(5e3),k=L(9808),Y=L(8306),Ie=L(4742),we=L(8421),ve=L(7669),Me=L(5403),Te=L(3268),ke=L(1810),ne=L(8996),ge=L(4004);let rt=(()=>{class N{constructor(S,q){this._renderer=S,this._elementRef=q,this.onChange=he=>{},this.onTouched=()=>{}}setProperty(S,q){this._renderer.setProperty(this._elementRef.nativeElement,S,q)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(p.Qsj),p.Y36(p.SBq))},N.\u0275dir=p.lG2({type:N}),N})(),je=(()=>{class N extends rt{}return N.\u0275fac=function(){let M;return function(q){return(M||(M=p.n5z(N)))(q||N)}}(),N.\u0275dir=p.lG2({type:N,features:[p.qOj]}),N})();const Qe=new p.OlP("NgValueAccessor"),Je={provide:Qe,useExisting:(0,p.Gpc)(()=>de),multi:!0},Ct=new p.OlP("CompositionEventMode");let de=(()=>{class N extends rt{constructor(S,q,he){super(S,q),this._compositionMode=he,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vt(){const N=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ct,8))},N.\u0275dir=p.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,q){1&S&&p.NdJ("input",function(ct){return q._handleInput(ct.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(ct){return q._compositionEnd(ct.target.value)})},features:[p._Bn([Je]),p.qOj]}),N})();function Pe(N){return null==N||0===N.length}function Ye(N){return null!=N&&"number"==typeof N.length}const at=new p.OlP("NgValidators"),Xe=new p.OlP("NgAsyncValidators"),Z=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(M){return function te(N){return M=>{if(Pe(M.value)||Pe(N))return null;const S=parseFloat(M.value);return!isNaN(S)&&S<N?{min:{min:N,actual:M.value}}:null}}(M)}static max(M){return function xe(N){return M=>{if(Pe(M.value)||Pe(N))return null;const S=parseFloat(M.value);return!isNaN(S)&&S>N?{max:{max:N,actual:M.value}}:null}}(M)}static required(M){return function fe(N){return Pe(N.value)?{required:!0}:null}(M)}static requiredTrue(M){return function Re(N){return!0===N.value?null:{required:!0}}(M)}static email(M){return function Ve(N){return Pe(N.value)||Z.test(N.value)?null:{email:!0}}(M)}static minLength(M){return function lt(N){return M=>Pe(M.value)||!Ye(M.value)?null:M.value.length<N?{minlength:{requiredLength:N,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function _t(N){return M=>Ye(M.value)&&M.value.length>N?{maxlength:{requiredLength:N,actualLength:M.value.length}}:null}(M)}static pattern(M){return function Vt(N){if(!N)return Ut;let M,S;return"string"==typeof N?(S="","^"!==N.charAt(0)&&(S+="^"),S+=N,"$"!==N.charAt(N.length-1)&&(S+="$"),M=new RegExp(S)):(S=N.toString(),M=N),q=>{if(Pe(q.value))return null;const he=q.value;return M.test(he)?null:{pattern:{requiredPattern:S,actualValue:he}}}}(M)}static nullValidator(M){return null}static compose(M){return en(M)}static composeAsync(M){return Fn(M)}}function Ut(N){return null}function nt(N){return null!=N}function Ht(N){const M=(0,p.QGY)(N)?(0,ne.D)(N):N;return(0,p.CqO)(M),M}function Lt(N){let M={};return N.forEach(S=>{M=null!=S?Object.assign(Object.assign({},M),S):M}),0===Object.keys(M).length?null:M}function on(N,M){return M.map(S=>S(N))}function rn(N){return N.map(M=>function Tt(N){return!N.validate}(M)?M:S=>M.validate(S))}function en(N){if(!N)return null;const M=N.filter(nt);return 0==M.length?null:function(S){return Lt(on(S,M))}}function dn(N){return null!=N?en(rn(N)):null}function Fn(N){if(!N)return null;const M=N.filter(nt);return 0==M.length?null:function(S){return function ue(...N){const M=(0,ve.jO)(N),{args:S,keys:q}=(0,Ie.D)(N),he=new Y.y(ct=>{const{length:Nn}=S;if(!Nn)return void ct.complete();const Rn=new Array(Nn);let ui=Nn,ki=Nn;for(let li=0;li<Nn;li++){let fs=!1;(0,we.Xf)(S[li]).subscribe((0,Me.x)(ct,yo=>{fs||(fs=!0,ki--),Rn[li]=yo},()=>ui--,void 0,()=>{(!ui||!fs)&&(ki||ct.next(q?(0,ke.n)(q,Rn):Rn),ct.complete())}))}});return M?he.pipe((0,Te.Z)(M)):he}(on(S,M).map(Ht)).pipe((0,ge.U)(Lt))}}function Pn(N){return null!=N?Fn(rn(N)):null}function sr(N,M){return null===N?[M]:Array.isArray(N)?[...N,M]:[N,M]}function Ln(N){return N._rawValidators}function Jn(N){return N._rawAsyncValidators}function Xn(N){return N?Array.isArray(N)?N:[N]:[]}function or(N,M){return Array.isArray(N)?N.includes(M):N===M}function Tn(N,M){const S=Xn(M);return Xn(N).forEach(he=>{or(S,he)||S.push(he)}),S}function Nt(N,M){return Xn(M).filter(S=>!or(N,S))}class qt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=dn(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,S){return!!this.control&&this.control.hasError(M,S)}getError(M,S){return this.control?this.control.getError(M,S):null}}class vn extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt extends qt{get formDirective(){return null}get path(){return null}}class Br{constructor(M){this._cd=M}is(M){var S,q,he;return"submitted"===M?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(he=null===(q=this._cd)||void 0===q?void 0:q.control)||void 0===he?void 0:he[M])}}let tn=(()=>{class N extends Br{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(vn,2))},N.\u0275dir=p.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,q){2&S&&p.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))},features:[p.qOj]}),N})(),Wn=(()=>{class N extends Br{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(zt,10))},N.\u0275dir=p.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,q){2&S&&p.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))("ng-submitted",q.is("submitted"))},features:[p.qOj]}),N})();function ut(N,M){return[...M.path,N]}function St(N,M){Jt(N,M),M.valueAccessor.writeValue(N.value),function Ar(N,M){M.valueAccessor.registerOnChange(S=>{N._pendingValue=S,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Ir(N,M)})}(N,M),function Sr(N,M){const S=(q,he)=>{M.valueAccessor.writeValue(q),he&&M.viewToModelUpdate(q)};N.registerOnChange(S),M._registerOnDestroy(()=>{N._unregisterOnChange(S)})}(N,M),function fi(N,M){M.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Ir(N,M),"submit"!==N.updateOn&&N.markAsTouched()})}(N,M),function $n(N,M){if(M.valueAccessor.setDisabledState){const S=q=>{M.valueAccessor.setDisabledState(q)};N.registerOnDisabledChange(S),M._registerOnDestroy(()=>{N._unregisterOnDisabledChange(S)})}}(N,M)}function Ot(N,M,S=!0){const q=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(q),M.valueAccessor.registerOnTouched(q)),hr(N,M),N&&(M._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function $t(N,M){N.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(M)})}function Jt(N,M){const S=Ln(N);null!==M.validator?N.setValidators(sr(S,M.validator)):"function"==typeof S&&N.setValidators([S]);const q=Jn(N);null!==M.asyncValidator?N.setAsyncValidators(sr(q,M.asyncValidator)):"function"==typeof q&&N.setAsyncValidators([q]);const he=()=>N.updateValueAndValidity();$t(M._rawValidators,he),$t(M._rawAsyncValidators,he)}function hr(N,M){let S=!1;if(null!==N){if(null!==M.validator){const he=Ln(N);if(Array.isArray(he)&&he.length>0){const ct=he.filter(Nn=>Nn!==M.validator);ct.length!==he.length&&(S=!0,N.setValidators(ct))}}if(null!==M.asyncValidator){const he=Jn(N);if(Array.isArray(he)&&he.length>0){const ct=he.filter(Nn=>Nn!==M.asyncValidator);ct.length!==he.length&&(S=!0,N.setAsyncValidators(ct))}}}const q=()=>{};return $t(M._rawValidators,q),$t(M._rawAsyncValidators,q),S}function Ir(N,M){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function fn(N,M){Jt(N,M)}function Ui(N,M){if(!N.hasOwnProperty("model"))return!1;const S=N.model;return!!S.isFirstChange()||!Object.is(M,S.currentValue)}function Hr(N,M){N._syncPendingControls(),M.forEach(S=>{const q=S.control;"submit"===q.updateOn&&q._pendingChange&&(S.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}function Or(N,M){if(!M)return null;let S,q,he;return Array.isArray(M),M.forEach(ct=>{ct.constructor===de?S=ct:function jr(N){return Object.getPrototypeOf(N.constructor)===je}(ct)?q=ct:he=ct}),he||q||S||null}function ur(N,M){const S=N.indexOf(M);S>-1&&N.splice(S,1)}const Et="VALID",Dt="INVALID",an="PENDING",er="DISABLED";function tr(N){return(Gn(N)?N.validators:N)||null}function $r(N){return Array.isArray(N)?dn(N):N||null}function Sn(N,M){return(Gn(M)?M.asyncValidators:N)||null}function qr(N){return Array.isArray(N)?Pn(N):N||null}function Gn(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}const Wt=N=>N instanceof X,ni=N=>N instanceof De,yi=N=>N instanceof Ne;function Si(N){return Wt(N)?N.value:N.getRawValue()}function Kr(N,M){const S=ni(N),q=N.controls;if(!(S?Object.keys(q):q).length)throw new p.vHH(1e3,"");if(!q[M])throw new p.vHH(1001,"")}function pe(N,M){ni(N),N._forEachChild((q,he)=>{if(void 0===M[he])throw new p.vHH(1002,"")})}class ae{constructor(M,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=S,this._composedValidatorFn=$r(this._rawValidators),this._composedAsyncValidatorFn=qr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===Dt}get pending(){return this.status==an}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=$r(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=qr(M)}addValidators(M){this.setValidators(Tn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Tn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Nt(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Nt(M,this._rawAsyncValidators))}hasValidator(M){return or(this._rawValidators,M)}hasAsyncValidator(M){return or(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=an,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const S=this._parentMarkedDirty(M.onlySelf);this.status=er,this.errors=null,this._forEachChild(q=>{q.disable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:S})),this._onDisabledChange.forEach(q=>q(!0))}enable(M={}){const S=this._parentMarkedDirty(M.onlySelf);this.status=Et,this._forEachChild(q=>{q.enable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:S})),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===an)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator=!0;const S=Ht(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,S={}){this.errors=M,this._updateControlsErrors(!1!==S.emitEvent)}get(M){return function Wr(N,M,S){if(null==M||(Array.isArray(M)||(M=M.split(S)),Array.isArray(M)&&0===M.length))return null;let q=N;return M.forEach(he=>{q=ni(q)?q.controls.hasOwnProperty(he)?q.controls[he]:null:yi(q)&&q.at(he)||null}),q}(this,M,".")}getError(M,S){const q=S?this.get(S):this;return q&&q.errors?q.errors[M]:null}hasError(M,S){return!!this.getError(M,S)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?Dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(Dt)?Dt:Et}_anyControlsHaveStatus(M){return this._anyControls(S=>S.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Gn(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class X extends ae{constructor(M=null,S,q){super(tr(S),Sn(q,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gn(S)&&S.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(M)?M.value:M)}setValue(M,S={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(M,S={}){this.setValue(M,S)}reset(M=this.defaultValue,S={}){this._applyFormState(M),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){ur(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){ur(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class De extends ae{constructor(M,S,q){super(tr(S),Sn(q,S)),this.controls=M,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,S){return this.controls[M]?this.controls[M]:(this.controls[M]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(M,S,q={}){this.registerControl(M,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(M,S={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(M,S,q={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],S&&this.registerControl(M,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,S={}){pe(this,M),Object.keys(M).forEach(q=>{Kr(this,q),this.controls[q].setValue(M[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(M,S={}){null!=M&&(Object.keys(M).forEach(q=>{this.controls[q]&&this.controls[q].patchValue(M[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(M={},S={}){this._forEachChild((q,he)=>{q.reset(M[he],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(M,S,q)=>(M[q]=Si(S),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(S,q)=>!!q._syncPendingControls()||S);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(S=>{const q=this.controls[S];q&&M(q,S)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const S of Object.keys(this.controls)){const q=this.controls[S];if(this.contains(S)&&M(q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,S,q)=>((S.enabled||this.disabled)&&(M[q]=S.value),M))}_reduceChildren(M,S){let q=M;return this._forEachChild((he,ct)=>{q=S(q,he,ct)}),q}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ne extends ae{constructor(M,S,q){super(tr(S),Sn(q,S)),this.controls=M,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,S={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(M,S,q={}){this.controls.splice(M,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(M,S={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(M,S,q={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),S&&(this.controls.splice(M,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,S={}){pe(this,M),M.forEach((q,he)=>{Kr(this,he),this.at(he).setValue(q,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(M,S={}){null!=M&&(M.forEach((q,he)=>{this.at(he)&&this.at(he).patchValue(q,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(M=[],S={}){this._forEachChild((q,he)=>{q.reset(M[he],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(M=>Si(M))}clear(M={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((S,q)=>!!q._syncPendingControls()||S,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((S,q)=>{M(S,q)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(S=>S.enabled&&M(S))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}const xt={provide:zt,useExisting:(0,p.Gpc)(()=>An)},sn=(()=>Promise.resolve(null))();let An=(()=>{class N extends zt{constructor(S,q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new De({},dn(S),Pn(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){sn.then(()=>{const q=this._findContainer(S.path);S.control=q.registerControl(S.name,S.control),St(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){sn.then(()=>{const q=this._findContainer(S.path);q&&q.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){sn.then(()=>{const q=this._findContainer(S.path),he=new De({});fn(he,S),q.registerControl(S.name,he),he.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){sn.then(()=>{const q=this._findContainer(S.path);q&&q.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,q){sn.then(()=>{this.form.get(S.path).setValue(q)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,Hr(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(at,10),p.Y36(Xe,10))},N.\u0275dir=p.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,q){1&S&&p.NdJ("submit",function(ct){return q.onSubmit(ct)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([xt]),p.qOj]}),N})();const us={provide:vn,useExisting:(0,p.Gpc)(()=>vi)},Yn=(()=>Promise.resolve(null))();let vi=(()=>{class N extends vn{constructor(S,q,he,ct,Nn){super(),this._changeDetectorRef=Nn,this.control=new X,this._registered=!1,this.update=new p.vpe,this._parent=S,this._setValidators(q),this._setAsyncValidators(he),this.valueAccessor=Or(0,ct)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const q=S.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),Ui(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Yn.then(()=>{var q;this.control.setValue(S,{emitViewToModelChange:!1}),null===(q=this._changeDetectorRef)||void 0===q||q.markForCheck()})}_updateDisabled(S){const q=S.isDisabled.currentValue,he=""===q||q&&"false"!==q;Yn.then(()=>{var ct;he&&!this.control.disabled?this.control.disable():!he&&this.control.disabled&&this.control.enable(),null===(ct=this._changeDetectorRef)||void 0===ct||ct.markForCheck()})}_getPath(S){return this._parent?ut(S,this._parent):[S]}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(zt,9),p.Y36(at,10),p.Y36(Xe,10),p.Y36(Qe,10),p.Y36(p.sBO,8))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([us]),p.qOj,p.TTD]}),N})(),ls=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=p.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Ae={provide:Qe,useExisting:(0,p.Gpc)(()=>ye),multi:!0};let ye=(()=>{class N extends je{writeValue(S){this.setProperty("value",null==S?"":S)}registerOnChange(S){this.onChange=q=>{S(""==q?null:parseFloat(q))}}}return N.\u0275fac=function(){let M;return function(q){return(M||(M=p.n5z(N)))(q||N)}}(),N.\u0275dir=p.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,q){1&S&&p.NdJ("input",function(ct){return q.onChange(ct.target.value)})("blur",function(){return q.onTouched()})},features:[p._Bn([Ae]),p.qOj]}),N})(),yt=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({}),N})();const Oi=new p.OlP("NgModelWithFormControlWarning"),Rs={provide:zt,useExisting:(0,p.Gpc)(()=>Yi)};let Yi=(()=>{class N extends zt{constructor(S,q){super(),this.validators=S,this.asyncValidators=q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(S),this._setAsyncValidators(q)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const q=this.form.get(S.path);return St(q,S),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),q}getControl(S){return this.form.get(S.path)}removeControl(S){Ot(S.control||null,S,!1),ur(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,q){this.form.get(S.path).setValue(q)}onSubmit(S){return this.submitted=!0,Hr(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const q=S.control,he=this.form.get(S.path);q!==he&&(Ot(q||null,S),Wt(he)&&(St(he,S),S.control=he))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const q=this.form.get(S.path);fn(q,S),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const q=this.form.get(S.path);q&&function Kn(N,M){return hr(N,M)}(q,S)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jt(this.form,this),this._oldForm&&hr(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(S){return new(S||N)(p.Y36(at,10),p.Y36(Xe,10))},N.\u0275dir=p.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(S,q){1&S&&p.NdJ("submit",function(ct){return q.onSubmit(ct)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Rs]),p.qOj,p.TTD]}),N})();const Pi={provide:vn,useExisting:(0,p.Gpc)(()=>ji)};let ji=(()=>{class N extends vn{constructor(S,q,he,ct,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(q),this._setAsyncValidators(he),this.valueAccessor=Or(0,ct)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),Ui(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return ut(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(p.Y36(zt,13),p.Y36(at,10),p.Y36(Xe,10),p.Y36(Qe,10),p.Y36(Oi,8))},N.\u0275dir=p.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Pi]),p.qOj,p.TTD]}),N})(),wi=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[[yt]]}),N})(),cn=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[wi]}),N})(),ii=(()=>{class N{static withConfig(S){return{ngModule:N,providers:[{provide:Oi,useValue:S.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[wi]}),N})(),hs=(()=>{class N{group(S,q=null){const he=this._reduceControls(S);let Rn,ct=null,Nn=null;return null!=q&&(function Ji(N){return void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn}(q)?(ct=null!=q.validators?q.validators:null,Nn=null!=q.asyncValidators?q.asyncValidators:null,Rn=null!=q.updateOn?q.updateOn:void 0):(ct=null!=q.validator?q.validator:null,Nn=null!=q.asyncValidator?q.asyncValidator:null)),new De(he,{asyncValidators:Nn,updateOn:Rn,validators:ct})}control(S,q,he){return new X(S,q,he)}array(S,q,he){const ct=S.map(Nn=>this._createControl(Nn));return new Ne(ct,q,he)}_reduceControls(S){const q={};return Object.keys(S).forEach(he=>{q[he]=this._createControl(S[he])}),q}_createControl(S){return Wt(S)||ni(S)||yi(S)?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac,providedIn:ii}),N})()},1009:(bt,Le,L)=>{"use strict";L.d(Le,{F0:()=>Un,yS:()=>Ss,Bz:()=>le,lC:()=>Is});var p=L(5e3),k=L(7579);class Y extends k.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const y=super._subscribe(w);return!y.closed&&w.next(this._value),y}getValue(){const{hasError:w,thrownError:y,_value:A}=this;if(w)throw y;return this._throwIfClosed(),A}next(w){super.next(this._value=w)}}var Ie=L(8306),we=L(4742),ve=L(8996),Me=L(4671),Te=L(3268),ke=L(7669),ue=L(1810),ne=L(5403),ge=L(9672);function Qe(I,w,y){I?(0,ge.f)(y,I,w):w()}var pt=L(8421);function $e(I){return new Ie.y(w=>{(0,pt.Xf)(I()).subscribe(w)})}var Je=L(727),vt=L(4482);function Ct(){return(0,vt.e)((I,w)=>{let y=null;I._refCount++;const A=(0,ne.x)(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(y=null);const F=I._connection,j=y;y=null,F&&(!j||F===j)&&F.unsubscribe(),w.unsubscribe()});I.subscribe(A),A.closed||(y=I.connect())})}class de extends Ie.y{constructor(w,y){super(),this.source=w,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Je.w0;const y=this.getSubject();w.add(this.source.subscribe((0,ne.x)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Je.w0.EMPTY)}return w}refCount(){return Ct()(this)}}var Pe=L(9646),Ye=L(2843),at=L(6805),Xe=L(7272),Z=L(515);function He(I){return(0,vt.e)((w,y)=>{let j,A=null,F=!1;A=w.subscribe((0,ne.x)(y,void 0,void 0,$=>{j=(0,pt.Xf)(I($,He(I)(w))),A?(A.unsubscribe(),A=null,j.subscribe(y)):F=!0})),F&&(A.unsubscribe(),A=null,j.subscribe(y))})}var te=L(5577),xe=L(576);function fe(I,w){return(0,xe.m)(w)?(0,te.z)(I,w,1):(0,te.z)(I,1)}var Re=L(9300);function Ve(I){return I<=0?()=>Z.E:(0,vt.e)((w,y)=>{let A=[];w.subscribe((0,ne.x)(y,F=>{A.push(F),I<A.length&&A.shift()},()=>{for(const F of A)y.next(F);y.complete()},void 0,()=>{A=null}))})}var lt=L(8068),_t=L(6590),nt=L(4004),Ht=L(3900),Lt=L(5698),on=L(8675),Tt=L(5026),rn=L(590),en=L(8505),dn=L(8189),Fn=L(9808);class Pn{constructor(w,y){this.id=w,this.url=y}}class sr extends Pn{constructor(w,y,A="imperative",F=null){super(w,y),this.navigationTrigger=A,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends Pn{constructor(w,y,A){super(w,y),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jn extends Pn{constructor(w,y,A){super(w,y),this.reason=A}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xn extends Pn{constructor(w,y,A){super(w,y),this.error=A}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class or extends Pn{constructor(w,y,A,F){super(w,y),this.urlAfterRedirects=A,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends Pn{constructor(w,y,A,F){super(w,y),this.urlAfterRedirects=A,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends Pn{constructor(w,y,A,F,j){super(w,y),this.urlAfterRedirects=A,this.state=F,this.shouldActivate=j}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qt extends Pn{constructor(w,y,A,F){super(w,y),this.urlAfterRedirects=A,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends Pn{constructor(w,y,A,F){super(w,y),this.urlAfterRedirects=A,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zt{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Br{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zr{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(w,y,A){this.routerEvent=w,this.position=y,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const It="primary";class wt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y[0]:y}return null}getAll(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function At(I){return new wt(I)}const ar="ngNavigationCancelingError";function dr(I){const w=Error("NavigationCancelingError: "+I);return w[ar]=!0,w}function Ai(I,w,y){const A=y.path.split("/");if(A.length>I.length||"full"===y.pathMatch&&(w.hasChildren()||A.length<I.length))return null;const F={};for(let j=0;j<A.length;j++){const $=A[j],ee=I[j];if($.startsWith(":"))F[$.substring(1)]=ee;else if($!==ee.path)return null}return{consumed:I.slice(0,A.length),posParams:F}}function Hn(I,w){const y=I?Object.keys(I):void 0,A=w?Object.keys(w):void 0;if(!y||!A||y.length!=A.length)return!1;let F;for(let j=0;j<y.length;j++)if(F=y[j],!ce(I[F],w[F]))return!1;return!0}function ce(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const y=[...I].sort(),A=[...w].sort();return y.every((F,j)=>A[j]===F)}return I===w}function _e(I){return Array.prototype.concat.apply([],I)}function Ee(I){return I.length>0?I[I.length-1]:null}function re(I,w){for(const y in I)I.hasOwnProperty(y)&&w(I[y],y)}function Oe(I){return(0,p.CqO)(I)?I:(0,p.QGY)(I)?(0,ve.D)(Promise.resolve(I)):(0,Pe.of)(I)}const St={exact:function Jt(I,w,y){if(!xr(I.segments,w.segments)||!Ir(I.segments,w.segments,y)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!I.children[A]||!Jt(I.children[A],w.children[A],y))return!1;return!0},subset:Ar},Ot={exact:function $n(I,w){return Hn(I,w)},subset:function hr(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(y=>ce(I[y],w[y]))},ignored:()=>!0};function $t(I,w,y){return St[y.paths](I.root,w.root,y.matrixParams)&&Ot[y.queryParams](I.queryParams,w.queryParams)&&!("exact"===y.fragment&&I.fragment!==w.fragment)}function Ar(I,w,y){return fi(I,w,w.segments,y)}function fi(I,w,y,A){if(I.segments.length>y.length){const F=I.segments.slice(0,y.length);return!(!xr(F,y)||w.hasChildren()||!Ir(F,y,A))}if(I.segments.length===y.length){if(!xr(I.segments,y)||!Ir(I.segments,y,A))return!1;for(const F in w.children)if(!I.children[F]||!Ar(I.children[F],w.children[F],A))return!1;return!0}{const F=y.slice(0,I.segments.length),j=y.slice(I.segments.length);return!!(xr(I.segments,F)&&Ir(I.segments,F,A)&&I.children[It])&&fi(I.children[It],w,j,A)}}function Ir(I,w,y){return w.every((A,F)=>Ot[y](I[F].parameters,A.parameters))}class Sr{constructor(w,y,A){this.root=w,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return jr.serialize(this)}}class fn{constructor(w,y){this.segments=w,this.children=y,this.parent=null,re(y,(A,F)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hr(this)}}class Kn{constructor(w,y){this.path=w,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return er(this)}}function xr(I,w){return I.length===w.length&&I.every((y,A)=>y.path===w[A].path)}class Mr{}class Ui{parse(w){const y=new yi(w);return new Sr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(w){const y=`/${Or(w.root,!0)}`,A=function tr(I){const w=Object.keys(I).map(y=>{const A=I[y];return Array.isArray(A)?A.map(F=>`${ti(y)}=${ti(F)}`).join("&"):`${ti(y)}=${ti(A)}`}).filter(y=>!!y);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${y}${A}${"string"==typeof w.fragment?`#${function Yt(I){return encodeURI(I)}(w.fragment)}`:""}`}}const jr=new Ui;function Hr(I){return I.segments.map(w=>er(w)).join("/")}function Or(I,w){if(!I.hasChildren())return Hr(I);if(w){const y=I.children[It]?Or(I.children[It],!1):"",A=[];return re(I.children,(F,j)=>{j!==It&&A.push(`${j}:${Or(F,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function fr(I,w){let y=[];return re(I.children,(A,F)=>{F===It&&(y=y.concat(w(A,F)))}),re(I.children,(A,F)=>{F!==It&&(y=y.concat(w(A,F)))}),y}(I,(A,F)=>F===It?[Or(I.children[It],!1)]:[`${F}:${Or(A,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[It]?`${Hr(I)}/${y[0]}`:`${Hr(I)}/(${y.join("//")})`}}function ur(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(I){return ur(I).replace(/%3B/gi,";")}function Et(I){return ur(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(I){return decodeURIComponent(I)}function an(I){return Dt(I.replace(/\+/g,"%20"))}function er(I){return`${Et(I.path)}${function Wr(I){return Object.keys(I).map(w=>`;${Et(w)}=${Et(I[w])}`).join("")}(I.parameters)}`}const $r=/^[^\/()?;=#]+/;function Sn(I){const w=I.match($r);return w?w[0]:""}const qr=/^[^=?&#]+/,Wt=/^[^&#]+/;class yi{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(y).length>0)&&(A[It]=new fn(w,y)),A}parseSegment(){const w=Sn(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new Kn(Dt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const y=Sn(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const F=Sn(this.remaining);F&&(A=F,this.capture(A))}w[Dt(y)]=Dt(A)}parseQueryParam(w){const y=function Gn(I){const w=I.match(qr);return w?w[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const $=function ni(I){const w=I.match(Wt);return w?w[0]:""}(this.remaining);$&&(A=$,this.capture(A))}const F=an(y),j=an(A);if(w.hasOwnProperty(F)){let $=w[F];Array.isArray($)||($=[$],w[F]=$),$.push(j)}else w[F]=j}parseParens(w){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Sn(this.remaining),F=this.remaining[A.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let j;A.indexOf(":")>-1?(j=A.substr(0,A.indexOf(":")),this.capture(j),this.capture(":")):w&&(j=It);const $=this.parseChildren();y[j]=1===Object.keys($).length?$[It]:new fn([],$),this.consumeOptional("//")}return y}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class Si{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const y=this.pathFromRoot(w);return y.length>1?y[y.length-2]:null}children(w){const y=Kr(w,this._root);return y?y.children.map(A=>A.value):[]}firstChild(w){const y=Kr(w,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(w){const y=pe(w,this._root);return y.length<2?[]:y[y.length-2].children.map(F=>F.value).filter(F=>F!==w)}pathFromRoot(w){return pe(w,this._root).map(y=>y.value)}}function Kr(I,w){if(I===w.value)return w;for(const y of w.children){const A=Kr(I,y);if(A)return A}return null}function pe(I,w){if(I===w.value)return[w];for(const y of w.children){const A=pe(I,y);if(A.length)return A.unshift(w),A}return[]}class ae{constructor(w,y){this.value=w,this.children=y}toString(){return`TreeNode(${this.value})`}}function X(I){const w={};return I&&I.children.forEach(y=>w[y.value.outlet]=y),w}class De extends Si{constructor(w,y){super(w),this.snapshot=y,xi(this,w)}toString(){return this.snapshot.toString()}}function Ne(I,w){const y=function xt(I,w){const $=new Zr([],{},{},"",{},It,w,null,I.root,-1,{});return new Dr("",new ae($,[]))}(I,w),A=new Y([new Kn("",{})]),F=new Y({}),j=new Y({}),$=new Y({}),ee=new Y(""),We=new sn(A,F,$,ee,j,It,w,y.root);return We.snapshot=y.root,new De(new ae(We,[]),y)}class sn{constructor(w,y,A,F,j,$,ee,We){this.url=w,this.params=y,this.queryParams=A,this.fragment=F,this.data=j,this.outlet=$,this.component=ee,this._futureSnapshot=We}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(w=>At(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(w=>At(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function An(I,w="emptyOnly"){const y=I.pathFromRoot;let A=0;if("always"!==w)for(A=y.length-1;A>=1;){const F=y[A],j=y[A-1];if(F.routeConfig&&""===F.routeConfig.path)A--;else{if(j.component)break;A--}}return function Zn(I){return I.reduce((w,y)=>({params:Object.assign(Object.assign({},w.params),y.params),data:Object.assign(Object.assign({},w.data),y.data),resolve:Object.assign(Object.assign({},w.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(A))}class Zr{constructor(w,y,A,F,j,$,ee,We,Bt,Mn,Xt){this.url=w,this.params=y,this.queryParams=A,this.fragment=F,this.data=j,this.outlet=$,this.component=ee,this.routeConfig=We,this._urlSegment=Bt,this._lastPathIndex=Mn,this._resolve=Xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends Si{constructor(w,y){super(y),this.url=w,xi(this,y)}toString(){return Bi(this._root)}}function xi(I,w){w.value._routerState=I,w.children.forEach(y=>xi(I,y))}function Bi(I){const w=I.children.length>0?` { ${I.children.map(Bi).join(", ")} } `:"";return`${I.value}${w}`}function Mi(I){if(I.snapshot){const w=I.snapshot,y=I._futureSnapshot;I.snapshot=y,Hn(w.queryParams,y.queryParams)||I.queryParams.next(y.queryParams),w.fragment!==y.fragment&&I.fragment.next(y.fragment),Hn(w.params,y.params)||I.params.next(y.params),function vr(I,w){if(I.length!==w.length)return!1;for(let y=0;y<I.length;++y)if(!Hn(I[y],w[y]))return!1;return!0}(w.url,y.url)||I.url.next(y.url),Hn(w.data,y.data)||I.data.next(y.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Bs(I,w){const y=Hn(I.params,w.params)&&function _r(I,w){return xr(I,w)&&I.every((y,A)=>Hn(y.parameters,w[A].parameters))}(I.url,w.url);return y&&!(!I.parent!=!w.parent)&&(!I.parent||Bs(I.parent,w.parent))}function Yn(I,w,y){if(y&&I.shouldReuseRoute(w.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=w.value;const F=function vi(I,w,y){return w.children.map(A=>{for(const F of y.children)if(I.shouldReuseRoute(A.value,F.value.snapshot))return Yn(I,A,F);return Yn(I,A)})}(I,w,y);return new ae(A,F)}{if(I.shouldAttach(w.value)){const j=I.retrieve(w.value);if(null!==j){const $=j.route;return $.value._futureSnapshot=w.value,$.children=w.children.map(ee=>Yn(I,ee)),$}}const A=function ls(I){return new sn(new Y(I.url),new Y(I.params),new Y(I.queryParams),new Y(I.fragment),new Y(I.data),I.outlet,I.component,I)}(w.value),F=w.children.map(j=>Yn(I,j));return new ae(A,F)}}function ye(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Be(I){return"object"==typeof I&&null!=I&&I.outlets}function tt(I,w,y,A,F){let j={};if(A&&re(A,(ee,We)=>{j[We]=Array.isArray(ee)?ee.map(Bt=>`${Bt}`):`${ee}`}),I===w)return new Sr(y,j,F);const $=yt(I,w,y);return new Sr($,j,F)}function yt(I,w,y){const A={};return re(I.children,(F,j)=>{A[j]=F===w?y:yt(F,w,y)}),new fn(I.segments,A)}class Ft{constructor(w,y,A){if(this.isAbsolute=w,this.numberOfDoubleDots=y,this.commands=A,w&&A.length>0&&ye(A[0]))throw new Error("Root segment cannot have matrix parameters");const F=A.find(Be);if(F&&F!==Ee(A))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wr{constructor(w,y,A){this.segmentGroup=w,this.processChildren=y,this.index=A}}function kr(I,w,y){if(I||(I=new fn([],{})),0===I.segments.length&&I.hasChildren())return Rs(I,w,y);const A=function Yi(I,w,y){let A=0,F=w;const j={match:!1,pathIndex:0,commandIndex:0};for(;F<I.segments.length;){if(A>=y.length)return j;const $=I.segments[F],ee=y[A];if(Be(ee))break;const We=`${ee}`,Bt=A<y.length-1?y[A+1]:null;if(F>0&&void 0===We)break;if(We&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Fr(We,Bt,$))return j;A+=2}else{if(!Fr(We,{},$))return j;A++}F++}return{match:!0,pathIndex:F,commandIndex:A}}(I,w,y),F=y.slice(A.commandIndex);if(A.match&&A.pathIndex<I.segments.length){const j=new fn(I.segments.slice(0,A.pathIndex),{});return j.children[It]=new fn(I.segments.slice(A.pathIndex),I.children),Rs(j,0,F)}return A.match&&0===F.length?new fn(I.segments,{}):A.match&&!I.hasChildren()?cs(I,w,y):A.match?Rs(I,0,F):cs(I,w,y)}function Rs(I,w,y){if(0===y.length)return new fn(I.segments,{});{const A=function Ps(I){return Be(I[0])?I[0].outlets:{[It]:I}}(y),F={};return re(A,(j,$)=>{"string"==typeof j&&(j=[j]),null!==j&&(F[$]=kr(I.children[$],w,j))}),re(I.children,(j,$)=>{void 0===A[$]&&(F[$]=j)}),new fn(I.segments,F)}}function cs(I,w,y){const A=I.segments.slice(0,w);let F=0;for(;F<y.length;){const j=y[F];if(Be(j)){const We=_s(j.outlets);return new fn(A,We)}if(0===F&&ye(y[0])){A.push(new Kn(I.segments[w].path,ws(y[0]))),F++;continue}const $=Be(j)?j.outlets[It]:`${j}`,ee=F<y.length-1?y[F+1]:null;$&&ee&&ye(ee)?(A.push(new Kn($,ws(ee))),F+=2):(A.push(new Kn($,{})),F++)}return new fn(A,{})}function _s(I){const w={};return re(I,(y,A)=>{"string"==typeof y&&(y=[y]),null!==y&&(w[A]=cs(new fn([],{}),0,y))}),w}function ws(I){const w={};return re(I,(y,A)=>w[A]=`${y}`),w}function Fr(I,w,y){return I==y.path&&Hn(w,y.parameters)}class Pi{constructor(w,y,A,F){this.routeReuseStrategy=w,this.futureState=y,this.currState=A,this.forwardEvent=F}activate(w){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,w),Mi(this.futureState.root),this.activateChildRoutes(y,A,w)}deactivateChildRoutes(w,y,A){const F=X(y);w.children.forEach(j=>{const $=j.value.outlet;this.deactivateRoutes(j,F[$],A),delete F[$]}),re(F,(j,$)=>{this.deactivateRouteAndItsChildren(j,A)})}deactivateRoutes(w,y,A){const F=w.value,j=y?y.value:null;if(F===j)if(F.component){const $=A.getContext(F.outlet);$&&this.deactivateChildRoutes(w,y,$.children)}else this.deactivateChildRoutes(w,y,A);else j&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(w,y){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,y):this.deactivateRouteAndOutlet(w,y)}detachAndStoreRouteSubtree(w,y){const A=y.getContext(w.value.outlet),F=A&&w.value.component?A.children:y,j=X(w);for(const $ of Object.keys(j))this.deactivateRouteAndItsChildren(j[$],F);if(A&&A.outlet){const $=A.outlet.detach(),ee=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:$,route:w,contexts:ee})}}deactivateRouteAndOutlet(w,y){const A=y.getContext(w.value.outlet),F=A&&w.value.component?A.children:y,j=X(w);for(const $ of Object.keys(j))this.deactivateRouteAndItsChildren(j[$],F);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,y,A){const F=X(y);w.children.forEach(j=>{this.activateRoutes(j,F[j.value.outlet],A),this.forwardEvent(new Wn(j.value.snapshot))}),w.children.length&&this.forwardEvent(new Cr(w.value.snapshot))}activateRoutes(w,y,A){const F=w.value,j=y?y.value:null;if(Mi(F),F===j)if(F.component){const $=A.getOrCreateContext(F.outlet);this.activateChildRoutes(w,y,$.children)}else this.activateChildRoutes(w,y,A);else if(F.component){const $=A.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ee=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),$.children.onOutletReAttached(ee.contexts),$.attachRef=ee.componentRef,$.route=ee.route.value,$.outlet&&$.outlet.attach(ee.componentRef,ee.route.value),Mi(ee.route.value),this.activateChildRoutes(w,null,$.children)}else{const ee=function ji(I){for(let w=I.parent;w;w=w.parent){const y=w.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(F.snapshot),We=ee?ee.module.componentFactoryResolver:null;$.attachRef=null,$.route=F,$.resolver=We,$.outlet&&$.outlet.activateWith(F,We),this.activateChildRoutes(w,null,$.children)}}else this.activateChildRoutes(w,null,A)}}class Ns{constructor(w,y){this.routes=w,this.module=y}}function Qi(I){return"function"==typeof I}function ri(I){return I instanceof Sr}const Qr=Symbol("INITIAL_VALUE");function pr(){return(0,Ht.w)(I=>function rt(...I){const w=(0,ke.yG)(I),y=(0,ke.jO)(I),{args:A,keys:F}=(0,we.D)(I);if(0===A.length)return(0,ve.D)([],w);const j=new Ie.y(function je(I,w,y=Me.y){return A=>{Qe(w,()=>{const{length:F}=I,j=new Array(F);let $=F,ee=F;for(let We=0;We<F;We++)Qe(w,()=>{const Bt=(0,ve.D)(I[We],w);let Mn=!1;Bt.subscribe((0,ne.x)(A,Xt=>{j[We]=Xt,Mn||(Mn=!0,ee--),ee||A.next(y(j.slice()))},()=>{--$||A.complete()}))},A)},A)}}(A,w,F?$=>(0,ue.n)(F,$):Me.y));return y?j.pipe((0,Te.Z)(y)):j}(I.map(w=>w.pipe((0,Lt.q)(1),(0,on.O)(Qr)))).pipe((0,Tt.R)((w,y)=>{let A=!1;return y.reduce((F,j,$)=>F!==Qr?F:(j===Qr&&(A=!0),A||!1!==j&&$!==y.length-1&&!ri(j)?F:j),w)},Qr),(0,Re.h)(w=>w!==Qr),(0,nt.U)(w=>ri(w)?w:!0===w),(0,Lt.q)(1)))}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bs,this.attachRef=null}}class bs{constructor(){this.contexts=new Map}onChildOutletCreated(w,y){const A=this.getOrCreateContext(w);A.outlet=y,this.contexts.set(w,A)}onChildOutletDestroyed(w){const y=this.getContext(w);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let y=this.getContext(w);return y||(y=new js,this.contexts.set(w,y)),y}getContext(w){return this.contexts.get(w)||null}}let Is=(()=>{class I{constructor(y,A,F,j,$){this.parentContexts=y,this.location=A,this.resolver=F,this.changeDetector=$,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=j||It,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const $=(A=A||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),ee=this.parentContexts.getOrCreateContext(this.name).children,We=new Ri(y,ee,this.location.injector);this.activated=this.location.createComponent($,this.location.length,We),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(y){return new(y||I)(p.Y36(bs),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},I.\u0275dir=p.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Ri{constructor(w,y,A){this.route=w,this.childContexts=y,this.parent=A}get(w,y){return w===sn?this.route:w===bs?this.childContexts:this.parent.get(w,y)}}let Ni=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275cmp=p.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,A){1&y&&p._UZ(0,"router-outlet")},directives:[Is],encapsulation:2}),I})();function Jr(I,w=""){for(let y=0;y<I.length;y++){const A=I[y];mo(A,nr(w,A))}}function mo(I,w){I.children&&Jr(I.children,w)}function nr(I,w){return w?I||w.path?I&&!w.path?`${I}/`:!I&&w.path?w.path:`${I}/${w.path}`:"":I}function P(I){const w=I.children&&I.children.map(P),y=w?Object.assign(Object.assign({},I),{children:w}):Object.assign({},I);return!y.component&&(w||y.loadChildren)&&y.outlet&&y.outlet!==It&&(y.component=Ni),y}function G(I){return I.outlet||It}function O(I,w){const y=I.filter(A=>G(A)===w);return y.push(...I.filter(A=>G(A)!==w)),y}const Q={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function me(I,w,y){var A;if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||y.length>0)?Object.assign({},Q):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const j=(w.matcher||Ai)(y,I,w);if(!j)return Object.assign({},Q);const $={};re(j.posParams,(We,Bt)=>{$[Bt]=We.path});const ee=j.consumed.length>0?Object.assign(Object.assign({},$),j.consumed[j.consumed.length-1].parameters):$;return{matched:!0,consumedSegments:j.consumed,remainingSegments:y.slice(j.consumed.length),parameters:ee,positionalParamSegments:null!==(A=j.posParams)&&void 0!==A?A:{}}}function ze(I,w,y,A,F="corrected"){if(y.length>0&&function mn(I,w,y){return y.some(A=>pn(I,w,A)&&G(A)!==It)}(I,y,A)){const $=new fn(w,function Gt(I,w,y,A){const F={};F[It]=A,A._sourceSegment=I,A._segmentIndexShift=w.length;for(const j of y)if(""===j.path&&G(j)!==It){const $=new fn([],{});$._sourceSegment=I,$._segmentIndexShift=w.length,F[G(j)]=$}return F}(I,w,A,new fn(y,I.children)));return $._sourceSegment=I,$._segmentIndexShift=w.length,{segmentGroup:$,slicedSegments:[]}}if(0===y.length&&function Vn(I,w,y){return y.some(A=>pn(I,w,A))}(I,y,A)){const $=new fn(I.segments,function Ze(I,w,y,A,F,j){const $={};for(const ee of A)if(pn(I,y,ee)&&!F[G(ee)]){const We=new fn([],{});We._sourceSegment=I,We._segmentIndexShift="legacy"===j?I.segments.length:w.length,$[G(ee)]=We}return Object.assign(Object.assign({},F),$)}(I,w,y,A,I.children,F));return $._sourceSegment=I,$._segmentIndexShift=w.length,{segmentGroup:$,slicedSegments:y}}const j=new fn(I.segments,I.children);return j._sourceSegment=I,j._segmentIndexShift=w.length,{segmentGroup:j,slicedSegments:y}}function pn(I,w,y){return(!(I.hasChildren()||w.length>0)||"full"!==y.pathMatch)&&""===y.path}function Cn(I,w,y,A){return!!(G(I)===A||A!==It&&pn(w,y,I))&&("**"===I.path||me(w,I,y).matched)}function lr(I,w,y){return 0===w.length&&!I.children[y]}class jn{constructor(w){this.segmentGroup=w||null}}class gr{constructor(w){this.urlTree=w}}function _i(I){return(0,Ye._)(new jn(I))}function wi(I){return(0,Ye._)(new gr(I))}class hs{constructor(w,y,A,F,j){this.configLoader=y,this.urlSerializer=A,this.urlTree=F,this.config=j,this.allowRedirects=!0,this.ngModule=w.get(p.h0i)}apply(){const w=ze(this.urlTree.root,[],[],this.config).segmentGroup,y=new fn(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,y,It).pipe((0,nt.U)(j=>this.createUrlTree(N(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(He(j=>{if(j instanceof gr)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof jn?this.noMatchError(j):j}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,It).pipe((0,nt.U)(F=>this.createUrlTree(N(F),w.queryParams,w.fragment))).pipe(He(F=>{throw F instanceof jn?this.noMatchError(F):F}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,y,A){const F=w.segments.length>0?new fn([],{[It]:w}):w;return new Sr(F,y,A)}expandSegmentGroup(w,y,A,F){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,y,A).pipe((0,nt.U)(j=>new fn([],j))):this.expandSegment(w,A,y,A.segments,F,!0)}expandChildren(w,y,A){const F=[];for(const j of Object.keys(A.children))"primary"===j?F.unshift(j):F.push(j);return(0,ve.D)(F).pipe(fe(j=>{const $=A.children[j],ee=O(y,j);return this.expandSegmentGroup(w,ee,$,j).pipe((0,nt.U)(We=>({segment:We,outlet:j})))}),(0,Tt.R)((j,$)=>(j[$.outlet]=$.segment,j),{}),function Vt(I,w){const y=arguments.length>=2;return A=>A.pipe(I?(0,Re.h)((F,j)=>I(F,j,A)):Me.y,Ve(1),y?(0,_t.d)(w):(0,lt.T)(()=>new at.K))}())}expandSegment(w,y,A,F,j,$){return(0,ve.D)(A).pipe(fe(ee=>this.expandSegmentAgainstRoute(w,y,A,ee,F,j,$).pipe(He(Bt=>{if(Bt instanceof jn)return(0,Pe.of)(null);throw Bt}))),(0,rn.P)(ee=>!!ee),He((ee,We)=>{if(ee instanceof at.K||"EmptyError"===ee.name)return lr(y,F,j)?(0,Pe.of)(new fn([],{})):_i(y);throw ee}))}expandSegmentAgainstRoute(w,y,A,F,j,$,ee){return Cn(F,y,j,$)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(w,y,F,j,$):ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,y,A,F,j,$):_i(y):_i(y)}expandSegmentAgainstRouteUsingRedirect(w,y,A,F,j,$){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,F,$):this.expandRegularSegmentAgainstRouteUsingRedirect(w,y,A,F,j,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,y,A,F){const j=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?wi(j):this.lineralizeSegments(A,j).pipe((0,te.z)($=>{const ee=new fn($,{});return this.expandSegment(w,ee,y,$,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,y,A,F,j,$){const{matched:ee,consumedSegments:We,remainingSegments:Bt,positionalParamSegments:Mn}=me(y,F,j);if(!ee)return _i(y);const Xt=this.applyRedirectCommands(We,F.redirectTo,Mn);return F.redirectTo.startsWith("/")?wi(Xt):this.lineralizeSegments(F,Xt).pipe((0,te.z)(rr=>this.expandSegment(w,y,A,rr.concat(Bt),$,!1)))}matchSegmentAgainstRoute(w,y,A,F,j){if("**"===A.path)return A.loadChildren?(A._loadedConfig?(0,Pe.of)(A._loadedConfig):this.configLoader.load(w.injector,A)).pipe((0,nt.U)(Xt=>(A._loadedConfig=Xt,new fn(F,{})))):(0,Pe.of)(new fn(F,{}));const{matched:$,consumedSegments:ee,remainingSegments:We}=me(y,A,F);return $?this.getChildConfig(w,A,F).pipe((0,te.z)(Mn=>{const Xt=Mn.module,rr=Mn.routes,{segmentGroup:cr,slicedSegments:Gi}=ze(y,ee,We,rr),zs=new fn(cr.segments,cr.children);if(0===Gi.length&&zs.hasChildren())return this.expandChildren(Xt,rr,zs).pipe((0,nt.U)(ra=>new fn(ee,ra)));if(0===rr.length&&0===Gi.length)return(0,Pe.of)(new fn(ee,{}));const Go=G(A)===j;return this.expandSegment(Xt,zs,rr,Gi,Go?It:j,!0).pipe((0,nt.U)(Vr=>new fn(ee.concat(Vr.segments),Vr.children)))})):_i(y)}getChildConfig(w,y,A){return y.children?(0,Pe.of)(new Ns(y.children,w)):y.loadChildren?void 0!==y._loadedConfig?(0,Pe.of)(y._loadedConfig):this.runCanLoadGuards(w.injector,y,A).pipe((0,te.z)(F=>F?this.configLoader.load(w.injector,y).pipe((0,nt.U)(j=>(y._loadedConfig=j,j))):function ii(I){return(0,Ye._)(dr(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))}(y))):(0,Pe.of)(new Ns([],w))}runCanLoadGuards(w,y,A){const F=y.canLoad;if(!F||0===F.length)return(0,Pe.of)(!0);const j=F.map($=>{const ee=w.get($);let We;if(function Es(I){return I&&Qi(I.canLoad)}(ee))We=ee.canLoad(y,A);else{if(!Qi(ee))throw new Error("Invalid CanLoad guard");We=ee(y,A)}return Oe(We)});return(0,Pe.of)(j).pipe(pr(),(0,en.b)($=>{if(!ri($))return;const ee=dr(`Redirecting to "${this.urlSerializer.serialize($)}"`);throw ee.url=$,ee}),(0,nt.U)($=>!0===$))}lineralizeSegments(w,y){let A=[],F=y.root;for(;;){if(A=A.concat(F.segments),0===F.numberOfChildren)return(0,Pe.of)(A);if(F.numberOfChildren>1||!F.children[It])return(0,Ye._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));F=F.children[It]}}applyRedirectCommands(w,y,A){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),w,A)}applyRedirectCreatreUrlTree(w,y,A,F){const j=this.createSegmentGroup(w,y.root,A,F);return new Sr(j,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(w,y){const A={};return re(w,(F,j)=>{if("string"==typeof F&&F.startsWith(":")){const ee=F.substring(1);A[j]=y[ee]}else A[j]=F}),A}createSegmentGroup(w,y,A,F){const j=this.createSegments(w,y.segments,A,F);let $={};return re(y.children,(ee,We)=>{$[We]=this.createSegmentGroup(w,ee,A,F)}),new fn(j,$)}createSegments(w,y,A,F){return y.map(j=>j.path.startsWith(":")?this.findPosParam(w,j,F):this.findOrReturn(j,A))}findPosParam(w,y,A){const F=A[y.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${w}'. Cannot find '${y.path}'.`);return F}findOrReturn(w,y){let A=0;for(const F of y){if(F.path===w.path)return y.splice(A),F;A++}return w}}function N(I){const w={};for(const A of Object.keys(I.children)){const j=N(I.children[A]);(j.segments.length>0||j.hasChildren())&&(w[A]=j)}return function to(I){if(1===I.numberOfChildren&&I.children[It]){const w=I.children[It];return new fn(I.segments.concat(w.segments),w.children)}return I}(new fn(I.segments,w))}class S{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class q{constructor(w,y){this.component=w,this.route=y}}function he(I,w,y){const A=I._root;return ui(A,w?w._root:null,y,[A.value])}function Nn(I,w,y){const A=function Rn(I){if(!I)return null;for(let w=I.parent;w;w=w.parent){const y=w.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(w);return(A?A.module.injector:y).get(I)}function ui(I,w,y,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const j=X(w);return I.children.forEach($=>{(function ki(I,w,y,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const j=I.value,$=w?w.value:null,ee=y?y.getContext(I.value.outlet):null;if($&&j.routeConfig===$.routeConfig){const We=function li(I,w,y){if("function"==typeof y)return y(I,w);switch(y){case"pathParamsChange":return!xr(I.url,w.url);case"pathParamsOrQueryParamsChange":return!xr(I.url,w.url)||!Hn(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bs(I,w)||!Hn(I.queryParams,w.queryParams);default:return!Bs(I,w)}}($,j,j.routeConfig.runGuardsAndResolvers);We?F.canActivateChecks.push(new S(A)):(j.data=$.data,j._resolvedData=$._resolvedData),ui(I,w,j.component?ee?ee.children:null:y,A,F),We&&ee&&ee.outlet&&ee.outlet.isActivated&&F.canDeactivateChecks.push(new q(ee.outlet.component,$))}else $&&fs(w,ee,F),F.canActivateChecks.push(new S(A)),ui(I,null,j.component?ee?ee.children:null:y,A,F)})($,j[$.value.outlet],y,A.concat([$.value]),F),delete j[$.value.outlet]}),re(j,($,ee)=>fs($,y.getContext(ee),F)),F}function fs(I,w,y){const A=X(I),F=I.value;re(A,(j,$)=>{fs(j,F.component?w?w.children.getContext($):null:w,y)}),y.canDeactivateChecks.push(new q(F.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,F))}class Hs{}function Fi(I){return new Ie.y(w=>w.error(I))}class xo{constructor(w,y,A,F,j,$){this.rootComponentType=w,this.config=y,this.urlTree=A,this.url=F,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=$}recognize(){const w=ze(this.urlTree.root,[],[],this.config.filter($=>void 0===$.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,w,It);if(null===y)return null;const A=new Zr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new ae(A,y),j=new Dr(this.url,F);return this.inheritParamsAndData(j._root),j}inheritParamsAndData(w){const y=w.value,A=An(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),w.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(w,y,A){return 0===y.segments.length&&y.hasChildren()?this.processChildren(w,y):this.processSegment(w,y,y.segments,A)}processChildren(w,y){const A=[];for(const j of Object.keys(y.children)){const $=y.children[j],ee=O(w,j),We=this.processSegmentGroup(ee,$,j);if(null===We)return null;A.push(...We)}const F=Mo(A);return function Pr(I){I.sort((w,y)=>w.value.outlet===It?-1:y.value.outlet===It?1:w.value.outlet.localeCompare(y.value.outlet))}(F),F}processSegment(w,y,A,F){for(const j of w){const $=this.processSegmentAgainstRoute(j,y,A,F);if(null!==$)return $}return lr(y,A,F)?[]:null}processSegmentAgainstRoute(w,y,A,F){if(w.redirectTo||!Cn(w,y,A,F))return null;let j,$=[],ee=[];if("**"===w.path){const cr=A.length>0?Ee(A).parameters:{};j=new Zr(A,cr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_o(w),G(w),w.component,w,ta(y),vo(y)+A.length,ks(w))}else{const cr=me(y,w,A);if(!cr.matched)return null;$=cr.consumedSegments,ee=cr.remainingSegments,j=new Zr($,cr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_o(w),G(w),w.component,w,ta(y),vo(y)+$.length,ks(w))}const We=function Xo(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(w),{segmentGroup:Bt,slicedSegments:Mn}=ze(y,$,ee,We.filter(cr=>void 0===cr.redirectTo),this.relativeLinkResolution);if(0===Mn.length&&Bt.hasChildren()){const cr=this.processChildren(We,Bt);return null===cr?null:[new ae(j,cr)]}if(0===We.length&&0===Mn.length)return[new ae(j,[])];const Xt=G(w)===F,rr=this.processSegment(We,Bt,Mn,Xt?It:F);return null===rr?null:[new ae(j,rr)]}}function Uo(I){const w=I.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Mo(I){const w=[],y=new Set;for(const A of I){if(!Uo(A)){w.push(A);continue}const F=w.find(j=>A.value.routeConfig===j.value.routeConfig);void 0!==F?(F.children.push(...A.children),y.add(F)):w.push(A)}for(const A of y){const F=Mo(A.children);w.push(new ae(A.value,F))}return w.filter(A=>!y.has(A))}function ta(I){let w=I;for(;w._sourceSegment;)w=w._sourceSegment;return w}function vo(I){let w=I,y=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,y+=w._segmentIndexShift?w._segmentIndexShift:0;return y-1}function _o(I){return I.data||{}}function ks(I){return I.resolve||{}}function Fs(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function $s(I){return(0,Ht.w)(w=>{const y=I(w);return y?(0,ve.D)(y).pipe((0,nt.U)(()=>w)):(0,Pe.of)(w)})}class Rr extends class io{shouldDetach(w){return!1}store(w,y){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,y){return w.routeConfig===y.routeConfig}}{}const Bo=new p.OlP("ROUTES");class Va{constructor(w,y,A,F){this.injector=w,this.compiler=y,this.onLoadStartListener=A,this.onLoadEndListener=F}load(w,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const F=this.loadModuleFactory(y.loadChildren).pipe((0,nt.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(y);const $=j.create(w);return new Ns(_e($.injector.get(Bo,void 0,p.XFs.Self|p.XFs.Optional)).map(P),$)}),He(j=>{throw y._loader$=void 0,j}));return y._loader$=new de(F,()=>new k.x).pipe(Ct()),y._loader$}loadModuleFactory(w){return Oe(w()).pipe((0,te.z)(y=>y instanceof p.YKP?(0,Pe.of)(y):(0,ve.D)(this.compiler.compileModuleAsync(y))))}}class ya{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,y){return w}}function Ba(I){throw I}function jo(I,w,y){return w.parse("/")}function so(I,w){return(0,Pe.of)(null)}const Ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class I{constructor(y,A,F,j,$,ee,We){this.rootComponentType=y,this.urlSerializer=A,this.rootContexts=F,this.location=j,this.config=We,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new k.x,this.errorHandler=Ba,this.malformedUriErrorHandler=jo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:so,afterPreactivation:so},this.urlHandlingStrategy=new ya,this.routeReuseStrategy=new Rr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=$.get(p.h0i),this.console=$.get(p.c2e);const Xt=$.get(p.R0b);this.isNgZoneEnabled=Xt instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(We),this.currentUrlTree=function ut(){return new Sr(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Va($,ee,rr=>this.triggerEvent(new zt(rr)),rr=>this.triggerEvent(new Br(rr))),this.routerState=Ne(this.currentUrlTree,this.rootComponentType),this.transitions=new Y({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const A=this.events;return y.pipe((0,Re.h)(F=>0!==F.id),(0,nt.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,Ht.w)(F=>{let j=!1,$=!1;return(0,Pe.of)(F).pipe((0,en.b)(ee=>{this.currentNavigation={id:ee.id,initialUrl:ee.currentRawUrl,extractedUrl:ee.extractedUrl,trigger:ee.source,extras:ee.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ht.w)(ee=>{const We=this.browserUrlTree.toString(),Bt=!this.navigated||ee.extractedUrl.toString()!==We||We!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(ee.rawUrl))return Ho(ee.source)&&(this.browserUrlTree=ee.extractedUrl),(0,Pe.of)(ee).pipe((0,Ht.w)(Xt=>{const rr=this.transitions.getValue();return A.next(new sr(Xt.id,this.serializeUrl(Xt.extractedUrl),Xt.source,Xt.restoredState)),rr!==this.transitions.getValue()?Z.E:Promise.resolve(Xt)}),function M(I,w,y,A){return(0,Ht.w)(F=>function Ji(I,w,y,A,F){return new hs(I,w,y,A,F).apply()}(I,w,y,F.extractedUrl,A).pipe((0,nt.U)(j=>Object.assign(Object.assign({},F),{urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,en.b)(Xt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Xt.urlAfterRedirects})}),function wo(I,w,y,A,F){return(0,te.z)(j=>function no(I,w,y,A,F="emptyOnly",j="legacy"){try{const $=new xo(I,w,y,A,F,j).recognize();return null===$?Fi(new Hs):(0,Pe.of)($)}catch($){return Fi($)}}(I,w,j.urlAfterRedirects,y(j.urlAfterRedirects),A,F).pipe((0,nt.U)($=>Object.assign(Object.assign({},j),{targetSnapshot:$}))))}(this.rootComponentType,this.config,Xt=>this.serializeUrl(Xt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,en.b)(Xt=>{if("eager"===this.urlUpdateStrategy){if(!Xt.extras.skipLocationChange){const cr=this.urlHandlingStrategy.merge(Xt.urlAfterRedirects,Xt.rawUrl);this.setBrowserUrl(cr,Xt)}this.browserUrlTree=Xt.urlAfterRedirects}const rr=new or(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);A.next(rr)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:rr,extractedUrl:cr,source:Gi,restoredState:zs,extras:Go}=ee,Ha=new sr(rr,this.serializeUrl(cr),Gi,zs);A.next(Ha);const Vr=Ne(cr,this.rootComponentType).snapshot;return(0,Pe.of)(Object.assign(Object.assign({},ee),{targetSnapshot:Vr,urlAfterRedirects:cr,extras:Object.assign(Object.assign({},Go),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ee.rawUrl,ee.resolve(null),Z.E}),$s(ee=>{const{targetSnapshot:We,id:Bt,extractedUrl:Mn,rawUrl:Xt,extras:{skipLocationChange:rr,replaceUrl:cr}}=ee;return this.hooks.beforePreactivation(We,{navigationId:Bt,appliedUrlTree:Mn,rawUrlTree:Xt,skipLocationChange:!!rr,replaceUrl:!!cr})}),(0,en.b)(ee=>{const We=new Tn(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot);this.triggerEvent(We)}),(0,nt.U)(ee=>Object.assign(Object.assign({},ee),{guards:he(ee.targetSnapshot,ee.currentSnapshot,this.rootContexts)})),function yo(I,w){return(0,te.z)(y=>{const{targetSnapshot:A,currentSnapshot:F,guards:{canActivateChecks:j,canDeactivateChecks:$}}=y;return 0===$.length&&0===j.length?(0,Pe.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function Fa(I,w,y,A){return(0,ve.D)(I).pipe((0,te.z)(F=>function So(I,w,y,A,F){const j=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,Pe.of)(!0);const $=j.map(ee=>{const We=Nn(ee,w,F);let Bt;if(function Yr(I){return I&&Qi(I.canDeactivate)}(We))Bt=Oe(We.canDeactivate(I,w,y,A));else{if(!Qi(We))throw new Error("Invalid CanDeactivate guard");Bt=Oe(We(I,w,y,A))}return Bt.pipe((0,rn.P)())});return(0,Pe.of)($).pipe(pr())}(F.component,F.route,y,w,A)),(0,rn.P)(F=>!0!==F,!0))}($,A,F,I).pipe((0,te.z)(ee=>ee&&function Xs(I){return"boolean"==typeof I}(ee)?function La(I,w,y,A){return(0,ve.D)(w).pipe(fe(F=>(0,Xe.z)(function Cs(I,w){return null!==I&&w&&w(new zr(I)),(0,Pe.of)(!0)}(F.route.parent,A),function ku(I,w){return null!==I&&w&&w(new tn(I)),(0,Pe.of)(!0)}(F.route,A),function Hi(I,w,y){const A=w[w.length-1],j=w.slice(0,w.length-1).reverse().map($=>function ct(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}($)).filter($=>null!==$).map($=>$e(()=>{const ee=$.guards.map(We=>{const Bt=Nn(We,$.node,y);let Mn;if(function eo(I){return I&&Qi(I.canActivateChild)}(Bt))Mn=Oe(Bt.canActivateChild(A,I));else{if(!Qi(Bt))throw new Error("Invalid CanActivateChild guard");Mn=Oe(Bt(A,I))}return Mn.pipe((0,rn.P)())});return(0,Pe.of)(ee).pipe(pr())}));return(0,Pe.of)(j).pipe(pr())}(I,F.path,y),function ci(I,w,y){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Pe.of)(!0);const F=A.map(j=>$e(()=>{const $=Nn(j,w,y);let ee;if(function Gr(I){return I&&Qi(I.canActivate)}($))ee=Oe($.canActivate(w,I));else{if(!Qi($))throw new Error("Invalid CanActivate guard");ee=Oe($(w,I))}return ee.pipe((0,rn.P)())}));return(0,Pe.of)(F).pipe(pr())}(I,F.route,y))),(0,rn.P)(F=>!0!==F,!0))}(A,j,I,w):(0,Pe.of)(ee)),(0,nt.U)(ee=>Object.assign(Object.assign({},y),{guardsResult:ee})))})}(this.ngModule.injector,ee=>this.triggerEvent(ee)),(0,en.b)(ee=>{if(ri(ee.guardsResult)){const Bt=dr(`Redirecting to "${this.serializeUrl(ee.guardsResult)}"`);throw Bt.url=ee.guardsResult,Bt}const We=new Nt(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot,!!ee.guardsResult);this.triggerEvent(We)}),(0,Re.h)(ee=>!!ee.guardsResult||(this.restoreHistory(ee),this.cancelNavigationTransition(ee,""),!1)),$s(ee=>{if(ee.guards.canActivateChecks.length)return(0,Pe.of)(ee).pipe((0,en.b)(We=>{const Bt=new qt(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(Bt)}),(0,Ht.w)(We=>{let Bt=!1;return(0,Pe.of)(We).pipe(function ro(I,w){return(0,te.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:F}}=y;if(!F.length)return(0,Pe.of)(y);let j=0;return(0,ve.D)(F).pipe(fe($=>function Ds(I,w,y,A){return function na(I,w,y,A){const F=Fs(I);if(0===F.length)return(0,Pe.of)({});const j={};return(0,ve.D)(F).pipe((0,te.z)($=>function ma(I,w,y,A){const F=Nn(I,w,A);return Oe(F.resolve?F.resolve(w,y):F(w,y))}(I[$],w,y,A).pipe((0,en.b)(ee=>{j[$]=ee}))),Ve(1),(0,te.z)(()=>Fs(j).length===F.length?(0,Pe.of)(j):Z.E))}(I._resolve,I,w,A).pipe((0,nt.U)(j=>(I._resolvedData=j,I.data=Object.assign(Object.assign({},I.data),An(I,y).resolve),null)))}($.route,A,I,w)),(0,en.b)(()=>j++),Ve(1),(0,te.z)($=>j===F.length?(0,Pe.of)(y):Z.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,en.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(We),this.cancelNavigationTransition(We,"At least one route resolver didn't emit any value."))}}))}),(0,en.b)(We=>{const Bt=new vn(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(Bt)}))}),$s(ee=>{const{targetSnapshot:We,id:Bt,extractedUrl:Mn,rawUrl:Xt,extras:{skipLocationChange:rr,replaceUrl:cr}}=ee;return this.hooks.afterPreactivation(We,{navigationId:Bt,appliedUrlTree:Mn,rawUrlTree:Xt,skipLocationChange:!!rr,replaceUrl:!!cr})}),(0,nt.U)(ee=>{const We=function us(I,w,y){const A=Yn(I,w._root,y?y._root:void 0);return new De(A,w)}(this.routeReuseStrategy,ee.targetSnapshot,ee.currentRouterState);return Object.assign(Object.assign({},ee),{targetRouterState:We})}),(0,en.b)(ee=>{this.currentUrlTree=ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl),this.routerState=ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ee),this.browserUrlTree=ee.urlAfterRedirects)}),((I,w,y)=>(0,nt.U)(A=>(new Pi(w,A.targetRouterState,A.currentRouterState,y).activate(I),A)))(this.rootContexts,this.routeReuseStrategy,ee=>this.triggerEvent(ee)),(0,en.b)({next(){j=!0},complete(){j=!0}}),function Ut(I){return(0,vt.e)((w,y)=>{try{w.subscribe(y)}finally{y.add(I)}})}(()=>{var ee;j||$||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.id)===F.id&&(this.currentNavigation=null)}),He(ee=>{if($=!0,function hn(I){return I&&I[ar]}(ee)){const We=ri(ee.url);We||(this.navigated=!0,this.restoreHistory(F,!0));const Bt=new Jn(F.id,this.serializeUrl(F.extractedUrl),ee.message);A.next(Bt),We?setTimeout(()=>{const Mn=this.urlHandlingStrategy.merge(ee.url,this.rawUrlTree),Xt={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ho(F.source)};this.scheduleNavigation(Mn,"imperative",null,Xt,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const We=new Xn(F.id,this.serializeUrl(F.extractedUrl),ee);A.next(We);try{F.resolve(this.errorHandler(ee))}catch(Bt){F.reject(Bt)}}return Z.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{var F;const j={replaceUrl:!0},$=(null===(F=y.state)||void 0===F?void 0:F.navigationId)?y.state:null;if($){const We=Object.assign({},$);delete We.navigationId,delete We.\u0275routerPageId,0!==Object.keys(We).length&&(j.state=We)}const ee=this.parseUrl(y.url);this.scheduleNavigation(ee,A,$,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){Jr(y),this.config=y.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,A={}){const{relativeTo:F,queryParams:j,fragment:$,queryParamsHandling:ee,preserveFragment:We}=A,Bt=F||this.routerState.root,Mn=We?this.currentUrlTree.fragment:$;let Xt=null;switch(ee){case"merge":Xt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),j);break;case"preserve":Xt=this.currentUrlTree.queryParams;break;default:Xt=j||null}return null!==Xt&&(Xt=this.removeEmptyProps(Xt)),function Ae(I,w,y,A,F){if(0===y.length)return tt(w.root,w.root,w.root,A,F);const j=function Bn(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Ft(!0,0,I);let w=0,y=!1;const A=I.reduce((F,j,$)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ee={};return re(j.outlets,(We,Bt)=>{ee[Bt]="string"==typeof We?We.split("/"):We}),[...F,{outlets:ee}]}if(j.segmentPath)return[...F,j.segmentPath]}return"string"!=typeof j?[...F,j]:0===$?(j.split("/").forEach((ee,We)=>{0==We&&"."===ee||(0==We&&""===ee?y=!0:".."===ee?w++:""!=ee&&F.push(ee))}),F):[...F,j]},[]);return new Ft(y,w,A)}(y);if(j.toRoot())return tt(w.root,w.root,new fn([],{}),A,F);const $=function Dn(I,w,y){if(I.isAbsolute)return new wr(w.root,!0,0);if(-1===y.snapshot._lastPathIndex){const j=y.snapshot._urlSegment;return new wr(j,j===w.root,0)}const A=ye(I.commands[0])?0:1;return function Oi(I,w,y){let A=I,F=w,j=y;for(;j>F;){if(j-=F,A=A.parent,!A)throw new Error("Invalid number of '../'");F=A.segments.length}return new wr(A,!1,F-j)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+A,I.numberOfDoubleDots)}(j,w,I),ee=$.processChildren?Rs($.segmentGroup,$.index,j.commands):kr($.segmentGroup,$.index,j.commands);return tt(w.root,$.segmentGroup,ee,A,F)}(Bt,this.currentUrlTree,y,Xt,null!=Mn?Mn:null)}navigateByUrl(y,A={skipLocationChange:!1}){const F=ri(y)?y:this.parseUrl(y),j=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,A)}navigate(y,A={skipLocationChange:!1}){return function Oo(I){for(let w=0;w<I.length;w++){const y=I[w];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${w}`)}}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(F){A=this.malformedUriErrorHandler(F,this.urlSerializer,y)}return A}isActive(y,A){let F;if(F=!0===A?Object.assign({},Ts):!1===A?Object.assign({},Gs):A,ri(y))return $t(this.currentUrlTree,y,F);const j=this.parseUrl(y);return $t(this.currentUrlTree,j,F)}removeEmptyProps(y){return Object.keys(y).reduce((A,F)=>{const j=y[F];return null!=j&&(A[F]=j),A},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Ln(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,A,F,j,$){var ee,We;if(this.disposed)return Promise.resolve(!1);let Bt,Mn,Xt;$?(Bt=$.resolve,Mn=$.reject,Xt=$.promise):Xt=new Promise((Gi,zs)=>{Bt=Gi,Mn=zs});const rr=++this.navigationId;let cr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),cr=F&&F.\u0275routerPageId?F.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?null!==(ee=this.browserPageId)&&void 0!==ee?ee:0:(null!==(We=this.browserPageId)&&void 0!==We?We:0)+1):cr=0,this.setTransition({id:rr,targetPageId:cr,source:A,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:j,resolve:Bt,reject:Mn,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(Gi=>Promise.reject(Gi))}setBrowserUrl(y,A){const F=this.urlSerializer.serialize(y),j=Object.assign(Object.assign({},A.extras.state),this.generateNgRouterState(A.id,A.targetPageId));this.location.isCurrentPathEqualTo(F)||A.extras.replaceUrl?this.location.replaceState(F,"",j):this.location.go(F,"",j)}restoreHistory(y,A=!1){var F,j;if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===$?this.currentUrlTree===(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)&&0===$&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo($)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,A){const F=new Jn(y.id,this.serializeUrl(y.extractedUrl),A);this.triggerEvent(F),y.resolve(!1)}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}}return I.\u0275fac=function(y){p.$Z()},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();function Ho(I){return"imperative"!==I}let Ss=(()=>{class I{constructor(y,A,F){this.router=y,this.route=A,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new k.x,this.subscription=y.events.subscribe(j=>{j instanceof Ln&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,A,F,j,$){if(0!==y||A||F||j||$||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ee={skipLocationChange:Tr(this.skipLocationChange),replaceUrl:Tr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ee),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tr(this.preserveFragment)})}}return I.\u0275fac=function(y){return new(y||I)(p.Y36(Un),p.Y36(sn),p.Y36(Fn.S$))},I.\u0275dir=p.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,A){1&y&&p.NdJ("click",function(j){return A.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&y&&p.uIk("target",A.target)("href",A.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),I})();function Tr(I){return""===I||!!I}class Po{}class $o{preload(w,y){return(0,Pe.of)(null)}}let ns=(()=>{class I{constructor(y,A,F,j){this.router=y,this.injector=F,this.preloadingStrategy=j,this.loader=new Va(F,A,We=>y.triggerEvent(new zt(We)),We=>y.triggerEvent(new Br(We)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Re.h)(y=>y instanceof Ln),fe(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(p.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const F=[];for(const j of A)if(j.loadChildren&&!j.canLoad&&j._loadedConfig){const $=j._loadedConfig;F.push(this.processRoutes($.module,$.routes))}else j.loadChildren&&!j.canLoad?F.push(this.preloadConfig(y,j)):j.children&&F.push(this.processRoutes(y,j.children));return(0,ve.D)(F).pipe((0,dn.J)(),(0,nt.U)(j=>{}))}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>(A._loadedConfig?(0,Pe.of)(A._loadedConfig):this.loader.load(y.injector,A)).pipe((0,te.z)(j=>(A._loadedConfig=j,this.processRoutes(j.module,j.routes)))))}}return I.\u0275fac=function(y){return new(y||I)(p.LFG(Un),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Po))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})(),Xi=(()=>{class I{constructor(y,A,F={}){this.router=y,this.viewportScroller=A,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ln&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof qn&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.router.triggerEvent(new qn(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(y){p.$Z()},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();const $i=new p.OlP("ROUTER_CONFIGURATION"),b=new p.OlP("ROUTER_FORROOT_GUARD"),C=[Fn.Ye,{provide:Mr,useClass:Ui},{provide:Un,useFactory:function si(I,w,y,A,F,j,$={},ee,We){const Bt=new Un(null,I,w,y,A,F,_e(j));return ee&&(Bt.urlHandlingStrategy=ee),We&&(Bt.routeReuseStrategy=We),function oo(I,w){I.errorHandler&&(w.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(w.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(w.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(w.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(w.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(w.canceledNavigationResolution=I.canceledNavigationResolution)}($,Bt),$.enableTracing&&Bt.events.subscribe(Mn=>{var Xt,rr;null===(Xt=console.group)||void 0===Xt||Xt.call(console,`Router Event: ${Mn.constructor.name}`),console.log(Mn.toString()),console.log(Mn),null===(rr=console.groupEnd)||void 0===rr||rr.call(console)}),Bt},deps:[Mr,bs,Fn.Ye,p.zs3,p.Sil,Bo,$i,[class Ua{},new p.FiY],[class Li{},new p.FiY]]},bs,{provide:sn,useFactory:function oi(I){return I.routerState.root},deps:[Un]},ns,$o,class ja{preload(w,y){return y().pipe(He(()=>(0,Pe.of)(null)))}},{provide:$i,useValue:{enableTracing:!1}}];function H(){return new p.PXZ("Router",Un)}let le=(()=>{class I{constructor(y,A){}static forRoot(y,A){return{ngModule:I,providers:[C,di(y),{provide:b,useFactory:mr,deps:[[Un,new p.FiY,new p.tp0]]},{provide:$i,useValue:A||{}},{provide:Fn.S$,useFactory:kt,deps:[Fn.lw,[new p.tBr(Fn.mr),new p.FiY],$i]},{provide:Xi,useFactory:st,deps:[Un,Fn.EM,$i]},{provide:Po,useExisting:A&&A.preloadingStrategy?A.preloadingStrategy:$o},{provide:p.PXZ,multi:!0,useFactory:H},[Io,{provide:p.ip1,multi:!0,useFactory:Co,deps:[Io]},{provide:Do,useFactory:va,deps:[Io]},{provide:p.tb,multi:!0,useExisting:Do}]]}}static forChild(y){return{ngModule:I,providers:[di(y)]}}}return I.\u0275fac=function(y){return new(y||I)(p.LFG(b,8),p.LFG(Un,8))},I.\u0275mod=p.oAB({type:I}),I.\u0275inj=p.cJS({}),I})();function st(I,w,y){return y.scrollOffset&&w.setOffset(y.scrollOffset),new Xi(I,w,y)}function kt(I,w,y={}){return y.useHash?new Fn.Do(I,w):new Fn.b0(I,w)}function mr(I){return"guarded"}function di(I){return[{provide:p.deG,multi:!0,useValue:I},{provide:Bo,multi:!0,useValue:I}]}let Io=(()=>{class I{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new k.x}appInitializer(){return this.injector.get(Fn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let A=null;const F=new Promise(ee=>A=ee),j=this.injector.get(Un),$=this.injector.get($i);return"disabled"===$.initialNavigation?(j.setUpLocationChangeListener(),A(!0)):"enabled"===$.initialNavigation||"enabledBlocking"===$.initialNavigation?(j.hooks.afterPreactivation=()=>this.initNavigation?(0,Pe.of)(null):(this.initNavigation=!0,A(!0),this.resultOfPreactivationDone),j.initialNavigation()):A(!0),F})}bootstrapListener(y){const A=this.injector.get($i),F=this.injector.get(ns),j=this.injector.get(Xi),$=this.injector.get(Un),ee=this.injector.get(p.z2F);y===ee.components[0]&&(("enabledNonBlocking"===A.initialNavigation||void 0===A.initialNavigation)&&$.initialNavigation(),F.setUpPreloading(),j.init(),$.resetRootComponentType(ee.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(y){return new(y||I)(p.LFG(p.zs3))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();function Co(I){return I.appInitializer.bind(I)}function va(I){return I.bootstrapListener.bind(I)}const Do=new p.OlP("Router Initializer")},3942:(bt,Le,L)=>{"use strict";L.d(Le,{Z:()=>Qe});var p=L(2090),k=L(4859),Y=L(9681),Ie=L(1877);class we{constructor($e,Je){this._delegate=$e,this.firebase=Je,(0,Y._addComponent)($e,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService($e,Je=Y._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider($e);return!Ct.isInitialized()&&"EXPLICIT"===(null===(vt=Ct.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:Je})}_removeServiceInstance($e,Je=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Je)}_addComponent($e){(0,Y._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,Y._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function ke(){const pt=function Te(pt){const $e={},Je={__esModule:!0,initializeApp:function de(Xe,Z={}){const He=Y.initializeApp(Xe,Z);if((0,p.r3)($e,He.name))return $e[He.name];const te=new pt(He,Je);return $e[He.name]=te,te},app:Ct,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Ye(Xe){const Z=Xe.name,He=Z.replace("-compat","");if(Y._registerComponent(Xe)&&"PUBLIC"===Xe.type){const te=(xe=Ct())=>{if("function"!=typeof xe[He])throw Me.create("invalid-app-argument",{appName:Z});return xe[He]()};void 0!==Xe.serviceProps&&(0,p.ZB)(te,Xe.serviceProps),Je[He]=te,pt.prototype[He]=function(...xe){return this._getService.bind(this,Z).apply(this,Xe.multipleInstances?xe:[])}}return"PUBLIC"===Xe.type?Je[He]:null},removeApp:function vt(Xe){delete $e[Xe]},useAsService:function at(Xe,Z){return"serverAuth"===Z?null:Z},modularAPIs:Y}};function Ct(Xe){if(!(0,p.r3)($e,Xe=Xe||Y._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Xe});return $e[Xe]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function Pe(){return Object.keys($e).map(Xe=>$e[Xe])}}),Ct.App=pt,Je}(we);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function $e(Je){(0,p.ZB)(pt,Je)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),pt}(),ne=new Ie.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=ue;!function je(pt){(0,Y.registerVersion)("@firebase/app-compat","0.1.26",pt)}()},9681:(bt,Le,L)=>{"use strict";L.r(Le),L.d(Le,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Jn,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>on,_addOrOverwriteComponent:()=>Tt,_apps:()=>Ht,_clearComponents:()=>Fn,_components:()=>Lt,_getProvider:()=>en,_registerComponent:()=>rn,_removeServiceInstance:()=>dn,deleteApp:()=>Nt,getApp:()=>or,getApps:()=>Tn,initializeApp:()=>Xn,onLog:()=>zt,registerVersion:()=>vn,setLogLevel:()=>Br});var p=L(5861),k=L(4859),Y=L(1877),Ie=L(2090),we=L(8766);class ve{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function Me(re){const Oe=re.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(ut)){const St=ut.getImmediate();return`${St.library}/${St.version}`}return null}).filter(ut=>ut).join(" ")}}const Te="@firebase/app",ue=new Y.Yd("@firebase/app"),Ut="[DEFAULT]",nt={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,Lt=new Map;function on(re,Oe){try{re.container.addComponent(Oe)}catch(ut){ue.debug(`Component ${Oe.name} failed to register with FirebaseApp ${re.name}`,ut)}}function Tt(re,Oe){re.container.addOrOverwriteComponent(Oe)}function rn(re){const Oe=re.name;if(Lt.has(Oe))return ue.debug(`There were multiple attempts to register component ${Oe}.`),!1;Lt.set(Oe,re);for(const ut of Ht.values())on(ut,re);return!0}function en(re,Oe){const ut=re.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),re.container.getProvider(Oe)}function dn(re,Oe,ut=Ut){en(re,Oe).clearInstance(ut)}function Fn(){Lt.clear()}const sr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ln{constructor(Oe,ut,St){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const Jn="9.8.2";function Xn(re,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const ut=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},Oe),St=ut.name;if("string"!=typeof St||!St)throw sr.create("bad-app-name",{appName:String(St)});const Ot=Ht.get(St);if(Ot){if((0,Ie.vZ)(re,Ot.options)&&(0,Ie.vZ)(ut,Ot.config))return Ot;throw sr.create("duplicate-app",{appName:St})}const $t=new k.H0(St);for(const Jt of Lt.values())$t.addComponent(Jt);const $n=new Ln(re,ut,$t);return Ht.set(St,$n),$n}function or(re=Ut){const Oe=Ht.get(re);if(!Oe)throw sr.create("no-app",{appName:re});return Oe}function Tn(){return Array.from(Ht.values())}function Nt(re){return qt.apply(this,arguments)}function qt(){return(qt=(0,p.Z)(function*(re){const Oe=re.name;Ht.has(Oe)&&(Ht.delete(Oe),yield Promise.all(re.container.getProviders().map(ut=>ut.delete())),re.isDeleted=!0)})).apply(this,arguments)}function vn(re,Oe,ut){var St;let Ot=null!==(St=nt[re])&&void 0!==St?St:re;ut&&(Ot+=`-${ut}`);const $t=Ot.match(/\s|\//),$n=Oe.match(/\s|\//);if($t||$n){const Jt=[`Unable to register library "${Ot}" with version "${Oe}":`];return $t&&Jt.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),$t&&$n&&Jt.push("and"),$n&&Jt.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void ue.warn(Jt.join(" "))}rn(new k.wA(`${Ot}-version`,()=>({library:Ot,version:Oe}),"VERSION"))}function zt(re,Oe){if(null!==re&&"function"!=typeof re)throw sr.create("invalid-log-argument");(0,Y.Am)(re,Oe)}function Br(re){(0,Y.Ub)(re)}const tn="firebase-heartbeat-store";let Wn=null;function qn(){return Wn||(Wn=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:(re,Oe)=>{0===Oe&&re.createObjectStore(tn)}}).catch(re=>{throw sr.create("storage-open",{originalErrorMessage:re.message})})),Wn}function wt(){return(wt=(0,p.Z)(function*(re){try{return(yield qn()).transaction(tn).objectStore(tn).get(dr(re))}catch(Oe){throw sr.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function At(re,Oe){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(re,Oe){try{const St=(yield qn()).transaction(tn,"readwrite");return yield St.objectStore(tn).put(Oe,dr(re)),St.done}catch(ut){throw sr.create("storage-set",{originalErrorMessage:ut.message})}})).apply(this,arguments)}function dr(re){return`${re.name}!${re.options.appId}`}class vr{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new _e(ut),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var Oe=this;return(0,p.Z)(function*(){const St=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Hn();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Oe._heartbeatsCache.heartbeats.some($t=>$t.date===Ot))return Oe._heartbeatsCache.heartbeats.push({date:Ot,agent:St}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter($t=>{const $n=new Date($t.date).valueOf();return Date.now()-$n<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,p.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const ut=Hn(),{heartbeatsToSend:St,unsentEntries:Ot}=function ce(re,Oe=1024){const ut=[];let St=re.slice();for(const Ot of re){const $t=ut.find($n=>$n.agent===Ot.agent);if($t){if($t.dates.push(Ot.date),Ee(ut)>Oe){$t.dates.pop();break}}else if(ut.push({agent:Ot.agent,dates:[Ot.date]}),Ee(ut)>Oe){ut.pop();break}St=St.slice(1)}return{heartbeatsToSend:ut,unsentEntries:St}}(Oe._heartbeatsCache.heartbeats),$t=(0,Ie.L)(JSON.stringify({version:2,heartbeats:St}));return Oe._heartbeatsCache.lastSentHeartbeatDate=ut,Ot.length>0?(Oe._heartbeatsCache.heartbeats=Ot,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),$t})()}}function Hn(){return(new Date).toISOString().substring(0,10)}class _e{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,p.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function It(re){return wt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var ut=this;return(0,p.Z)(function*(){var St;if(yield ut._canUseIndexedDBPromise){const $t=yield ut.read();return At(ut.app,{lastSentHeartbeatDate:null!==(St=Oe.lastSentHeartbeatDate)&&void 0!==St?St:$t.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var ut=this;return(0,p.Z)(function*(){var St;if(yield ut._canUseIndexedDBPromise){const $t=yield ut.read();return At(ut.app,{lastSentHeartbeatDate:null!==(St=Oe.lastSentHeartbeatDate)&&void 0!==St?St:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Oe.heartbeats]})}})()}}function Ee(re){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:re})).length}!function it(re){rn(new k.wA("platform-logger",Oe=>new ve(Oe),"PRIVATE")),rn(new k.wA("heartbeat",Oe=>new vr(Oe),"PRIVATE")),vn(Te,"0.7.25",re),vn(Te,"0.7.25","esm2017"),vn("fire-js","")}("")},4859:(bt,Le,L)=>{"use strict";L.d(Le,{H0:()=>Te,wA:()=>Y});var p=L(5861),k=L(2090);class Y{constructor(ue,ne,ge){this.name=ue,this.instanceFactory=ne,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Ie="[DEFAULT]";class we{constructor(ue,ne){this.name=ue,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const ne=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(ne)){const ge=new k.BH;if(this.instancesDeferred.set(ne,ge),this.isInitialized(ne)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:ne});rt&&ge.resolve(rt)}catch(rt){}}return this.instancesDeferred.get(ne).promise}getImmediate(ue){var ne;const ge=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),rt=null!==(ne=null==ue?void 0:ue.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(je){if(rt)return null;throw je}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function Me(ke){return"EAGER"===ke.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(ne){}for(const[ne,ge]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(ne);try{const je=this.getOrInitializeService({instanceIdentifier:rt});ge.resolve(je)}catch(je){}}}}clearInstance(ue=Ie){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,p.Z)(function*(){const ne=Array.from(ue.instances.values());yield Promise.all([...ne.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ne.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Ie){return this.instances.has(ue)}getOptions(ue=Ie){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:ne={}}=ue,ge=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:ge,options:ne});for(const[je,Qe]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(je)&&Qe.resolve(rt);return rt}onInit(ue,ne){var ge;const rt=this.normalizeInstanceIdentifier(ne),je=null!==(ge=this.onInitCallbacks.get(rt))&&void 0!==ge?ge:new Set;je.add(ue),this.onInitCallbacks.set(rt,je);const Qe=this.instances.get(rt);return Qe&&ue(Qe,rt),()=>{je.delete(ue)}}invokeOnInitCallbacks(ue,ne){const ge=this.onInitCallbacks.get(ne);if(ge)for(const rt of ge)try{rt(ue,ne)}catch(je){}}getOrInitializeService({instanceIdentifier:ue,options:ne={}}){let ge=this.instances.get(ue);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=ue,ke===Ie?void 0:ke),options:ne}),this.instances.set(ue,ge),this.instancesOptions.set(ue,ne),this.invokeOnInitCallbacks(ge,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,ge)}catch(rt){}var ke;return ge||null}normalizeInstanceIdentifier(ue=Ie){return this.component?this.component.multipleInstances?ue:Ie:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const ne=this.getProvider(ue.name);if(ne.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);ne.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const ne=new we(ue,this);return this.providers.set(ue,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Le,L)=>{"use strict";L.d(Le,{Am:()=>ke,Ub:()=>Te,Yd:()=>Me,in:()=>k});const p=[];var k=(()=>{return(ue=k||(k={}))[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",k;var ue})();const Y={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},Ie=k.INFO,we={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},ve=(ue,ne,...ge)=>{if(ne<ue.logLevel)return;const rt=(new Date).toISOString(),je=we[ne];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[je](`[${rt}]  ${ue.name}:`,...ge)};class Me{constructor(ne){this.name=ne,this._logLevel=Ie,this._logHandler=ve,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in k))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?Y[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ne),this._logHandler(this,k.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ne),this._logHandler(this,k.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ne),this._logHandler(this,k.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ne),this._logHandler(this,k.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ne),this._logHandler(this,k.ERROR,...ne)}}function Te(ue){p.forEach(ne=>{ne.setLogLevel(ue)})}function ke(ue,ne){for(const ge of p){let rt=null;ne&&ne.level&&(rt=Y[ne.level]),ge.userLogHandler=null===ue?null:(je,Qe,...pt)=>{const $e=pt.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch(vt){return null}}).filter(Je=>Je).join(" ");Qe>=(null!=rt?rt:je.logLevel)&&ue({level:k[Qe].toLowerCase(),message:$e,args:pt,type:je.name})}}}},8766:(bt,Le,L)=>{"use strict";L.d(Le,{Lj:()=>de,X3:()=>Ct});var p=L(5861);let Y,Ie;const Me=new WeakMap,Te=new WeakMap,ke=new WeakMap,ue=new WeakMap,ne=new WeakMap;let je={get(Z,He,te){if(Z instanceof IDBTransaction){if("done"===He)return Te.get(Z);if("objectStoreNames"===He)return Z.objectStoreNames||ke.get(Z);if("store"===He)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Je(Z[He])},set:(Z,He,te)=>(Z[He]=te,!0),has:(Z,He)=>Z instanceof IDBTransaction&&("done"===He||"store"===He)||He in Z};function $e(Z){return"function"==typeof Z?function pt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...He){return Z.apply(vt(this),He),Je(Me.get(this))}:function(...He){return Je(Z.apply(vt(this),He))}:function(He,...te){const xe=Z.call(vt(this),He,...te);return ke.set(xe,He.sort?He.sort():[He]),Je(xe)}}(Z):(Z instanceof IDBTransaction&&function rt(Z){if(Te.has(Z))return;const He=new Promise((te,xe)=>{const fe=()=>{Z.removeEventListener("complete",Re),Z.removeEventListener("error",Ve),Z.removeEventListener("abort",Ve)},Re=()=>{te(),fe()},Ve=()=>{xe(Z.error||new DOMException("AbortError","AbortError")),fe()};Z.addEventListener("complete",Re),Z.addEventListener("error",Ve),Z.addEventListener("abort",Ve)});Te.set(Z,He)}(Z),((Z,He)=>He.some(te=>Z instanceof te))(Z,function we(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,je):Z)}function Je(Z){if(Z instanceof IDBRequest)return function ge(Z){const He=new Promise((te,xe)=>{const fe=()=>{Z.removeEventListener("success",Re),Z.removeEventListener("error",Ve)},Re=()=>{te(Je(Z.result)),fe()},Ve=()=>{xe(Z.error),fe()};Z.addEventListener("success",Re),Z.addEventListener("error",Ve)});return He.then(te=>{te instanceof IDBCursor&&Me.set(te,Z)}).catch(()=>{}),ne.set(He,Z),He}(Z);if(ue.has(Z))return ue.get(Z);const He=$e(Z);return He!==Z&&(ue.set(Z,He),ne.set(He,Z)),He}const vt=Z=>ne.get(Z);function Ct(Z,He,{blocked:te,upgrade:xe,blocking:fe,terminated:Re}={}){const Ve=indexedDB.open(Z,He),lt=Je(Ve);return xe&&Ve.addEventListener("upgradeneeded",_t=>{xe(Je(Ve.result),_t.oldVersion,_t.newVersion,Je(Ve.transaction))}),te&&Ve.addEventListener("blocked",()=>te()),lt.then(_t=>{Re&&_t.addEventListener("close",()=>Re()),fe&&_t.addEventListener("versionchange",()=>fe())}).catch(()=>{}),lt}function de(Z,{blocked:He}={}){const te=indexedDB.deleteDatabase(Z);return He&&te.addEventListener("blocked",()=>He()),Je(te).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],at=new Map;function Xe(Z,He){if(!(Z instanceof IDBDatabase)||He in Z||"string"!=typeof He)return;if(at.get(He))return at.get(He);const te=He.replace(/FromIndex$/,""),xe=He!==te,fe=Ye.includes(te);if(!(te in(xe?IDBIndex:IDBObjectStore).prototype)||!fe&&!Pe.includes(te))return;const Re=function(){var Ve=(0,p.Z)(function*(lt,..._t){const Vt=this.transaction(lt,fe?"readwrite":"readonly");let Ut=Vt.store;return xe&&(Ut=Ut.index(_t.shift())),(yield Promise.all([Ut[te](..._t),fe&&Vt.done]))[0]});return function(_t){return Ve.apply(this,arguments)}}();return at.set(He,Re),Re}!function Qe(Z){je=Z(je)}(Z=>kw(Nw({},Z),{get:(He,te,xe)=>Xe(He,te)||Z.get(He,te,xe),has:(He,te)=>!!Xe(He,te)||Z.has(He,te)}))},5861:(bt,Le,L)=>{"use strict";function p(Y,Ie,we,ve,Me,Te,ke){try{var ue=Y[Te](ke),ne=ue.value}catch(ge){return void we(ge)}ue.done?Ie(ne):Promise.resolve(ne).then(ve,Me)}function k(Y){return function(){var Ie=this,we=arguments;return new Promise(function(ve,Me){var Te=Y.apply(Ie,we);function ke(ne){p(Te,ve,Me,ke,ue,"next",ne)}function ue(ne){p(Te,ve,Me,ke,ue,"throw",ne)}ke(void 0)})}}L.d(Le,{Z:()=>k})}},bt=>{bt(bt.s=8350)}]);